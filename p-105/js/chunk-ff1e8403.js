import{S as Ee,i as Te,s as qe,c as ne,a as oe,m as se,t as W,b as X,d as ae,e as te,a5 as De,D as Se,L as ie,M as fe,f as k,h as J,j as A,k as E,l as T,o as $,p as b,q as M,r as S,u as pe,v as c,B as de,aj as we,z as Y,R as Le,T as Ve,N as me,C as ze,O as Ce,a6 as Be,n as U}from"./chunk-dd975def.js";import{M as Ke,r as Fe,c as Ae}from"./chunk-e0c46928.js";import{m as Me}from"./chunk-65793be5.js";import{m as Re}from"./chunk-ded14b26.js";import{aE as Ge,aF as Ie,aG as Oe,aH as je,aI as He,aJ as Pe,aK as Ue,aL as q,aM as Je,o as $e}from"./chunk-8016f002.js";function Qe(t){let n,e,s=t[0](q.CountryName)+"",i,p,m,I,d,w,r;function v(l){t[14](l)}let C={type:"border",options:t[6],disabled:t[3]};return t[1].country!==void 0&&(C.value=t[1].country),m=new $e({props:C}),ie.push(()=>fe(m,"value",v)),m.$on("change",t[8]),{c(){n=k("div"),e=k("div"),i=J(s),p=A(),ne(m.$$.fragment),this.h()},l(l){n=E(l,"DIV",{class:!0});var f=T(n);e=E(f,"DIV",{class:!0});var _=T(e);i=$(_,s),_.forEach(b),p=M(f),oe(m.$$.fragment,f),f.forEach(b),this.h()},h(){S(e,"class","label svelte-lpzvaq"),S(n,"class","form-item svelte-lpzvaq")},m(l,f){pe(l,n,f),c(n,e),c(e,i),c(n,p),se(m,n,null),d=!0,w||(r=de(n,"mousewheel",Be(t[13])),w=!0)},p(l,f){(!d||f&1)&&s!==(s=l[0](q.CountryName)+"")&&Y(i,s);const _={};f&64&&(_.options=l[6]),f&8&&(_.disabled=l[3]),!I&&f&2&&(I=!0,_.value=l[1].country,me(()=>I=!1)),m.$set(_)},i(l){d||(W(m.$$.fragment,l),d=!0)},o(l){X(m.$$.fragment,l),d=!1},d(l){l&&b(n),ae(m),w=!1,r()}}}function We(t){return{c:U,l:U,m:U,p:U,i:U,o:U,d:U}}function Xe(t){let n=t[0](q.Continue)+"",e;return{c(){e=J(n)},l(s){e=$(s,n)},m(s,i){pe(s,e,i)},p(s,i){i&1&&n!==(n=s[0](q.Continue)+"")&&Y(e,n)},d(s){s&&b(e)}}}function Ye(t){let n,e,s,i=t[0](q.TradingRequirements)+"",p,m,I,d,w,r,v,C,l,f,_=t[0](t[3]?q.ForSecureTransations:q.ForSecureTransationsAdvanced)+"",R,G,D,g,y,Q,L,z,O=t[0](q.PhoneNumber)+"",o,N,h,j,re,le,V,H,ue,_e;const he=[We,Qe],B=[];function be(a,u){return a[4]&&a[3]?0:1}g=be(t),y=B[g]=he[g](t);function Ne(a){t[15](a)}function ke(a){t[16](a)}let ce={countryCode:t[1].countryCode?"+"+t[1].countryCode:"",haveNoCountryCode:t[4],len:"50"};return t[1].phoneNumber!==void 0&&(ce.value=t[1].phoneNumber),t[5]!==void 0&&(ce.code=t[5]),h=new Je({props:ce}),ie.push(()=>fe(h,"value",Ne)),ie.push(()=>fe(h,"code",ke)),V=new Ae({props:{class:"wp100",type:"primary",loading:t[2],disabled:!t[1].phoneNumber||t[2],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),V.$on("click",t[9]),{c(){n=k("div"),e=k("div"),s=k("div"),p=J(i),m=A(),I=k("div"),d=k("i"),w=J(""),r=A(),v=k("div"),C=k("i"),l=J(""),f=A(),R=J(_),G=A(),D=k("form"),y.c(),Q=A(),L=k("div"),z=k("div"),o=J(O),N=A(),ne(h.$$.fragment),le=A(),ne(V.$$.fragment),this.h()},l(a){n=E(a,"DIV",{class:!0});var u=T(n);e=E(u,"DIV",{class:!0});var K=T(e);s=E(K,"DIV",{class:!0});var F=T(s);p=$(F,i),F.forEach(b),m=M(K),I=E(K,"DIV",{});var P=T(I);d=E(P,"I",{class:!0});var ve=T(d);w=$(ve,""),ve.forEach(b),P.forEach(b),K.forEach(b),r=M(u),v=E(u,"DIV",{class:!0});var Z=T(v);C=E(Z,"I",{class:!0});var ge=T(C);l=$(ge,""),ge.forEach(b),f=M(Z),R=$(Z,_),Z.forEach(b),G=M(u),D=E(u,"FORM",{class:!0});var x=T(D);y.l(x),Q=M(x),L=E(x,"DIV",{class:!0});var ee=T(L);z=E(ee,"DIV",{class:!0});var ye=T(z);o=$(ye,O),ye.forEach(b),N=M(ee),oe(h.$$.fragment,ee),ee.forEach(b),x.forEach(b),le=M(u),oe(V.$$.fragment,u),u.forEach(b),this.h()},h(){S(s,"class","f18 b"),S(d,"class","iconfont close f30 cp svelte-lpzvaq"),S(e,"class","df aic jcsb mb24 wp100"),S(C,"class","iconfont mr12 BLUE"),S(v,"class","tips df BLUE svelte-lpzvaq"),S(z,"class","label svelte-lpzvaq"),S(L,"class","form-item svelte-lpzvaq"),S(D,"class","svelte-lpzvaq"),S(n,"class","wrap svelte-lpzvaq")},m(a,u){pe(a,n,u),c(n,e),c(e,s),c(s,p),c(e,m),c(e,I),c(I,d),c(d,w),c(n,r),c(n,v),c(v,C),c(C,l),c(v,f),c(v,R),c(n,G),c(n,D),B[g].m(D,null),c(D,Q),c(D,L),c(L,z),c(z,o),c(L,N),se(h,L,null),c(n,le),se(V,n,null),H=!0,ue||(_e=[de(d,"click",t[7]),de(n,"mousewheel",we(t[12]))],ue=!0)},p(a,u){(!H||u&1)&&i!==(i=a[0](q.TradingRequirements)+"")&&Y(p,i),(!H||u&9)&&_!==(_=a[0](a[3]?q.ForSecureTransations:q.ForSecureTransationsAdvanced)+"")&&Y(R,_);let K=g;g=be(a),g===K?B[g].p(a,u):(Le(),X(B[K],1,1,()=>{B[K]=null}),Ve(),y=B[g],y?y.p(a,u):(y=B[g]=he[g](a),y.c()),W(y,1),y.m(D,Q)),(!H||u&1)&&O!==(O=a[0](q.PhoneNumber)+"")&&Y(o,O);const F={};u&2&&(F.countryCode=a[1].countryCode?"+"+a[1].countryCode:""),u&16&&(F.haveNoCountryCode=a[4]),!j&&u&2&&(j=!0,F.value=a[1].phoneNumber,me(()=>j=!1)),!re&&u&32&&(re=!0,F.code=a[5],me(()=>re=!1)),h.$set(F);const P={};u&4&&(P.loading=a[2]),u&6&&(P.disabled=!a[1].phoneNumber||a[2]),u&4194305&&(P.$$scope={dirty:u,ctx:a}),V.$set(P)},i(a){H||(W(y),W(h.$$.fragment,a),W(V.$$.fragment,a),H=!0)},o(a){X(y),X(h.$$.fragment,a),X(V.$$.fragment,a),H=!1},d(a){a&&b(n),B[g].d(),ae(h),ae(V),ue=!1,ze(_e)}}}function Ze(t){let n,e;return n=new Ke({props:{visible:!0,allowScroll:!0,class:"modal-basic-kyc",$$slots:{default:[Ye]},$$scope:{ctx:t}}}),{c(){ne(n.$$.fragment)},l(s){oe(n.$$.fragment,s)},m(s,i){se(n,s,i),e=!0},p(s,[i]){const p={};i&4194431&&(p.$$scope={dirty:i,ctx:s}),n.$set(p)},i(s){e||(W(n.$$.fragment,s),e=!0)},o(s){X(n.$$.fragment,s),e=!1},d(s){ae(n,s)}}}function xe(t,n,e){let s,i,p,m;te(t,Ge,o=>e(6,s=o)),te(t,Ie,o=>e(17,i=o)),te(t,Oe,o=>e(11,p=o)),te(t,Fe,o=>e(18,m=o));let{LG:I}=n,{callback:d}=n;const w=De();let r={id:null,userId:m.userId,country:"",phoneNumber:0,countryCode:""},v=!1,C=!1,l=!1,f=0;Se(()=>{je.next(),He(),Pe.next(),d||Ue.next();const o=Ie.subscribe(()=>{Object.keys(r).forEach(N=>{i[N]&&(e(1,r[N]=i[N],r),r.country&&setTimeout(()=>G(r.country),100))})});return function(){o.unsubscribe()}});function _(o){e(3,C=!1),o.advanceKycStatus==="Verified"&&e(3,C=!0),o.advanceKycStatus==="Verified"&&(e(1,r.country=o.advanceKycInfoBo.country,r),setTimeout(()=>G(r.country),100))}function R(){w("close")}function G(o){e(4,l=!1);const N=s.find(h=>h.value===o);if(o==="OTH"){e(4,l=!0),e(5,f=1);return}if(!N){e(1,r.country="OTH",r),e(5,f=1),e(4,l=!0);return}e(1,r.countryCode=N.countryCode,r)}function D(o){e(1,r.documentType=1,r),e(1,r.documentNumber="",r),G(o.detail.value)}async function g(){e(2,v=!0);const o={phoneNo:(l?f:r.countryCode)+"-"+r.phoneNumber,countryName:s.find(j=>j.value===r.country).text,countrySimpleNameThree:s.find(j=>j.value===r.country).value,source:"FIAT_SELL"},{data:N,error:h}=await Re.updateKycAmend(o);e(2,v=!1),N&&(d&&d(),R(),w("write-successful",!0)),h&&Me.send("toast","error",h)}function y(o){Ce.call(this,t,o)}function Q(o){Ce.call(this,t,o)}function L(o){t.$$.not_equal(r.country,o)&&(r.country=o,e(1,r))}function z(o){t.$$.not_equal(r.phoneNumber,o)&&(r.phoneNumber=o,e(1,r))}function O(o){f=o,e(5,f)}return t.$$set=o=>{"LG"in o&&e(0,I=o.LG),"callback"in o&&e(10,d=o.callback)},t.$$.update=()=>{t.$$.dirty&2048&&_(p)},[I,r,v,C,l,f,s,R,D,g,d,p,y,Q,L,z,O]}class at extends Ee{constructor(n){super(),Te(this,n,xe,Ze,qe,{LG:0,callback:10})}}export{at as T};
//# sourceMappingURL=chunk-ff1e8403.js.map
