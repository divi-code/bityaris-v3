import{$ as r,a0 as n,ba as f,a as o,m,s as C,bC as K,b as S,u as g}from"./chunk-a092f8ee.js";import{S as l,B as s,f as I}from"./app-7c71c7a1.js";const u={getSummary(){return r.get(n.KYC_SUMMARY,{formatter(e){e.country=e.country||"-",e.idNumber=e.idNumber||"-",e.idType=e.idType||"-";const{firstName:t,lastName:c}=e;return e.fullName=t&&c?t+" "+c:"-",e.firstName=t||"-",e.lastName=c||"-",e}})},checkEnable(){return r.get(n.KYC_CHECK_ENABLE,{})},getSdkToken(e,t){return r.post(n.KYC_JUMIO_TOKEN,{params:{lang:t}})},check(){const e={};return r.post(n.KYC_JUMIO_CHECK,{params:e})},getCountries(){return r.get(n.KYC_COUNTRIES,{})},getBonus(){return r.get(n.GET_BONUS,{})},getAllKycSummary(){return r.get(n.GET_ALL_KYC_SUMMAY,{})},getCountryRegions(){return r.get(n.KYC_COUNTRY_REGIONS,{})},getDocumentTypesByCountry(e){return r.get(n.KYC_COUNTRY_DOCUMENT_TYPES,{query:{country:e}})},getUserBasicKycInfo(){return r.get(n.KYC_BASIC_INFO,{})},setBasicKycInfo(e){return r.post(n.KYC_BASIC_SUBMIT,{params:e})}},_=new l,i=new s(y()),a=new s(!1),b=new s(!0),p=new s({basicKycStatus:"",basicKycInfoBo:{},advanceKycStatus:"",advanceKycInfoBo:{},limitCheck:!1});f(K,_).pipe(o(()=>u.getSummary())).subscribe(({data:e,error:t})=>{e&&i.next(e),t&&(i.next(y()),m.send("toast","error",t))});i.pipe(C(S),I(e=>e&&!e.isInit&&["Init","Unverified"].indexOf(e.kycStatus)>-1),o(()=>u.checkEnable(g.getValue().userId))).subscribe(({data:e,error:t})=>{e&&a.next(e.enableCheck),t&&a.next(!1)});function y(){return{kycStatus:"Init",country:"-",fullName:"-",idNumber:"-",isInit:!0}}async function U(){const{data:e,error:t}=await u.getAllKycSummary();e&&(b.next(!1),p.next(e)),t&&m.send("toast","error",t)}export{p as a,u as b,U as g,b as i,i as k};
//# sourceMappingURL=chunk-9bf11974.js.map
