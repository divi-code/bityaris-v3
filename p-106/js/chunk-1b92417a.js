import{S as ne,i as oe,s as fe,D as ue,a4 as N,b as k,h as y,j as C,d as v,a5 as G,a as I,E as re,F as ce,G as de,a6 as he,y as S,A as T,a7 as z,o as _e,ai as me,a8 as ve,I as be,e as A,q,z as ge,B as pe,Q as Ne,ac as U,a9 as W,v as X,w as Te,x as Z,C as w,f as B,l as H,m as P,H as x,M,p,V as $,aj as j,T as Ae,t as L,k as O,u as ke}from"./chunk-7aa8f0f3.js";import{G as Fe,b9 as ee,b8 as te}from"./chunk-a092f8ee.js";function Ye(l){let e,i;const o=l[4].default,t=ue(o,l,l[3],null);let a=[l[1]],s={};for(let n=0;n<a.length;n+=1)s=N(s,a[n]);return{c(){e=k("div"),t&&t.c(),this.h()},l(n){e=y(n,"DIV",{});var f=C(e);t&&t.l(f),f.forEach(v),this.h()},h(){G(e,s)},m(n,f){I(n,e,f),t&&t.m(e,null),l[5](e),i=!0},p(n,[f]){t&&t.p&&(!i||f&8)&&re(t,o,n,n[3],i?de(o,n[3],f,null):ce(n[3]),null),G(e,s=he(a,[f&2&&n[1]]))},i(n){i||(S(t,n),i=!0)},o(n){T(t,n),i=!1},d(n){n&&v(e),t&&t.d(n),l[5](null)}}}function qe(l,e,i){const o=["container"];let t=z(e,o),{$$slots:a={},$$scope:s}=e,{container:n}=e,f,d;_e(()=>{d=document.createElement("div"),d.className="portal",n.appendChild(d),d.appendChild(f)}),me(()=>{typeof n<"u"&&n.removeChild(d)});function _(b){be[b?"unshift":"push"](()=>{f=b,i(0,f)})}return l.$$set=b=>{e=N(N({},e),ve(b)),i(1,t=z(e,o)),"container"in b&&i(2,n=b.container),"$$scope"in b&&i(3,s=b.$$scope)},[f,t,n,s,a,_]}class le extends ne{constructor(e){super(),oe(this,e,qe,Ye,fe,{container:2})}}function se(l){let e,i,o;var t=le;function a(s){return{props:{container:s[2],$$slots:{default:[Me]},$$scope:{ctx:s}}}}return t&&(e=W(t,a(l))),{c(){e&&X(e.$$.fragment),i=A()},l(s){e&&Te(e.$$.fragment,s),i=A()},m(s,n){e&&Z(e,s,n),I(s,i,n),o=!0},p(s,n){const f={};if(n&4&&(f.container=s[2]),n&1052795&&(f.$$scope={dirty:n,ctx:s}),t!==(t=le)){if(e){ge();const d=e;T(d.$$.fragment,1,0,()=>{w(d,1)}),pe()}t?(e=W(t,a(s)),X(e.$$.fragment),S(e.$$.fragment,1),Z(e,i.parentNode,i)):e=null}else t&&e.$set(f)},i(s){o||(e&&S(e.$$.fragment,s),o=!0)},o(s){e&&T(e.$$.fragment,s),o=!1},d(s){s&&v(i),e&&w(e,s)}}}function ie(l){let e;function i(a,s){return a[4]?He:Be}let o=i(l),t=o(l);return{c(){t.c(),e=A()},l(a){t.l(a),e=A()},m(a,s){t.m(a,s),I(a,e,s)},p(a,s){o===(o=i(a))&&t?t.p(a,s):(t.d(1),t=o(a),t&&(t.c(),t.m(e.parentNode,e)))},d(a){t.d(a),a&&v(e)}}}function Be(l){let e,i,o;return{c(){e=k("div"),i=k("span"),o=L(l[3]),this.h()},l(t){e=y(t,"DIV",{class:!0});var a=C(e);i=y(a,"SPAN",{});var s=C(i);o=O(s,l[3]),s.forEach(v),a.forEach(v),this.h()},h(){P(e,"class","header svelte-187g87x")},m(t,a){I(t,e,a),p(e,i),p(i,o)},p(t,a){a&8&&ke(o,t[3])},d(t){t&&v(e)}}}function He(l){let e,i,o,t,a=(l[3]||"")+"",s,n,f,d,_,b;return{c(){e=k("div"),i=k("span"),o=B(),t=k("span"),s=L(a),n=B(),f=k("i"),d=L(""),this.h()},l(g){e=y(g,"DIV",{class:!0});var c=C(e);i=y(c,"SPAN",{}),C(i).forEach(v),o=H(c),t=y(c,"SPAN",{class:!0});var D=C(t);s=O(D,a),D.forEach(v),n=H(c),f=y(c,"I",{class:!0});var m=C(f);d=O(m,""),m.forEach(v),c.forEach(v),this.h()},h(){P(t,"class","navigation-title svelte-187g87x"),P(f,"class","navigation-left iconfont svelte-187g87x"),P(e,"class","navigation svelte-187g87x")},m(g,c){I(g,e,c),p(e,i),p(e,o),p(e,t),p(t,s),p(e,n),p(e,f),p(f,d),_||(b=q(f,"click",l[7]),_=!0)},p(g,c){c&8&&a!==(a=(g[3]||"")+"")&&ke(s,a)},d(g){g&&v(e),_=!1,b()}}}function Me(l){let e,i,o,t,a,s,n,f,d,_,b,g,c=l[3]&&ie(l);const D=l[18].default,m=ue(D,l,l[20],null);let V=[{tabindex:"-1"},{fullscreen:l[4]},{class:l[6]},l[12]],E={};for(let r=0;r<V.length;r+=1)E=N(E,V[r]);return{c(){e=k("div"),o=B(),t=k("div"),c&&c.c(),a=B(),s=k("div"),m&&m.c(),n=B(),f=k("div"),this.h()},l(r){e=y(r,"DIV",{class:!0,visible:!0}),C(e).forEach(v),o=H(r),t=y(r,"DIV",{tabindex:!0,fullscreen:!0,class:!0});var h=C(t);c&&c.l(h),a=H(h),s=y(h,"DIV",{class:!0,style:!0});var F=C(s);m&&m.l(F),F.forEach(v),n=H(h),f=y(h,"DIV",{class:!0}),C(f).forEach(v),h.forEach(v),this.h()},h(){P(e,"class","drawer-mask svelte-187g87x"),P(e,"visible",l[0]),P(s,"class","popup-content svelte-187g87x"),x(s,"height",l[4]?l[3]?"calc(100vh - 50px)":"100vh":l[1]),M(s,"fix-title-top-gap",!l[4]&&l[3]),P(f,"class","safe-area svelte-187g87x"),G(t,E),M(t,"svelte-187g87x",!0)},m(r,h){I(r,e,h),I(r,o,h),I(r,t,h),c&&c.m(t,null),p(t,a),p(t,s),m&&m.m(s,null),l[19](s),p(t,n),p(t,f),_=!0,b||(g=[q(e,"click",l[9]),q(t,"touchstart",l[10]),q(t,"touchend",l[11])],b=!0)},p(r,h){l=r,(!_||h&1)&&P(e,"visible",l[0]),l[3]?c?c.p(l,h):(c=ie(l),c.c(),c.m(t,a)):c&&(c.d(1),c=null),m&&m.p&&(!_||h&1048576)&&re(m,D,l,l[20],_?de(D,l[20],h,null):ce(l[20]),null),(!_||h&26)&&x(s,"height",l[4]?l[3]?"calc(100vh - 50px)":"100vh":l[1]),(!_||h&24)&&M(s,"fix-title-top-gap",!l[4]&&l[3]),G(t,E=he(V,[{tabindex:"-1"},(!_||h&16)&&{fullscreen:l[4]},(!_||h&64)&&{class:l[6]},h&4096&&l[12]])),M(t,"svelte-187g87x",!0)},i(r){_||($(()=>{i||(i=j(e,ee,{duration:300},!0)),i.run(1)}),S(m,r),$(()=>{d||(d=j(t,te,{duration:300,x:0,y:l[5].clientHeight,opacity:1},!0)),d.run(1)}),_=!0)},o(r){i||(i=j(e,ee,{duration:300},!1)),i.run(0),T(m,r),d||(d=j(t,te,{duration:300,x:0,y:l[5].clientHeight,opacity:1},!1)),d.run(0),_=!1},d(r){r&&v(e),r&&i&&i.end(),r&&v(o),r&&v(t),c&&c.d(),m&&m.d(r),l[19](null),r&&d&&d.end(),b=!1,Ae(g)}}}function je(l){let e,i,o,t,a=l[0]&&se(l);return{c(){a&&a.c(),e=A()},l(s){a&&a.l(s),e=A()},m(s,n){a&&a.m(s,n),I(s,e,n),i=!0,o||(t=q(window,"popstate",l[8]),o=!0)},p(s,[n]){s[0]?a?(a.p(s,n),n&1&&S(a,1)):(a=se(s),a.c(),S(a,1),a.m(e.parentNode,e)):a&&(ge(),T(a,1,1,()=>{a=null}),pe())},i(s){i||(S(a),i=!0)},o(s){T(a),i=!1},d(s){a&&a.d(s),s&&v(e),o=!1,t()}}}function K(l){l?document.body.style.overflow="auto":document.body.style.overflow="hidden"}function ae(l){return l.changedTouches?l.changedTouches[0]:l}function Ge(l,e,i){const o=["class","visible","height","container","maskClosable","title","autoFocus","fullscreen","beforeClose"];let t=z(e,o),{$$slots:a={},$$scope:s}=e,{class:n=""}=e,{visible:f=!1}=e,{height:d="auto"}=e,{container:_=document.body}=e,{maskClosable:b=!0}=e,{title:g=!1}=e,{autoFocus:c=!1}=e,{fullscreen:D=!1}=e,{beforeClose:m=()=>!0}=e;const V=Ne();let E=!1,r,h=0,F=0,R;_e(async()=>{await U(),i(17,E=!0)}),me(()=>{E&&K(!0)});function Q(u){m()&&V("close",u),i(0,f=!1)}async function ye(){await U(),r&&(c&&Ee(),V("open"))}function Ce(){i(0,f=!1)}function Ee(){let u=r.querySelectorAll('input:not([type="hidden"])'),J=u.length,Y=0;for(;Y<J&&!u[Y].getAttribute("autofocus");Y++);Y<J?u[Y].focus():J>0?u[0].focus():r.focus()}function De(){b&&Q(null)}function Pe(u){F=r.scrollTop,h=ae(u).clientY}function Ie(u){return h-ae(u).clientY}function Se(u){F>10||Ie(u)<-70&&Q(null)}function Ve(u){be[u?"unshift":"push"](()=>{r=u,i(5,r)})}return l.$$set=u=>{e=N(N({},e),ve(u)),i(12,t=z(e,o)),"class"in u&&i(13,n=u.class),"visible"in u&&i(0,f=u.visible),"height"in u&&i(1,d=u.height),"container"in u&&i(2,_=u.container),"maskClosable"in u&&i(14,b=u.maskClosable),"title"in u&&i(3,g=u.title),"autoFocus"in u&&i(15,c=u.autoFocus),"fullscreen"in u&&i(4,D=u.fullscreen),"beforeClose"in u&&i(16,m=u.beforeClose),"$$scope"in u&&i(20,s=u.$$scope)},l.$$.update=()=>{l.$$.dirty&8192&&i(6,R=Fe(n,"popup-content-wrap")),l.$$.dirty&131073&&(f?(E&&K(!1),ye()):E&&K(!0))},[f,d,_,g,D,r,R,Q,Ce,De,Pe,Se,t,n,b,c,m,E,a,Ve,s]}class Je extends ne{constructor(e){super(),oe(this,e,Ge,je,fe,{class:13,visible:0,height:1,container:2,maskClosable:14,title:3,autoFocus:15,fullscreen:4,beforeClose:16})}}export{Je as P};
//# sourceMappingURL=chunk-1b92417a.js.map
