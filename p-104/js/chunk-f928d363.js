import{R as e,T as n,M as i,N as T,c as d,bb as N,bj as p,Q as A,V as R,d as g,e as v,b as U,b4 as b}from"./chunk-772394bf.js";import{w as a,f as u,m as o,s as r,B as _,a as l}from"./app-6c8af094.js";const G={getProduct(t){return e.get(n.INVESTMENT_PRODUCT,{query:t})},getProductOnly(){return e.get(n.INVESTMENT_PRODUCT_ONLY,{})},getProductActivity(t){return e.get(n.PRODUCT_ACTIVITY,{query:t})},accountInfo(){return e.get(n.INVESTMENT_ACCOUNT_INFO,{})},orderList(t){return e.get(n.INVESTMENT_ORDER,{query:t})},onOffAutoRenew(t){return e.post(n.INVESTMENT_ORDER_AUTORENEW,{params:t})},investmentTransfer(t){return e.post(n.INVESTMENT_TRANSFER,{params:t})},buyInvestment(t){return e.post(n.INVESTMENT_BUY,{params:t})},getAccountFlow(t){return e.get(n.INVESTMENT_JOURNAL,{query:t})},getBonusHistory(t){return e.get(n.INVESTMENT_BONUS_HISTORY,{query:t})},getBonusList(){return e.get(n.INVESTMENT_BONUS_LIST,{})},getAccountList(){return e.get(n.INVESTMENT_ACCOUNT_LIST,{})},getMyEarningsList(t){return e.get(n.INVESTMENT_MY_EARNINGS_LIST,{query:t})},getOrderHistoryList(t){return e.get(n.INVESTMENT_ORDER_HISTORY_LIST,{query:t})},getOrderLaunchHistoryList(t){return e.get(n.LAUNCHPOOL_FUNDS,{query:t})},getSettlementHistoryList(t){return e.get(n.INVESTMENT_SETTLEMENT_HISTORY_LIST,{query:t})},getSettlementLaunchHistoryList(t){return e.get(n.LAUNCHPOOL_REBATE_CLAIMED_LIST,{query:t})},onTimedRedemption(t){return e.post(n.INVESTMENT_TIMED_REDEMPTION,{params:t})},getAccountActivity(t){return e.get(n.ACCOUNT_ACTIVITY,{query:t})},postAccountAssetConfig(t){return e.post(n.ACCOUNT_ASSET_CONFIG,{params:t})},changeAutoMatic(t){return e.post(n.EARN_CRYPTO_AUTO_MATIC,{params:t})},isEarnCryptoNewUser(){return e.get(n.EARN_CRYPTO_NEW_USER,{})}},y=a.pipe(u(t=>t.type==="fiat-account-assets"),o(t=>t.data.assets),r(M())),f=a.pipe(u(t=>t.type==="fiat-accounts"),o(t=>t.data.accounts),r([])),F=new _([]);f.pipe(u(t=>t.length>0),o(L)).subscribe(t=>F.next(t));function L(t){return t.map(({currency:s})=>({text:s,value:s,name:s}))}function M(){return{isInit:!0,btcEv:0,btc:0 .toFixed(8),usdEv:0,usd:0 .toFixed(2),money:0 .toFixed(2),usdtEv:0,usdt:0 .toFixed(2)}}const S=8,c=2,m=a.pipe(u(t=>t.type==="fund-assets"),o(t=>t.data.assets),r(B()),i(1)),x=a.pipe(u(t=>t.type==="fund-accounts"),o(t=>t.data.accounts),T(50),i(1));d({fundAccounts:x,isUtaSpot:N}).pipe(u(({isUtaSpot:t})=>t),o(({fundAccounts:t})=>t),r([]),i(1));const P=a.pipe(u(t=>t.type==="fund-scale-accounts"),o(t=>t.data.accounts),T(50),i(1)),W=d({fundAccounts:P,isUtaSpot:N}).pipe(u(({isUtaSpot:t})=>t),o(({fundAccounts:t})=>t),r([]),i(1)),V=a.pipe(u(t=>t.type==="fund-invalid-accounts"),o(t=>t.data.accounts),T(50),i(1));d({fundAccounts:V,isUtaSpot:N}).pipe(u(({isUtaSpot:t})=>t),o(({fundAccounts:t})=>t),r([]),i(1));const $=a.pipe(u(t=>t.type==="fund-invalid-scale-accounts"),o(t=>t.data.accounts),T(50),i(1)),q=d({fundAccounts:$,isUtaSpot:N}).pipe(u(({isUtaSpot:t})=>t),o(({fundAccounts:t})=>t),r([]),i(1));d({fundAssets:m,fiatAssets:y}).pipe(o(D),r({isInit:!0,btcEv:0,btc:0 .toFixed(S),usdEv:0,usd:0 .toFixed(c),money:0 .toFixed(c),usdtEv:0,usdt:0 .toFixed(c)}));function D({fundAssets:t,fiatAssets:s}){return{btcEv:p(t.btcEv,s.btcEv),btc:E(t.btc,s.btc),usdEv:p(t.usdEv,s.usdEv),usd:E(t.usd,s.usd),money:E(t.money,s.money),usdtEv:p(t.usdtEv,s.usdtEv),usdt:E(t.usdt,s.usdt)}}function E(t,s){return A.delimit(p(t.replaceAll(",",""),s.replaceAll(",","")))}function B(){return{btcEv:0,btc:0 .toFixed(S),usdEv:0,usd:0 .toFixed(c),money:0 .toFixed(c),usdtEv:0,usdt:0 .toFixed(c),bonusBtcEv:0,bonusBtc:0 .toFixed(S),bonusUsdEv:0,bonusUsd:0 .toFixed(c),bonusMoney:0 .toFixed(c),bonusUsdtEv:0,bonusUsdt:0 .toFixed(c)}}const w=new l,h=new _(C());R.pipe(o(t=>t.reduce((s,O)=>{const{settleCurrency:I}=O;return s.indexOf(I)<0&&s.push(I),s},[])));w.pipe(g(U),v(()=>Y())).subscribe(t=>h.next(t));async function Y(){const t={cfgType:"CFG_CURRENCY_PAIR"},{data:s}=await b.getConversionSupportedCurrencies(t);return s||C()}function C(){return{cfgList:[]}}export{q as a,W as f,G as i,h as s};
//# sourceMappingURL=chunk-f928d363.js.map
