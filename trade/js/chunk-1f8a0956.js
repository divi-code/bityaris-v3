import{m as Wt,s as aa,A as je,C as We,D as Fe,av as Ue,aw as Ge,F as g,ai as q,G as S,ad as le,H as b,I as y,aj as D,K as p,J as C,ae,L as _,P as Y,Q as u,af as ie,T as Je,ak as N,ax as Ye,X as H,_ as U,as as sn,ag as se,ah as ne,a1 as Lt,a2 as Ct,au as Bt,at as Yt,ar as yn,a9 as Ze,aa as xe,a8 as Ke,ac as $e,a7 as Qe,S as Nl,o as Ei,g as Sr,j as oa,a as wd,d as $d,a0 as an,aT as En,b as On,E as Cr,U as Tr,V as Ir,W as Pr,B as Ul,c as Br,az as ua,aR as ca,aS as ss,e as ra,i as hs,f as tn,w as Sd,t as Cd,ab as rr,al as as,a3 as Td,aP as Ip,aQ as Pp,b0 as Kn,Y as qr,aL as Yo,a4 as la,aD as Id,aU as Bp,R as qp,ao as $i,aH as Ln,aN as ms,aE as _r,aK as vr,aO as Dp,b1 as Ap,ap as Pd,Z as Vp,aq as Hp,$ as Op}from"/trade/js/chunk-fe777520.js";import{cg as Bd,ch as ia,ci as Mp,cj as $l,ck as gn,al as yi,L as it,cl as Pl,cm as Lp,A as Si,u as hr,Y as vt,am as Np,p as It,bb as zl,a_ as Ht,S as er,ai as pn,U as Dt,b9 as Oe,b5 as rt,a0 as fa,cn as Up,ae as zp,co as Ko,cp as Fp,cq as Rp,j as wr,a as Nn,az as da,T as os,b3 as Un,b7 as bt,a$ as Me,a3 as yt,bF as _s,cr as Qp,cs as Fl,ac as Dr,ba as tr,b8 as Bl,bp as qd,Z as vs,ct as jp,cu as Wp,bd as vn,cv as Gp,bg as gs,cw as Yp,cx as pa,cy as Tn,cz as Kp,cA as Xo,cB as Sl,cC as mr,cD as un,aX as In,b2 as ql,bc as bi,ag as Dd,be as St,cE as Xp,cF as Jp,bk as bs,bf as ys,$ as ha,aA as Jo,bh as Rl,bi as Ad,bj as Ci,a9 as Vd,bl as Hd,V as Od,a8 as Md,aF as Ti,aJ as An,D as Es,cG as ns,cH as Zo,cI as Ld,b6 as Zp,aT as xp,bZ as Nd,M as Il,ay as Ud,cJ as xs,t as e1,aB as ki,cK as zd,aZ as ma,ab as Fd,aS as Rd,aY as t1,i as n1,b0 as _a,o as Qd,cL as r1,cM as l1,cN as i1,cO as sa,aQ as s1,cP as a1,cQ as kr,cR as ks,f as o1,cS as us,v as gr,cT as wi,bm as jd,bn as u1,cU as c1,bo as f1,cV as d1,cW as p1,cX as h1,af as m1,cY as _1,cZ as v1,aD as Wd,c_ as ea,b1 as xo,c$ as ta,d0 as g1,X as b1,aV as y1,w as E1,aM as k1,d1 as w1}from"/trade/js/chunk-10576bff.js";import{b as dt,C as $1,M as ws,N as $s,O as Ss,P as Cs,j as br,u as Ts,g as Dl,d as nn,e as rn,f as ln,h as ir,k as sr,n as cn,p as fn,r as Vn,q as ar,t as Al,$ as Ii,v as va,w as Ql,a0 as Gd,x as ga,y as ba,z as ya,A as jl,E as ot,B as S1,a1 as eu,a2 as C1,S as Vl,T as Hl,U as Yd,F as T1,G as Ea,H as Wl,I as Gl,J as ka,K as Yl,L as Kd,R as Ol,a3 as cs,Q as Xd,l as _n,m as I1,a as Jd,a4 as El,Z as P1,a5 as B1,a6 as Zd,W as q1,D as D1,X as Is,a7 as xd,i as tu,c as nu,Y as A1,V as V1,s as H1,o as O1,a8 as M1,_ as L1}from"/trade/js/chunk-228ff513.js";import{C as N1,a as Ar,b as wa}from"/trade/js/chunk-41eedcde.js";import{C as yr,a as Pi,b as $a,c as U1,d as z1,e as ep,f as Sa,g as dn,s as Ps,l as Cl,h as F1,i as Qt,j as tp,k as R1,m as Q1,n as j1,o as W1,p as G1,q as Y1,r as ru,t as K1,u as X1,v as J1,w as lu,x as Z1,y as x1,z as eh,A as th,B as nh,D as rh,E as lh}from"/trade/js/chunk-39a0475d.js";import{C as xt}from"/trade/js/chunk-7089fff5.js";import{C as Nt,c as wt,e as Ca,a as Kl}from"/trade/js/app-3b2e47c2.js";import{u as en,b as Bs,m as iu}from"/trade/js/chunk-03b4702d.js";import{A as Xt,D as Xn,o as $r,t as kn,a as Mn,E as Ta,b as or,x as su,F as pr,G as ih,i as sh,d as ah,l as Ml,H as oh,c as uh}from"/trade/js/chunk-e6aba44f.js";import{l as au,C as np}from"/trade/js/chunk-48de2933.js";import{l as ut,C as ch}from"/trade/js/chunk-f0a8333f.js";import{l as Jn,C as rp}from"/trade/js/chunk-25e951b0.js";import"/trade/js/chunk-846730ff.js";const fh={0:"INIT",1:"BAN_SPOT_DONE",2:"BAN_MARGIN_DONE",3:"TRANSFER_SPOT_ASSET_ING",4:"TRANSFER_SPOT_ASSET_DONE",5:"TRANSFER_MARGIN_ASSET_ING",6:"TRANSFER_MARGIN_ASSET_DONE",7:"SET_FEE_DONE",8:"SET_DEPOSIT_ACCOUNT_DONE"},Ia=Bd.pipe(Wt(n=>dh(n.spotUnifiedAccountUpgradeStep)),aa(0));function dh(n){const e=Object.keys(fh),t=ia(0,...e),r=Mp(1e4,...e),l=$l(t,r),i=$l(n,r);return Number(gn(i,l))}const Kt={UpgradingDesc1:"9c63bc",UpgradingDesc2:"532a8f",UpgradingDesc3:"f555da",ChooseUpgradeSubAccounts:"1f77b6",ChooseSubAccounts:"5162fb",SubAccountsUpgradeDesc:"364dd6",UpgradeSubAccounts:"0e873a",OkBtn:"8d55a3",SelectAll:"3e8b70",SelectSubAccount:"90e7ba"};function ou(n,e,t){const r=n.slice();return r[13]=e[t],r}function ph(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont T4")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function hh(n){let e,t,r;return{c(){e=g("span"),t=g("i"),r=q(""),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);t=b(i,"I",{class:!0});var s=y(t);r=D(s,""),s.forEach(p),i.forEach(p),this.h()},h(){_(t,"class","iconfont dib f12 BLUE H-1cxql02"),_(e,"class","checked df aic H-1cxql02")},m(l,i){Y(l,e,i),u(e,t),u(t,r)},d(l){l&&p(e)}}}function uu(n){let e,t,r=n[13].nickName+"",l,i,s,a,o,c;function f(m,v){return v&6&&(s=null),s==null&&(s=!!m[1].includes(m[13].userId)),s?hh:ph}let d=f(n,-1),h=d(n);return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),h.c(),a=S(),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"SPAN",{class:!0});var k=y(t);l=D(k,r),k.forEach(p),i=C(v),h.l(v),a=C(v),v.forEach(p),this.h()},h(){_(t,"class","f1"),_(e,"class","df aic jcsb mb12 lh24 f16 cp")},m(m,v){Y(m,e,v),u(e,t),u(t,l),u(e,i),h.m(e,null),u(e,a),o||(c=Je(e,"click",function(){Bt(Pl(n[5],n[13]))&&Pl(n[5],n[13]).apply(this,arguments)}),o=!0)},p(m,v){n=m,v&4&&r!==(r=n[13].nickName+"")&&N(l,r),d!==(d=f(n,v))&&(h.d(1),h=d(n),h&&(h.c(),h.m(e,a)))},d(m){m&&p(e),h.d(),o=!1,c()}}}function mh(n){let e,t=n[3](Kt.SelectAll)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ml8 T3")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8&&t!==(t=l[3](Kt.SelectAll)+"")&&N(r,t)},d(l){l&&p(e)}}}function _h(n){let e,t=n[3](wt.Confirm)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8&&t!==(t=l[3](wt.Confirm)+"")&&N(r,t)},d(l){l&&p(e)}}}function vh(n){let e,t,r,l,i,s,a=n[3](Kt.SelectSubAccount)+"",o,c,f,d,h,m,v,k,E,T,w,I=n[2],A=[];for(let $=0;$<I.length;$+=1)A[$]=uu(ou(n,I,$));function B($){n[10]($)}let V={class:"mt12 usn T4",$$slots:{default:[mh]},$$scope:{ctx:n}};return n[0]!==void 0&&(V.checked=n[0]),h=new yr({props:V}),Ue.push(()=>Ge(h,"checked",B)),k=new Nt({props:{class:"upgrade wp100",type:"primary",$$slots:{default:[_h]},$$scope:{ctx:n}}}),k.$on("click",n[4]),{c(){e=g("div"),t=g("div"),r=g("i"),l=q(""),i=S(),s=g("div"),o=q(a),c=S(),f=g("div");for(let $=0;$<A.length;$+=1)A[$].c();d=S(),le(h.$$.fragment),v=S(),le(k.$$.fragment),this.h()},l($){e=b($,"DIV",{class:!0});var P=y(e);t=b(P,"DIV",{class:!0});var z=y(t);r=b(z,"I",{class:!0});var F=y(r);l=D(F,""),F.forEach(p),z.forEach(p),i=C(P),s=b(P,"DIV",{class:!0});var O=y(s);o=D(O,a),O.forEach(p),c=C(P),f=b(P,"DIV",{class:!0});var M=y(f);for(let L=0;L<A.length;L+=1)A[L].l(M);M.forEach(p),d=C(P),ae(h.$$.fragment,P),v=C(P),ae(k.$$.fragment,P),P.forEach(p),this.h()},h(){_(r,"class","iconfont db T4 H-1cxql02"),_(t,"class","cancel-btn df aic jcc cp H-1cxql02"),_(s,"class","title lh44 f32 fw2 T1 H-1cxql02"),_(f,"class","accs ph12 H-1cxql02"),_(e,"class","wrap mt20 H-1cxql02")},m($,P){Y($,e,P),u(e,t),u(t,r),u(r,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(f,null);u(e,d),ie(h,e,null),u(e,v),ie(k,e,null),E=!0,T||(w=Je(t,"click",n[6]),T=!0)},p($,[P]){if((!E||P&8)&&a!==(a=$[3](Kt.SelectSubAccount)+"")&&N(o,a),P&38){I=$[2];let O;for(O=0;O<I.length;O+=1){const M=ou($,I,O);A[O]?A[O].p(M,P):(A[O]=uu(M),A[O].c(),A[O].m(f,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=I.length}const z={};P&65544&&(z.$$scope={dirty:P,ctx:$}),!m&&P&1&&(m=!0,z.checked=$[0],Ye(()=>m=!1)),h.$set(z);const F={};P&65544&&(F.$$scope={dirty:P,ctx:$}),k.$set(F)},i($){E||(H(h.$$.fragment,$),H(k.$$.fragment,$),E=!0)},o($){U(h.$$.fragment,$),U(k.$$.fragment,$),E=!1},d($){$&&p(e),sn(A,$),se(h),se(k),T=!1,w()}}}function gh(n,e,t){let r,l,i;ne(n,yi,E=>t(9,l=E)),ne(n,it,E=>t(3,i=E));let{currentPanel:s}=e,{checkedSubAccounts:a}=e;const o=Lt();let c=!1,f=a;Ct(()=>{t(1,f=a)});function d(){o("change",f),t(7,s="upgrading")}function h(E){const T=[...f],w=T.indexOf(E.userId);if(w>=0){T.splice(w,1),t(1,f=[...T]);return}t(1,f=[...f,E.userId])}function m(E){if(E){t(1,f=r.map(T=>T.userId));return}t(1,f=[])}function v(){t(7,s="upgrading")}function k(E){c=E,t(0,c)}return n.$$set=E=>{"currentPanel"in E&&t(7,s=E.currentPanel),"checkedSubAccounts"in E&&t(8,a=E.checkedSubAccounts)},n.$$.update=()=>{n.$$.dirty&512&&t(2,r=l.filter(E=>!!E.parentId&&E.uta&&E.uta.spot===0)),n.$$.dirty&1&&m(c)},[c,f,r,i,d,h,v,s,a,l,k]}let bh=class extends je{constructor(e){super(),We(this,e,gh,vh,Fe,{currentPanel:7,checkedSubAccounts:8})}};function cu(n,e,t){const r=n.slice();return r[21]=e[t],r}function fu(n){let e,t,r=n[7](Kt.ChooseUpgradeSubAccounts)+"",l,i;function s(c,f){return c[3]?Eh:yh}let a=s(n),o=a(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),o.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);t=b(f,"DIV",{});var d=y(t);l=D(d,r),d.forEach(p),i=C(f),o.l(f),f.forEach(p),this.h()},h(){_(e,"class","mt40 H-12dkl72")},m(c,f){Y(c,e,f),u(e,t),u(t,l),u(e,i),o.m(e,null)},p(c,f){f&128&&r!==(r=c[7](Kt.ChooseUpgradeSubAccounts)+"")&&N(l,r),a===(a=s(c))&&o?o.p(c,f):(o.d(1),o=a(c),o&&(o.c(),o.m(e,null)))},d(c){c&&p(e),o.d()}}}function yh(n){let e,t,r,l=n[2],i=[];for(let a=0;a<l.length;a+=1)i[a]=du(cu(n,l,a));let s=n[5]>0&&pu(n);return{c(){e=g("div");for(let a=0;a<i.length;a+=1)i[a].c();t=S(),s&&s.c(),r=Ke(),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=y(e);for(let c=0;c<i.length;c+=1)i[c].l(o);o.forEach(p),t=C(a),s&&s.l(a),r=Ke(),this.h()},h(){_(e,"class","accounts df fww jcsb")},m(a,o){Y(a,e,o);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(e,null);Y(a,t,o),s&&s.m(a,o),Y(a,r,o)},p(a,o){if(o&1029){l=a[2];let c;for(c=0;c<l.length;c+=1){const f=cu(a,l,c);i[c]?i[c].p(f,o):(i[c]=du(f),i[c].c(),i[c].m(e,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=l.length}a[5]>0?s?s.p(a,o):(s=pu(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(a){a&&p(e),sn(i,a),a&&p(t),s&&s.d(a),a&&p(r)}}}function Eh(n){let e,t,r=n[7](Kt.ChooseSubAccounts,{TotalSubAccount:n[0].length})+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("i"),a=q(""),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"DIV",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"I",{class:!0});var m=y(s);a=D(m,""),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","f14 fw3 T1"),_(s,"class","iconfont f12 T1"),_(e,"class","select-acc df aic jcsb mt16 cp H-12dkl72")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),o||(c=Je(e,"click",n[9]),o=!0)},p(f,d){d&129&&r!==(r=f[7](Kt.ChooseSubAccounts,{TotalSubAccount:f[0].length})+"")&&N(l,r)},d(f){f&&p(e),o=!1,c()}}}function du(n){let e,t,r=n[21].nickName+"",l,i,s,a,o,c,f,d;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("span"),a=g("i"),o=q(""),c=S(),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);t=b(m,"DIV",{class:!0});var v=y(t);l=D(v,r),v.forEach(p),i=C(m),s=b(m,"SPAN",{class:!0});var k=y(s);a=b(k,"I",{class:!0});var E=y(a);o=D(E,""),E.forEach(p),k.forEach(p),c=C(m),m.forEach(p),this.h()},h(){_(t,"class","f14 fw3"),_(a,"class","iconfont dib f12 BLUE H-12dkl72"),_(s,"class","checked-icon dif aic H-12dkl72"),_(e,"class","acc df aic jcsb mt16 T1 cp H-12dkl72"),$e(e,"checked",n[0].includes(n[21].userId))},m(h,m){Y(h,e,m),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(a,o),u(e,c),f||(d=Je(e,"click",function(){Bt(Pl(n[10],n[21]))&&Pl(n[10],n[21]).apply(this,arguments)}),f=!0)},p(h,m){n=h,m&4&&r!==(r=n[21].nickName+"")&&N(l,r),m&5&&$e(e,"checked",n[0].includes(n[21].userId))},d(h){h&&p(e),f=!1,d()}}}function pu(n){let e,t=n[7](Kt.SubAccountsUpgradeDesc,{Total:n[5]})+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","mt16 f14 T3")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&160&&t!==(t=l[7](Kt.SubAccountsUpgradeDesc,{Total:l[5]})+"")&&N(r,t)},d(l){l&&p(e)}}}function kh(n){let e,t;return e=new Nt({props:{class:"upgrade wp100",type:"primary",$$slots:{default:[$h]},$$scope:{ctx:n}}}),e.$on("click",n[11]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&16777344&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function wh(n){let e,t;return e=new Nt({props:{class:"upgrade wp100",type:"primary",disabled:n[1]||n[0].length<1,$$slots:{default:[Sh]},$$scope:{ctx:n}}}),e.$on("click",n[8]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&3&&(i.disabled=r[1]||r[0].length<1),l&16777344&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function $h(n){let e,t=n[7](Kt.OkBtn)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&128&&t!==(t=l[7](Kt.OkBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function Sh(n){let e,t=n[7](Kt.UpgradeSubAccounts)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&128&&t!==(t=l[7](Kt.UpgradeSubAccounts)+"")&&N(r,t)},d(l){l&&p(e)}}}function Ch(n){let e,t,r=n[7](en.AccountUpgrading)+"",l,i,s,a,o,c,f,d,h,m,v,k=n[7](en.UpgradingDesc)+"",E,T,w,I,A=n[7](Kt.UpgradingDesc1)+"",B,V,$,P=n[7](Kt.UpgradingDesc2)+"",z,F,O,M=n[7](Kt.UpgradingDesc3)+"",L,Q,j,K,W,Z,J=n[6]&&fu(n);const R=[wh,kh],X=[];function te(oe,x){return oe[6]?0:1}return K=te(n),W=X[K]=R[K](n),{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),a=g("div"),o=g("img"),f=S(),d=g("div"),h=g("div"),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),I=g("li"),B=q(A),V=S(),$=g("li"),z=q(P),F=S(),O=g("li"),L=q(M),Q=S(),J&&J.c(),j=S(),W.c(),this.h()},l(oe){e=b(oe,"DIV",{class:!0});var x=y(e);t=b(x,"DIV",{class:!0});var de=y(t);l=D(de,r),de.forEach(p),i=C(x),s=b(x,"DIV",{});var G=y(s);a=b(G,"DIV",{class:!0});var re=y(a);o=b(re,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),f=C(re),d=b(re,"DIV",{class:!0});var ge=y(d);h=b(ge,"DIV",{class:!0,style:!0}),y(h).forEach(p),ge.forEach(p),re.forEach(p),m=C(G),v=b(G,"DIV",{class:!0});var Ee=y(v);E=D(Ee,k),Ee.forEach(p),T=C(G),w=b(G,"DIV",{class:!0});var we=y(w);I=b(we,"LI",{class:!0});var ee=y(I);B=D(ee,A),ee.forEach(p),V=C(we),$=b(we,"LI",{class:!0});var me=y($);z=D(me,P),me.forEach(p),F=C(we),O=b(we,"LI",{class:!0});var Se=y(O);L=D(Se,M),Se.forEach(p),we.forEach(p),G.forEach(p),Q=C(x),J&&J.l(x),j=C(x),W.l(x),x.forEach(p),this.h()},h(){_(t,"class","title lh44 f32 fw2 T1 H-12dkl72"),_(o,"class","db"),_(o,"width","80"),_(o,"height","80"),Yt(o.src,c="https://img.phemex.com/v1/d2477021/processing-1.png")||_(o,"src",c),_(o,"alt","upgrading"),_(h,"class","progress H-12dkl72"),yn(h,"width",n[4]*100+"%"),_(d,"class","progress-wrap mt12 H-12dkl72"),_(a,"class","df fdc aic"),_(v,"class","mt24 f16 fw3 tc"),_(I,"class","H-12dkl72"),_($,"class","H-12dkl72"),_(O,"class","H-12dkl72"),_(w,"class","desc mt40 H-12dkl72"),_(e,"class","wrap mt20 H-12dkl72")},m(oe,x){Y(oe,e,x),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(a,o),u(a,f),u(a,d),u(d,h),u(s,m),u(s,v),u(v,E),u(s,T),u(s,w),u(w,I),u(I,B),u(w,V),u(w,$),u($,z),u(w,F),u(w,O),u(O,L),u(e,Q),J&&J.m(e,null),u(e,j),X[K].m(e,null),Z=!0},p(oe,[x]){(!Z||x&128)&&r!==(r=oe[7](en.AccountUpgrading)+"")&&N(l,r),(!Z||x&16)&&yn(h,"width",oe[4]*100+"%"),(!Z||x&128)&&k!==(k=oe[7](en.UpgradingDesc)+"")&&N(E,k),(!Z||x&128)&&A!==(A=oe[7](Kt.UpgradingDesc1)+"")&&N(B,A),(!Z||x&128)&&P!==(P=oe[7](Kt.UpgradingDesc2)+"")&&N(z,P),(!Z||x&128)&&M!==(M=oe[7](Kt.UpgradingDesc3)+"")&&N(L,M),oe[6]?J?J.p(oe,x):(J=fu(oe),J.c(),J.m(e,j)):J&&(J.d(1),J=null);let de=K;K=te(oe),K===de?X[K].p(oe,x):(Ze(),U(X[de],1,1,()=>{X[de]=null}),xe(),W=X[K],W?W.p(oe,x):(W=X[K]=R[K](oe),W.c()),H(W,1),W.m(e,null))},i(oe){Z||(H(W),Z=!0)},o(oe){U(W),Z=!1},d(oe){oe&&p(e),J&&J.d(),X[K].d()}}}function Th(n,e,t){let r,l,i,s,a,o,c,f,d,h,m;ne(n,Ia,P=>t(17,f=P)),ne(n,Lp,P=>t(18,d=P)),ne(n,yi,P=>t(19,h=P)),ne(n,it,P=>t(7,m=P));let{currentPanel:v}=e,{loading:k=!1}=e,{allowUpAccounts:E=[]}=e,{noAllowUpAccounts:T=[]}=e,{checkedSubAccounts:w=[]}=e;const I=Lt();function A(){I("upgrade")}function B(){t(12,v="choose-sub-account")}function V(P){const z=[...w],F=z.indexOf(P.userId);if(F>=0){z.splice(F,1),t(0,w=[...z]);return}t(0,w=[...w,P.userId])}function $(){I("close")}return n.$$set=P=>{"currentPanel"in P&&t(12,v=P.currentPanel),"loading"in P&&t(1,k=P.loading),"allowUpAccounts"in P&&t(2,E=P.allowUpAccounts),"noAllowUpAccounts"in P&&t(13,T=P.noAllowUpAccounts),"checkedSubAccounts"in P&&t(0,w=P.checkedSubAccounts)},n.$$.update=()=>{n.$$.dirty&524288&&t(16,r=h.filter(P=>!!P.parentId)),n.$$.dirty&65536&&t(15,l=r.filter(P=>P.uta&&P.uta.spot===0).length),n.$$.dirty&98304&&t(3,i=r.length>6&&l>0),n.$$.dirty&4&&t(14,s=E.length>0),n.$$.dirty&278536&&t(6,a=!d&&(i||s)),n.$$.dirty&8192&&t(5,o=T.length),n.$$.dirty&131072&&t(4,c=f)},[w,k,E,i,c,o,a,m,A,B,V,$,v,T,s,l,r,f,d,h]}let Ih=class extends je{constructor(e){super(),We(this,e,Th,Ch,Fe,{currentPanel:12,loading:1,allowUpAccounts:2,noAllowUpAccounts:13,checkedSubAccounts:0})}};function Ph(n){let e,t,r,l,i;function s(f){n[9](f)}function a(f){n[10](f)}function o(f){n[11](f)}let c={noAllowUpAccounts:n[3],allowUpAccounts:n[2]};return n[1]!==void 0&&(c.loading=n[1]),n[0]!==void 0&&(c.currentPanel=n[0]),n[4]!==void 0&&(c.checkedSubAccounts=n[4]),e=new Ih({props:c}),Ue.push(()=>Ge(e,"loading",s)),Ue.push(()=>Ge(e,"currentPanel",a)),Ue.push(()=>Ge(e,"checkedSubAccounts",o)),e.$on("upgrade",n[6]),e.$on("close",n[5]),{c(){le(e.$$.fragment)},l(f){ae(e.$$.fragment,f)},m(f,d){ie(e,f,d),i=!0},p(f,d){const h={};d&8&&(h.noAllowUpAccounts=f[3]),d&4&&(h.allowUpAccounts=f[2]),!t&&d&2&&(t=!0,h.loading=f[1],Ye(()=>t=!1)),!r&&d&1&&(r=!0,h.currentPanel=f[0],Ye(()=>r=!1)),!l&&d&16&&(l=!0,h.checkedSubAccounts=f[4],Ye(()=>l=!1)),e.$set(h)},i(f){i||(H(e.$$.fragment,f),i=!0)},o(f){U(e.$$.fragment,f),i=!1},d(f){se(e,f)}}}function Bh(n){let e,t,r;function l(s){n[8](s)}let i={checkedSubAccounts:n[4]};return n[0]!==void 0&&(i.currentPanel=n[0]),e=new bh({props:i}),Ue.push(()=>Ge(e,"currentPanel",l)),e.$on("change",n[7]),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a&16&&(o.checkedSubAccounts=s[4]),!t&&a&1&&(t=!0,o.currentPanel=s[0],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function qh(n){let e,t,r,l;const i=[Bh,Ph],s=[];function a(o,c){return o[0]==="choose-sub-account"?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,[c]){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Dh(n,e,t){let r,l;ne(n,yi,A=>t(12,r=A)),ne(n,Si,A=>t(13,l=A));let{currentPanel:i="upgrading"}=e;const s=Lt();let a=!1,o=[],c=[],f=[];Ct(()=>{v()});function d(){s("close")}async function h(){t(1,a=!0);try{const{data:A,error:B}=await hr.postUtaSpotUpgradeApplySub({subUserIds:f.join(",")});t(1,a=!1),B&&vt.send("toast","error",B),A&&(s("success"),s("close"))}catch{t(1,a=!1)}}function m(A){t(4,f=A.detail)}async function v(){const A=await k(),{data:B,error:V}=await hr.getUtaSpotUpgradeCheckSub();if(V&&vt.send("toast","error",V),B){const $=l.userId,P=B.rows.filter(z=>z.userId!==$);if(P.length>0){const{allows:z,noAllows:F}=P.reduce(({allows:O,noAllows:M},L)=>{const{marginBorrowCheckPassed:Q,spotOrderCheckPassed:j,withdrawAndDepositCheckPassed:K,alreadyUpgraded:W}=L;return W?{allows:O,noAllows:M}:Q&&j&&K?{allows:[...O,Object.assign(Object.assign({},L),{nickName:A.get(L.userId)})],noAllows:M}:{allows:O,noAllows:[...M,Object.assign(Object.assign({},L),{nickName:A.get(L.userId)})]}},{allows:[],noAllows:[]});t(2,o=z),t(4,f=z.map(O=>O.userId)),t(3,c=F);return}else B.total>0&&t(4,f=r.map(z=>z.userId));t(2,o=[]),t(3,c=[])}}async function k(){const{data:A}=await Np.getChildrenBaseInfo();return A&&yi.next(A),(A||yi.getValue()).reduce((B,V)=>(B.set(V.userId,V.nickName||"--"),B),new Map)}function E(A){i=A,t(0,i)}function T(A){a=A,t(1,a)}function w(A){i=A,t(0,i)}function I(A){f=A,t(4,f)}return n.$$set=A=>{"currentPanel"in A&&t(0,i=A.currentPanel)},[i,a,o,c,f,d,h,m,E,T,w,I]}let Ah=class extends je{constructor(e){super(),We(this,e,Dh,qh,Fe,{currentPanel:0})}};function Vh(n){let e,t,r;function l(s){n[2](s)}let i={};return n[0]!==void 0&&(i.currentPanel=n[0]),e=new Ah({props:i}),Ue.push(()=>Ge(e,"currentPanel",l)),e.$on("close",n[1]),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};!t&&a&1&&(t=!0,o.currentPanel=s[0],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function Hh(n){let e,t,r;return t=new Pi({props:{closeable:n[0]==="upgrading",visible:!0,modalStyle:{width:"480px"},$$slots:{default:[Vh]},$$scope:{ctx:n}}}),t.$on("close",n[1]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","light")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,[i]){const s={};i&1&&(s.closeable=l[0]==="upgrading"),i&17&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function Oh(n,e,t){const r=Lt();let l="upgrading";function i(){r("close")}function s(a){l=a,t(0,l)}return[l,i,s]}let lp=class extends je{constructor(e){super(),We(this,e,Oh,Hh,Fe,{})}};const hu={CheckDetails:"d54902"};function Mh(n){let e=n[3](hu.CheckDetails)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&8&&e!==(e=r[3](hu.CheckDetails)+"")&&N(t,e)},d(r){r&&p(t)}}}function Lh(n){let e,t,r,l,i,s,a,o,c,f,d=n[3](en.AccountUpgrading)+"",h,m,v,k=n[3](en.UpgradingDesc)+"",E,T,w,I,A;return w=new Nt({props:{type:"primary",$$slots:{default:[Mh]},$$scope:{ctx:n}}}),w.$on("click",n[4]),{c(){e=g("div"),t=g("div"),r=g("div"),l=g("div"),i=g("canvas"),s=S(),a=g("img"),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),le(w.$$.fragment),this.h()},l(B){e=b(B,"DIV",{class:!0});var V=y(e);t=b(V,"DIV",{class:!0,style:!0});var $=y(t);r=b($,"DIV",{class:!0});var P=y(r);l=b(P,"DIV",{class:!0});var z=y(l);i=b(z,"CANVAS",{class:!0}),y(i).forEach(p),z.forEach(p),s=C(P),a=b(P,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),P.forEach(p),c=C($),f=b($,"DIV",{class:!0});var F=y(f);h=D(F,d),F.forEach(p),m=C($),v=b($,"DIV",{class:!0});var O=y(v);E=D(O,k),O.forEach(p),T=C($),ae(w.$$.fragment,$),$.forEach(p),V.forEach(p),this.h()},h(){_(i,"class","pr"),_(l,"class","upgrading-circle H-1twxacz"),_(a,"class","pr db"),_(a,"width","26"),_(a,"height","26"),Yt(a.src,o="https://img.phemex.com/v1/d2477021/processing-1.png")||_(a,"src",o),_(a,"alt","upgrading"),_(r,"class","upgrading pr df aic jcc H-1twxacz"),_(f,"class","lh20 f16 fw3 T1"),_(v,"class","mt12 mb24 f10 T3"),_(t,"class","content df fdc aic H-1twxacz"),yn(t,"padding-top",n[1]),_(e,"class",I="mask pa T2 "+n[0]+" H-1twxacz")},m(B,V){Y(B,e,V),u(e,t),u(t,r),u(r,l),u(l,i),n[6](i),u(r,s),u(r,a),u(t,c),u(t,f),u(f,h),u(t,m),u(t,v),u(v,E),u(t,T),ie(w,t,null),A=!0},p(B,[V]){(!A||V&8)&&d!==(d=B[3](en.AccountUpgrading)+"")&&N(h,d),(!A||V&8)&&k!==(k=B[3](en.UpgradingDesc)+"")&&N(E,k);const $={};V&264&&($.$$scope={dirty:V,ctx:B}),w.$set($),(!A||V&2)&&yn(t,"padding-top",B[1]),(!A||V&1&&I!==(I="mask pa T2 "+B[0]+" H-1twxacz"))&&_(e,"class",I)},i(B){A||(H(w.$$.fragment,B),A=!0)},o(B){U(w.$$.fragment,B),A=!1},d(B){B&&p(e),n[6](null),se(w)}}}function Nh(n,e,t){let r;ne(n,it,d=>t(3,r=d));let{class:l=""}=e,{offsetTop:i="200px"}=e,{processing:s=0}=e,a=null;function o(){It.create(lp)}function c(d){const v=a.getContext("2d");t(2,a.width=56,a),t(2,a.height=56,a),v.beginPath(),v.lineWidth=4,v.strokeStyle="#3d7eff",v.arc(56/2,56/2,56/2-2,-.5*Math.PI,(d-.25)*2*Math.PI),v.stroke(),v.closePath()}function f(d){Ue[d?"unshift":"push"](()=>{a=d,t(2,a)})}return n.$$set=d=>{"class"in d&&t(0,l=d.class),"offsetTop"in d&&t(1,i=d.offsetTop),"processing"in d&&t(5,s=d.processing)},n.$$.update=()=>{n.$$.dirty&36&&a&&c(s)},[l,i,a,r,o,s,f]}let ip=class extends je{constructor(e){super(),We(this,e,Nh,Lh,Fe,{class:0,offsetTop:1,processing:5})}};const Zn={Assets:"a1cb2e",More:"39e802",BuyCrypto:"9f8b06",Deposit:"40ee5f",Transfer:"e3b3fa",Coin:"e4c0e9",TotalAssets:"84742f",EarnCrypto:"a20f11",EarnUpTo:"78e455"};function Uh(n){let e,t=n[3](Zn.Assets)+"",r,l,i,s=n[3](Zn.More)+"",a,o;return{c(){e=g("span"),r=q(t),l=S(),i=g("a"),a=q(s),this.h()},l(c){e=b(c,"SPAN",{class:!0});var f=y(e);r=D(f,t),f.forEach(p),l=C(c),i=b(c,"A",{class:!0,href:!0});var d=y(i);a=D(d,s),d.forEach(p),this.h()},h(){_(e,"class","f1"),_(i,"class","f12"),_(i,"href",o=n[4](Dt.ASSETS_OVERVIEW)+"?tab=spot")},m(c,f){Y(c,e,f),u(e,r),Y(c,l,f),Y(c,i,f),u(i,a)},p(c,f){f&8&&t!==(t=c[3](Zn.Assets)+"")&&N(r,t),f&8&&s!==(s=c[3](Zn.More)+"")&&N(a,s),f&16&&o!==(o=c[4](Dt.ASSETS_OVERVIEW)+"?tab=spot")&&_(i,"href",o)},d(c){c&&p(e),c&&p(l),c&&p(i)}}}function zh(n){let e,t,r,l,i,s,a,o,c,f=n[3](Zn.Coin)+"",d,h,m,v=n[3](Zn.TotalAssets)+"",k,E,T,w,I=n[0].displayBaseCurrency+"",A,B,V,$=n[1].availableBalance+"",P,z,F,O,M=n[0].quoteCurrency+"",L,Q,j,K=n[2].availableBalance+"",W,Z;return t=new $a({props:{style:"display: flex; background: transparent; padding: 0 12px;",$$slots:{default:[Uh]},$$scope:{ctx:n}}}),i=new U1({props:{fromAccount:Xt.ContractsAccount,toAccount:n[5]?Xt.UtaFundAccount:Xt.SpotWallet,convertType:n[5]?Xn.FundAccount:Xn.SpotWallet}}),{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div"),le(i.$$.fragment),s=S(),a=g("div"),o=g("div"),c=g("span"),d=q(f),h=S(),m=g("span"),k=q(v),E=S(),T=g("div"),w=g("span"),A=q(I),B=S(),V=g("span"),P=q($),z=S(),F=g("div"),O=g("span"),L=q(M),Q=S(),j=g("span"),W=q(K),this.h()},l(J){e=b(J,"DIV",{class:!0});var R=y(e);ae(t.$$.fragment,R),r=C(R),l=b(R,"DIV",{class:!0});var X=y(l);ae(i.$$.fragment,X),s=C(X),a=b(X,"DIV",{class:!0});var te=y(a);o=b(te,"DIV",{class:!0});var oe=y(o);c=b(oe,"SPAN",{});var x=y(c);d=D(x,f),x.forEach(p),h=C(oe),m=b(oe,"SPAN",{});var de=y(m);k=D(de,v),de.forEach(p),oe.forEach(p),E=C(te),T=b(te,"DIV",{class:!0});var G=y(T);w=b(G,"SPAN",{class:!0});var re=y(w);A=D(re,I),re.forEach(p),B=C(G),V=b(G,"SPAN",{class:!0});var ge=y(V);P=D(ge,$),ge.forEach(p),G.forEach(p),z=C(te),F=b(te,"DIV",{class:!0});var Ee=y(F);O=b(Ee,"SPAN",{class:!0});var we=y(O);L=D(we,M),we.forEach(p),Q=C(Ee),j=b(Ee,"SPAN",{class:!0});var ee=y(j);W=D(ee,K),ee.forEach(p),Ee.forEach(p),te.forEach(p),X.forEach(p),R.forEach(p),this.h()},h(){_(o,"class","df aic jcsb lh24 f12 T3"),_(w,"class","T3"),_(V,"class","T1"),_(T,"class","df aic jcsb lh24 f12 T2"),_(O,"class","T3"),_(j,"class","T1"),_(F,"class","df aic jcsb lh24 f12 T2"),_(a,"class","mt8 ph12"),_(l,"class","body H-xjk6m5"),_(e,"class","wrap mt20 H-xjk6m5")},m(J,R){Y(J,e,R),ie(t,e,null),u(e,r),u(e,l),ie(i,l,null),u(l,s),u(l,a),u(a,o),u(o,c),u(c,d),u(o,h),u(o,m),u(m,k),u(a,E),u(a,T),u(T,w),u(w,A),u(T,B),u(T,V),u(V,P),u(a,z),u(a,F),u(F,O),u(O,L),u(F,Q),u(F,j),u(j,W),Z=!0},p(J,[R]){const X={};R&280&&(X.$$scope={dirty:R,ctx:J}),t.$set(X);const te={};R&32&&(te.toAccount=J[5]?Xt.UtaFundAccount:Xt.SpotWallet),R&32&&(te.convertType=J[5]?Xn.FundAccount:Xn.SpotWallet),i.$set(te),(!Z||R&8)&&f!==(f=J[3](Zn.Coin)+"")&&N(d,f),(!Z||R&8)&&v!==(v=J[3](Zn.TotalAssets)+"")&&N(k,v),(!Z||R&1)&&I!==(I=J[0].displayBaseCurrency+"")&&N(A,I),(!Z||R&2)&&$!==($=J[1].availableBalance+"")&&N(P,$),(!Z||R&1)&&M!==(M=J[0].quoteCurrency+"")&&N(L,M),(!Z||R&4)&&K!==(K=J[2].availableBalance+"")&&N(W,K)},i(J){Z||(H(t.$$.fragment,J),H(i.$$.fragment,J),Z=!0)},o(J){U(t.$$.fragment,J),U(i.$$.fragment,J),Z=!1},d(J){J&&p(e),se(t),se(i)}}}function Fh(n,e,t){let r,l,i,s,a;ne(n,zl,d=>t(6,r=d)),ne(n,Ht,d=>t(0,l=d)),ne(n,it,d=>t(3,i=d)),ne(n,er,d=>t(4,s=d)),ne(n,pn,d=>t(5,a=d));let o={availableBalance:"0.00000000"},c={availableBalance:"0.00000000"};function f(d,h){const{baseCurrency:m,quoteCurrency:v}=d;t(1,o=h.find(k=>k.currency===m)||{availableBalance:"0.00000000"}),t(2,c=h.find(k=>k.currency===v)||{availableBalance:"0.00000000"})}return n.$$.update=()=>{n.$$.dirty&65&&f(l,r)},[l,o,c,i,s,a,r]}let sp=class extends je{constructor(e){super(),We(this,e,Fh,zh,Fe,{})}};function Rh(n){let e,t,r,l,i;return t=new z1({props:{entryType:"Spot"}}),l=new sp({}),{c(){e=g("section"),le(t.$$.fragment),r=S(),le(l.$$.fragment),this.h()},l(s){e=b(s,"SECTION",{class:!0});var a=y(e);ae(t.$$.fragment,a),r=C(a),ae(l.$$.fragment,a),a.forEach(p),this.h()},h(){_(e,"class","df fdc")},m(s,a){Y(s,e,a),ie(t,e,null),u(e,r),ie(l,e,null),i=!0},p:Qe,i(s){i||(H(t.$$.fragment,s),H(l.$$.fragment,s),i=!0)},o(s){U(t.$$.fragment,s),U(l.$$.fragment,s),i=!1},d(s){s&&p(e),se(t),se(l)}}}let Qh=class extends je{constructor(e){super(),We(this,e,null,Rh,Fe,{})}};const dr={PlaceOrder:"0471ed",Spot:"259a63",Cross:"993a52",Tutorial:"c0ff36",Fees:"e40461",MarginData:"b33f68",MarginTrade:"414a76",Data:"034b61",BorrowData:"a0271d",TradeFees:"5507d8"};function jh({LG:n,crossLeverage:e}){return[{label:n(dr.Spot),mode:"Spot",clickHandler:mu},{label:`${n(dr.Cross,{Leverage:`${e}`})}X`,mode:"Margin",clickHandler:mu}]}function mu(n,e){const t=this.mode;e!==t&&vt.send("trade-pair","change",{mode:t,type:"Spot",symbol:n})}const qs=new Nl,Ds=new Nl,Pa=new Nl,Wh=Ei(n=>qa()),Gh=qs.pipe(Wt(n=>e=>({...e,sideType:n}))),Yh=Ds.pipe(Wt(n=>e=>({...e,orderType:n}))),Kh=Pa.pipe(Wt(()=>n=>qa())),Ba=Sr(Wh,Gh,Yh,Kh).pipe(oa((n,e)=>e(n),qa()),wd(1));Ht.pipe(Wt(n=>n.symbol),$d()).subscribe(()=>{Pa.next(!0)});function qa(){return{sideType:Oe.Buy,orderType:rt.Limit}}function Xh({LG:n,fixLink:e,fixLinkCMS:t}){const r={label:n(dr.Tutorial),children:[{id:"marginTradeTutorial",label:n(dr.MarginTrade),link:t(Dt.CMS_MARGIN_GUIDE)}]},l={label:n(dr.Data),children:[{id:"marginData",label:n(dr.MarginData),link:e(Dt.SPOT_MARGIN_DATA)}]},i={label:n(dr.Fees),children:[{id:"tradeFees",label:n(dr.TradeFees),link:e(Dt.PHEMEX_FEES_CONDITIONS)}]};return[r,l,i]}function _u(n,e,t){const r=n.slice();return r[4]=e[t],r}function vu(n,e,t){const r=n.slice();return r[7]=e[t],r}function gu(n){let e,t=n[7].label+"",r,l,i;return{c(){e=g("a"),r=q(t),this.h()},l(s){e=b(s,"A",{href:!0,class:!0,target:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"href",l=n[7].link?n[0](n[7].link):"javascript:void(0)"),_(e,"class","sub-label cp ph16 df aic f14 T1 fw2 H-1incm59"),_(e,"target",i=n[7].id)},m(s,a){Y(s,e,a),u(e,r)},p(s,a){a&2&&t!==(t=s[7].label+"")&&N(r,t),a&3&&l!==(l=s[7].link?s[0](s[7].link):"javascript:void(0)")&&_(e,"href",l),a&2&&i!==(i=s[7].id)&&_(e,"target",i)},d(s){s&&p(e)}}}function bu(n){let e,t,r=n[4].label+"",l,i,s,a=n[4].children,o=[];for(let c=0;c<a.length;c+=1)o[c]=gu(vu(n,a,c));return{c(){e=g("div"),t=g("h3"),l=q(r),i=S();for(let c=0;c<o.length;c+=1)o[c].c();s=S(),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);t=b(f,"H3",{class:!0});var d=y(t);l=D(d,r),d.forEach(p),i=C(f);for(let h=0;h<o.length;h+=1)o[h].l(f);s=C(f),f.forEach(p),this.h()},h(){_(t,"class","view-header f12 fw1 H-1incm59"),_(e,"class","view-box H-1incm59")},m(c,f){Y(c,e,f),u(e,t),u(t,l),u(e,i);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);u(e,s)},p(c,f){if(f&2&&r!==(r=c[4].label+"")&&N(l,r),f&3){a=c[4].children;let d;for(d=0;d<a.length;d+=1){const h=vu(c,a,d);o[d]?o[d].p(h,f):(o[d]=gu(h),o[d].c(),o[d].m(e,s))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}},d(c){c&&p(e),sn(o,c)}}}function Jh(n){let e,t=n[1],r=[];for(let l=0;l<t.length;l+=1)r[l]=bu(_u(n,t,l));return{c(){e=g("section");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"SECTION",{class:!0});var i=y(e);for(let s=0;s<r.length;s+=1)r[s].l(i);i.forEach(p),this.h()},h(){_(e,"class","view-wrap B2 br4 H-1incm59")},m(l,i){Y(l,e,i);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,[i]){if(i&3){t=l[1];let s;for(s=0;s<t.length;s+=1){const a=_u(l,t,s);r[s]?r[s].p(a,i):(r[s]=bu(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},i:Qe,o:Qe,d(l){l&&p(e),sn(r,l)}}}function Zh(n,e,t){let r,l,i,s;return ne(n,fa,a=>t(2,l=a)),ne(n,er,a=>t(0,i=a)),ne(n,it,a=>t(3,s=a)),n.$$.update=()=>{n.$$.dirty&13&&t(1,r=Xh({LG:s,fixLink:i,fixLinkCMS:l}))},[i,r,l,s]}let xh=class extends je{constructor(e){super(),We(this,e,Zh,Jh,Fe,{})}};function em(n){let e,t,r,l=n[1](wt.Buy)+"",i,s,a,o,c,f,d,h,m=n[1](wt.Sell)+"",v,k,E;return{c(){e=g("div"),t=g("button"),r=g("div"),i=q(l),s=S(),a=g("div"),o=S(),c=g("button"),f=g("div"),d=S(),h=g("div"),v=q(m),this.h()},l(T){e=b(T,"DIV",{class:!0});var w=y(e);t=b(w,"BUTTON",{class:!0});var I=y(t);r=b(I,"DIV",{class:!0});var A=y(r);i=D(A,l),A.forEach(p),s=C(I),a=b(I,"DIV",{class:!0}),y(a).forEach(p),I.forEach(p),o=C(w),c=b(w,"BUTTON",{class:!0});var B=y(c);f=b(B,"DIV",{class:!0}),y(f).forEach(p),d=C(B),h=b(B,"DIV",{class:!0});var V=y(h);v=D(V,m),V.forEach(p),B.forEach(p),w.forEach(p),this.h()},h(){_(r,"class","rectangle ph8 f14 fw2 wsn ooo usn H-13q5ne2"),_(a,"class","triangle H-13q5ne2"),_(t,"class","buy-btn df cp H-13q5ne2"),$e(t,"active",n[0]===Oe.Buy),_(f,"class","triangle H-13q5ne2"),_(h,"class","rectangle ph8 f14 fw2 wsn ooo usn H-13q5ne2"),_(c,"class","sell-btn df cp H-13q5ne2"),$e(c,"active",n[0]===Oe.Sell),_(e,"class","wrap df pr H-13q5ne2")},m(T,w){Y(T,e,w),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a),u(e,o),u(e,c),u(c,f),u(c,d),u(c,h),u(h,v),k||(E=[Je(t,"click",n[2](Oe.Buy)),Je(c,"click",n[2](Oe.Sell))],k=!0)},p(T,[w]){w&2&&l!==(l=T[1](wt.Buy)+"")&&N(i,l),w&1&&$e(t,"active",T[0]===Oe.Buy),w&2&&m!==(m=T[1](wt.Sell)+"")&&N(v,m),w&1&&$e(c,"active",T[0]===Oe.Sell)},i:Qe,o:Qe,d(T){T&&p(e),k=!1,an(E)}}}function tm(n,e,t){let r;ne(n,it,a=>t(1,r=a));let{side:l=Oe.Buy}=e;const i=Lt();function s(a){return function(){i("changeSideType",a)}}return n.$$set=a=>{"side"in a&&t(0,l=a.side)},[l,r,s]}let Da=class extends je{constructor(e){super(),We(this,e,tm,em,Fe,{side:0})}};function yu(n){let e,t,r=n[0]&&Eu(n),l=n[1]&&ku(n);return{c(){r&&r.c(),e=S(),l&&l.c(),t=Ke()},l(i){r&&r.l(i),e=C(i),l&&l.l(i),t=Ke()},m(i,s){r&&r.m(i,s),Y(i,e,s),l&&l.m(i,s),Y(i,t,s)},p(i,s){i[0]?r?r.p(i,s):(r=Eu(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),i[1]?l?l.p(i,s):(l=ku(i),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(i){r&&r.d(i),i&&p(e),l&&l.d(i),i&&p(t)}}}function Eu(n){let e,t,r,l=n[3](dt.CurrencyBorrowRate,{Currency:n[0].currencyInfo.displayCurrency})+"",i,s,a,o=(n[0].loanType===Ko.vePTDiscount?n[0].discountBorrowApy:n[0].borrowAPY)+"",c,f,d,h=n[3](dt.Details)+"",m,v,k,E;return{c(){e=g("div"),t=g("div"),r=g("span"),i=q(l),s=S(),a=g("span"),c=q(o),f=S(),d=g("a"),m=q(h),v=q(" >"),this.h()},l(T){e=b(T,"DIV",{class:!0});var w=y(e);t=b(w,"DIV",{});var I=y(t);r=b(I,"SPAN",{class:!0});var A=y(r);i=D(A,l),A.forEach(p),s=C(I),a=b(I,"SPAN",{class:!0});var B=y(a);c=D(B,o),B.forEach(p),I.forEach(p),f=C(w),d=b(w,"A",{class:!0,href:!0});var V=y(d);m=D(V,h),v=D(V," >"),V.forEach(p),w.forEach(p),this.h()},h(){_(r,"class","T3"),_(a,"class","ml4 T1"),_(d,"class","fw2"),_(d,"href","javascript:;"),_(e,"class","df jcsb aic mt4 lh18 f12")},m(T,w){Y(T,e,w),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a),u(a,c),u(e,f),u(e,d),u(d,m),u(d,v),k||(E=Je(d,"click",n[4]),k=!0)},p(T,w){w&9&&l!==(l=T[3](dt.CurrencyBorrowRate,{Currency:T[0].currencyInfo.displayCurrency})+"")&&N(i,l),w&1&&o!==(o=(T[0].loanType===Ko.vePTDiscount?T[0].discountBorrowApy:T[0].borrowAPY)+"")&&N(c,o),w&8&&h!==(h=T[3](dt.Details)+"")&&N(m,h)},d(T){T&&p(e),k=!1,E()}}}function ku(n){let e,t,r,l=n[3](dt.CurrencySupplyRate,{Currency:n[1].currencyInfo.displayCurrency})+"",i,s,a,o=n[1].supplyAPY+"",c,f,d,h=n[3](dt.Details)+"",m,v,k,E;return{c(){e=g("div"),t=g("div"),r=g("span"),i=q(l),s=S(),a=g("span"),c=q(o),f=S(),d=g("a"),m=q(h),v=q(" >"),this.h()},l(T){e=b(T,"DIV",{class:!0});var w=y(e);t=b(w,"DIV",{});var I=y(t);r=b(I,"SPAN",{class:!0});var A=y(r);i=D(A,l),A.forEach(p),s=C(I),a=b(I,"SPAN",{class:!0});var B=y(a);c=D(B,o),B.forEach(p),I.forEach(p),f=C(w),d=b(w,"A",{class:!0,href:!0});var V=y(d);m=D(V,h),v=D(V," >"),V.forEach(p),w.forEach(p),this.h()},h(){_(r,"class","T3"),_(a,"class","ml4 T1"),_(d,"class","fw2"),_(d,"href","javascript:;"),_(e,"class","df jcsb aic mt2 lh18 f12")},m(T,w){Y(T,e,w),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a),u(a,c),u(e,f),u(e,d),u(d,m),u(d,v),k||(E=Je(d,"click",n[4]),k=!0)},p(T,w){w&10&&l!==(l=T[3](dt.CurrencySupplyRate,{Currency:T[1].currencyInfo.displayCurrency})+"")&&N(i,l),w&2&&o!==(o=T[1].supplyAPY+"")&&N(c,o),w&8&&h!==(h=T[3](dt.Details)+"")&&N(m,h)},d(T){T&&p(e),k=!1,E()}}}function nm(n){let e,t=n[2]&&yu(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,[l]){r[2]?t?t.p(r,l):(t=yu(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Qe,o:Qe,d(r){t&&t.d(r),r&&p(e)}}}function rm(n,e,t){let r,l,i,s,a;ne(n,er,h=>t(7,r=h)),ne(n,Up,h=>t(5,l=h)),ne(n,Ht,h=>t(6,i=h)),ne(n,zp,h=>t(2,s=h)),ne(n,it,h=>t(3,a=h));let o=null,c=null;function f(h,m){t(0,o=Fp(h.baseCurrency,m)),t(1,c=Rp(h.baseCurrency,m))}function d(){wr.track("lending_borrow_click",{asset:o.currencyInfo.symbol,pool:o.poolId}),window.location.assign(r(Dt.WEB3_LENDING_DETAILS)+`?asset=${o.currencyInfo.symbol}&pool=${o.poolId}`)}return n.$$.update=()=>{n.$$.dirty&96&&f(i,l)},[o,c,s,a,d,l,i]}let ap=class extends je{constructor(e){super(),We(this,e,rm,nm,Fe,{})}};function lm(n){let e,t=n[2](Mn.PostOnly)+"",r,l,i,s;return{c(){e=g("span"),r=q(t),this.h()},l(a){e=b(a,"SPAN",{class:!0});var o=y(e);r=D(o,t),o.forEach(p),this.h()},h(){_(e,"class","post-only usn tdud f12 H-12z65gk")},m(a,o){Y(a,e,o),u(e,r),i||(s=En(l=kn.call(null,e,{text:n[2](au.SpotPostOnly),showDelay:800})),i=!0)},p(a,o){o&4&&t!==(t=a[2](Mn.PostOnly)+"")&&N(r,t),l&&Bt(l.update)&&o&4&&l.update.call(null,{text:a[2](au.SpotPostOnly),showDelay:800})},d(a){a&&p(e),i=!1,s()}}}function im(n){let e,t=(n[7]===""?"GTC":n[7])+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{slot:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"slot","displayItem")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&128&&t!==(t=(l[7]===""?"GTC":l[7])+"")&&N(r,t)},d(l){l&&p(e)}}}function sm(n){let e,t,r,l,i,s,a,o,c,f,d;function h(E){n[4](E)}let m={class:" cp",$$slots:{default:[lm]},$$scope:{ctx:n}};n[1]!==void 0&&(m.checked=n[1]),t=new yr({props:m}),Ue.push(()=>Ge(t,"checked",h));function v(E){n[5](E)}let k={class:"f12",options:$r.createTimeInForceOptions(),active:n[0]!=="GoodTillCancel",disabled:n[1],$$slots:{displayItem:[im,({displayText:E})=>({7:E}),({displayText:E})=>E?128:0]},$$scope:{ctx:n}};return n[0]!==void 0&&(k.value=n[0]),s=new Bs({props:k}),Ue.push(()=>Ge(s,"value",v)),{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),this.h()},l(E){e=b(E,"DIV",{class:!0});var T=y(e);ae(t.$$.fragment,T),l=C(T),i=b(T,"DIV",{class:!0});var w=y(i);ae(s.$$.fragment,w),w.forEach(p),T.forEach(p),this.h()},h(){_(i,"class","time-in-force H-12z65gk"),_(e,"class","wrap mt16 df aic jcsb H-12z65gk")},m(E,T){Y(E,e,T),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),c=!0,f||(d=En(o=kn.call(null,i,{text:n[3](n[2]),showDelay:800,hideDelay:500})),f=!0)},p(E,[T]){const w={};T&260&&(w.$$scope={dirty:T,ctx:E}),!r&&T&2&&(r=!0,w.checked=E[1],Ye(()=>r=!1)),t.$set(w);const I={};T&1&&(I.active=E[0]!=="GoodTillCancel"),T&2&&(I.disabled=E[1]),T&384&&(I.$$scope={dirty:T,ctx:E}),!a&&T&1&&(a=!0,I.value=E[0],Ye(()=>a=!1)),s.$set(I),o&&Bt(o.update)&&T&4&&o.update.call(null,{text:E[3](E[2]),showDelay:800,hideDelay:500})},i(E){c||(H(t.$$.fragment,E),H(s.$$.fragment,E),c=!0)},o(E){U(t.$$.fragment,E),U(s.$$.fragment,E),c=!1},d(E){E&&p(e),se(t),se(s),f=!1,d()}}}function am(n,e,t){let r;ne(n,it,c=>t(2,r=c));let{timeInForce:l="GoodTillCancel"}=e;Lt();let i=!1;function s(c){return"GTC: "+c(Mn.GTCExplain)+'</br><div class="mt10">IOC: '+c(Mn.IOCExplain)+'</div><div class="mt10">FOK: '+c(Mn.FOKExplain)+"</div>"}function a(c){i=c,t(1,i)}function o(c){l=c,t(0,l),t(1,i)}return n.$$set=c=>{"timeInForce"in c&&t(0,l=c.timeInForce)},n.$$.update=()=>{n.$$.dirty&2&&t(0,l=i?"PostOnly":"GoodTillCancel")},[l,i,r,s,a,o]}let Xl=class extends je{constructor(e){super(),We(this,e,am,sm,Fe,{timeInForce:0})}};function wu(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[2]})),l=!0)},p(s,a){r&&Bt(r.update)&&a&4&&r.update.call(null,{text:s[2]})},d(s){s&&p(e),l=!1,i()}}}function om(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v=n[2]&&wu(n);return{c(){e=g("div"),t=g("div"),r=g("span"),l=q(n[0]),i=S(),s=g("span"),a=q(n[1]),o=S(),v&&v.c(),c=S(),f=g("i"),d=q(""),this.h()},l(k){e=b(k,"DIV",{class:!0});var E=y(e);t=b(E,"DIV",{});var T=y(t);r=b(T,"SPAN",{class:!0});var w=y(r);l=D(w,n[0]),w.forEach(p),i=C(T),s=b(T,"SPAN",{class:!0});var I=y(s);a=D(I,n[1]),I.forEach(p),o=C(T),v&&v.l(T),T.forEach(p),c=C(E),f=b(E,"I",{class:!0});var A=y(f);d=D(A,""),A.forEach(p),E.forEach(p),this.h()},h(){_(r,"class","T3"),_(s,"class","T1"),_(f,"class","iconfont ml8 usn f12 T1 cp"),_(e,"class","available-row df aic mt8 f12")},m(k,E){Y(k,e,E),u(e,t),u(t,r),u(r,l),u(t,i),u(t,s),u(s,a),u(t,o),v&&v.m(t,null),u(e,c),u(e,f),u(f,d),h||(m=Je(f,"click",n[3]),h=!0)},p(k,[E]){E&1&&N(l,k[0]),E&2&&N(a,k[1]),k[2]?v?v.p(k,E):(v=wu(k),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i:Qe,o:Qe,d(k){k&&p(e),v&&v.d(),h=!1,m()}}}function um(n,e,t){let r,l,i;ne(n,er,h=>t(6,r=h)),ne(n,pn,h=>t(7,l=h)),ne(n,Nn,h=>t(8,i=h));let{label:s}=e,{value:a}=e,{transferParams:o={}}=e,{tipsText:c=""}=e,{transferBeforeHook:f=null}=e;async function d(){if(i==="Login"){if(f&&!await f())return;const h=l,m={fromAccount:h?Xt.UtaFundAccount:Xt.ContractsAccount,toAccount:h?Xt.UtaTradingAccount:Xt.SpotWallet,hideConvertView:h,convertType:h?Xn.FundAccount:Xn.SpotWallet};It.create(Ta,Object.assign(Object.assign({},m),o));return}if(da()){os.gotoLogin(r(Dt.LOGIN));return}os.gotoLogin(r(Dt.REGISTER))}return n.$$set=h=>{"label"in h&&t(0,s=h.label),"value"in h&&t(1,a=h.value),"transferParams"in h&&t(4,o=h.transferParams),"tipsText"in h&&t(2,c=h.tipsText),"transferBeforeHook"in h&&t(5,f=h.transferBeforeHook)},[s,a,c,d,o,f]}let Aa=class extends je{constructor(e){super(),We(this,e,um,om,Fe,{label:0,value:1,transferParams:4,tipsText:2,transferBeforeHook:5})}};function cm(n){let e,t;return e=new $1({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function fm(n){let e,t;return e=new ep({props:{type:n[0],$$slots:{default:[cm]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&1&&(i.type=r[0]),l&8&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function dm(n,e,t){let r;ne(n,Ht,s=>t(1,r=s));let l="Spot";function i(s){t(0,l=s==="TRY"?"SpotTRY":"Spot")}return n.$$.update=()=>{n.$$.dirty&2&&i(r.quoteCurrency)},[l,r]}let Va=class extends je{constructor(e){super(),We(this,e,dm,fm,Fe,{})}};function pm(n){let e,t;return e=new Sa({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function hm(n){let e,t,r=n[5](dt[n[0]],{Currency:n[2]})+"",l,i,s,a,o=n[1]&&$u();return{c(){e=g("div"),o&&o.c(),t=S(),l=q(r),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);o&&o.l(f),t=C(f),l=D(f,r),f.forEach(p),this.h()},h(){_(e,"class","wrap df aic jcc br4 lh40 cp H-12wv8y3"),$e(e,"btn-buy",n[0]===Oe.Buy),$e(e,"btn-sell",n[0]===Oe.Sell),$e(e,"disabled",n[1]||n[3].status!=="Listed")},m(c,f){Y(c,e,f),o&&o.m(e,null),u(e,t),u(e,l),i=!0,s||(a=Je(e,"click",n[6]),s=!0)},p(c,f){c[1]?o?f&2&&H(o,1):(o=$u(),o.c(),H(o,1),o.m(e,t)):o&&(Ze(),U(o,1,1,()=>{o=null}),xe()),(!i||f&37)&&r!==(r=c[5](dt[c[0]],{Currency:c[2]})+"")&&N(l,r),(!i||f&1)&&$e(e,"btn-buy",c[0]===Oe.Buy),(!i||f&1)&&$e(e,"btn-sell",c[0]===Oe.Sell),(!i||f&10)&&$e(e,"disabled",c[1]||c[3].status!=="Listed")},i(c){i||(H(o),i=!0)},o(c){U(o),i=!1},d(c){c&&p(e),o&&o.d(),s=!1,a()}}}function $u(n){let e,t;return e=new Ca({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function mm(n){let e,t,r,l;const i=[hm,pm],s=[];function a(o,c){return o[4]==="Login"?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,[c]){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function _m(n,e,t){let r,l,i,s,a;ne(n,Si,m=>t(7,r=m)),ne(n,ws,m=>t(8,l=m)),ne(n,Ht,m=>t(3,i=m)),ne(n,Nn,m=>t(4,s=m)),ne(n,it,m=>t(5,a=m));let{side:o=Oe.Buy}=e,{isPosting:c=!1}=e,{currency:f=""}=e;const d=Lt();function h(){if(l&&$s(i,l,r)){It.create(r.isSub?Ss:Cs);return}d("click")}return n.$$set=m=>{"side"in m&&t(0,o=m.side),"isPosting"in m&&t(1,c=m.isPosting),"currency"in m&&t(2,f=m.currency)},[o,c,f,i,s,a,h]}let Ha=class extends je{constructor(e){super(),We(this,e,_m,mm,Fe,{side:0,isPosting:1,currency:2})}};function vm(n){let e,t,r,l,i,s;return{c(){e=g("div"),t=g("div"),r=q(n[0]),l=S(),i=g("div"),s=q(n[1]),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=y(e);t=b(o,"DIV",{class:!0});var c=y(t);r=D(c,n[0]),c.forEach(p),l=C(o),i=b(o,"DIV",{class:!0});var f=y(i);s=D(f,n[1]),f.forEach(p),o.forEach(p),this.h()},h(){_(t,"class","f1 mr10 tr T3"),_(i,"class","f1 T2"),_(e,"class","df aic lh30")},m(a,o){Y(a,e,o),u(e,t),u(t,r),u(e,l),u(e,i),u(i,s)},p(a,[o]){o&1&&N(r,a[0]),o&2&&N(s,a[1])},i:Qe,o:Qe,d(a){a&&p(e)}}}function gm(n,e,t){let{label:r=""}=e,{info:l=""}=e;return n.$$set=i=>{"label"in i&&t(0,r=i.label),"info"in i&&t(1,l=i.info)},[r,l]}let is=class extends je{constructor(e){super(),We(this,e,gm,vm,Fe,{label:0,info:1})}};function Su(n){let e,t;return e=new is({props:{label:"Trigger Price",info:n[7]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&128&&(i.info=r[7]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Cu(n){let e,t;return{c(){e=g("div"),t=q(n[6]),this.h()},l(r){e=b(r,"DIV",{class:!0});var l=y(e);t=D(l,n[6]),l.forEach(p),this.h()},h(){_(e,"class","price-limit mt16 p16 br12 B3 T4 H-3scw7n")},m(r,l){Y(r,e,l),u(e,t)},p(r,l){l&64&&N(t,r[6])},d(r){r&&p(e)}}}function bm(n){let e,t,r,l,i,s,a,o,c,f=n[0]===rt.Conditional&&Su(n);r=new is({props:{label:"Order Price",info:n[8]}}),i=new is({props:{label:n[11](n[5],n[1]),info:n[10](n[4],n[1],n[3])}}),a=new is({props:{label:"Time In Force",info:n[2]}});let d=n[0]===rt.Limit&&!n[9]&&n[6]&&Cu(n);return{c(){e=g("div"),f&&f.c(),t=S(),le(r.$$.fragment),l=S(),le(i.$$.fragment),s=S(),le(a.$$.fragment),o=S(),d&&d.c(),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);f&&f.l(m),t=C(m),ae(r.$$.fragment,m),l=C(m),ae(i.$$.fragment,m),s=C(m),ae(a.$$.fragment,m),o=C(m),d&&d.l(m),m.forEach(p),this.h()},h(){_(e,"class","wrap")},m(h,m){Y(h,e,m),f&&f.m(e,null),u(e,t),ie(r,e,null),u(e,l),ie(i,e,null),u(e,s),ie(a,e,null),u(e,o),d&&d.m(e,null),c=!0},p(h,[m]){h[0]===rt.Conditional?f?(f.p(h,m),m&1&&H(f,1)):(f=Su(h),f.c(),H(f,1),f.m(e,t)):f&&(Ze(),U(f,1,1,()=>{f=null}),xe());const v={};m&256&&(v.info=h[8]),r.$set(v);const k={};m&34&&(k.label=h[11](h[5],h[1])),m&26&&(k.info=h[10](h[4],h[1],h[3])),i.$set(k);const E={};m&4&&(E.info=h[2]),a.$set(E),h[0]===rt.Limit&&!h[9]&&h[6]?d?d.p(h,m):(d=Cu(h),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i(h){c||(H(f),H(r.$$.fragment,h),H(i.$$.fragment,h),H(a.$$.fragment,h),c=!0)},o(h){U(f),U(r.$$.fragment,h),U(i.$$.fragment,h),U(a.$$.fragment,h),c=!1},d(h){h&&p(e),f&&f.d(),se(r),se(i),se(a),d&&d.d()}}}function ym(n,e,t){let r,l,i,s,a;ne(n,it,P=>t(16,i=P)),ne(n,Un,P=>t(17,s=P)),ne(n,br,P=>t(9,a=P));let{orderType:o=rt.Limit}=e,{ordType:c=bt.Limit}=e,{qtyType:f=Me.ByBase}=e,{timeInForce:d=""}=e,{spot:h}=e,{triggerPriceEp:m=0}=e,{priceEp:v=0}=e,{quantityEv:k=0}=e,{direction:E}=e,{side:T=Oe.Buy}=e,w="";function I(P,z,F){const O=z===Me.ByBase?F.baseQtyPrecision:F.quoteQtyPrecision,M=z===Me.ByBase?F.baseQtyScale:F.quoteQtyScale,L=z===Me.ByBase?F.baseCurrency:F.quoteCurrency;return yt.floor(P,O,M)+" "+L}function A(P,z,F){return _s.isMarketOrder(F)?"Market":yt.floor(P,z.pricePrecision,z.quoteQtyScale)+" "+z.quoteCurrency}function B(P,z,F){return"Last Price "+F+" "+yt.floor(P,z.pricePrecision,z.quoteQtyScale)+" "+z.quoteCurrency}function V(P,z){if(P===Oe.Buy){if(z===Me.ByBase)return i(dt.GetAmount);if(z===Me.ByQuote)return i(dt.SpendAmount)}if(P===Oe.Sell){if(z===Me.ByBase)return i(dt.SpendAmount);if(z===Me.ByQuote)return i(dt.GetAmount)}return""}function $(P,z,F,O,M){const{buyPriceUpperLimitPct:L,sellPriceLowerLimitPct:Q}=P;if(L<=0||Q<=0)return;const j=F/O.closeEp,K=L&&On(L).div(100),W=Q&&On(Q).div(100);if(z===Oe.Buy&&j>K){t(6,w=M(ut.OrderPriceCannotExceed,{Percentage:`${L}%`}));return}z===Oe.Sell&&j<W&&t(6,w=M(ut.OrderPriceCannotFall,{Percentage:`${Q}%`}))}return n.$$set=P=>{"orderType"in P&&t(0,o=P.orderType),"ordType"in P&&t(12,c=P.ordType),"qtyType"in P&&t(1,f=P.qtyType),"timeInForce"in P&&t(2,d=P.timeInForce),"spot"in P&&t(3,h=P.spot),"triggerPriceEp"in P&&t(13,m=P.triggerPriceEp),"priceEp"in P&&t(14,v=P.priceEp),"quantityEv"in P&&t(4,k=P.quantityEv),"direction"in P&&t(15,E=P.direction),"side"in P&&t(5,T=P.side)},n.$$.update=()=>{n.$$.dirty&20488&&t(8,r=A(v,h,c)),n.$$.dirty&40968&&t(7,l=B(m,h,E)),n.$$.dirty&213032&&$(h,T,v,s,i)},[o,f,d,h,k,T,w,l,r,a,I,V,c,m,v,E,i,s]}let Em=class extends je{constructor(e){super(),We(this,e,ym,bm,Fe,{orderType:0,ordType:12,qtyType:1,timeInForce:2,spot:3,triggerPriceEp:13,priceEp:14,quantityEv:4,direction:15,side:5})}};function km(n){let e,t,r;return t=new Em({props:{orderType:n[0],ordType:n[1],qtyType:n[9],spot:n[6],side:n[8],triggerPriceEp:n[2],priceEp:n[3],quantityEv:n[4],timeInForce:n[5],direction:n[10]}}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","body H-9qd43h")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,i){const s={};i&1&&(s.orderType=l[0]),i&2&&(s.ordType=l[1]),i&512&&(s.qtyType=l[9]),i&64&&(s.spot=l[6]),i&256&&(s.side=l[8]),i&4&&(s.triggerPriceEp=l[2]),i&8&&(s.priceEp=l[3]),i&16&&(s.quantityEv=l[4]),i&32&&(s.timeInForce=l[5]),i&1024&&(s.direction=l[10]),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function wm(n){let e,t,r,l,i,s,a=(n[8]===Oe.Buy?n[13](wt.Buy):n[13](wt.Sell))+"",o,c,f,d=n[6].displayBaseCurrency+"",h,m,v,k,E,T;return{c(){e=g("div"),t=g("div"),r=g("span"),l=q(n[7]),i=S(),s=g("span"),o=q(a),c=S(),f=g("span"),h=q(d),m=S(),v=g("i"),k=q(""),this.h()},l(w){e=b(w,"DIV",{class:!0,slot:!0});var I=y(e);t=b(I,"DIV",{});var A=y(t);r=b(A,"SPAN",{});var B=y(r);l=D(B,n[7]),B.forEach(p),i=C(A),s=b(A,"SPAN",{});var V=y(s);o=D(V,a),V.forEach(p),c=C(A),f=b(A,"SPAN",{});var $=y(f);h=D($,d),$.forEach(p),A.forEach(p),m=C(I),v=b(I,"I",{class:!0});var P=y(v);k=D(P,""),P.forEach(p),I.forEach(p),this.h()},h(){$e(s,"buy",n[8]===Oe.Buy),$e(s,"sell",n[8]===Oe.Sell),_(v,"class","iconfont cp"),_(e,"class","p24 lh24 df jcsb aic b f16 T2"),_(e,"slot","header")},m(w,I){Y(w,e,I),u(e,t),u(t,r),u(r,l),u(t,i),u(t,s),u(s,o),u(t,c),u(t,f),u(f,h),u(e,m),u(e,v),u(v,k),E||(T=Je(v,"click",n[15]),E=!0)},p(w,I){I&128&&N(l,w[7]),I&8448&&a!==(a=(w[8]===Oe.Buy?w[13](wt.Buy):w[13](wt.Sell))+"")&&N(o,a),I&256&&$e(s,"buy",w[8]===Oe.Buy),I&256&&$e(s,"sell",w[8]===Oe.Sell),I&64&&d!==(d=w[6].displayBaseCurrency+"")&&N(h,d)},d(w){w&&p(e),E=!1,T()}}}function $m(n){let e,t=n[13](wt.DontShowAgain)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ml8 T3")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8192&&t!==(t=l[13](wt.DontShowAgain)+"")&&N(r,t)},d(l){l&&p(e)}}}function Sm(n){let e=n[13](wt.Cancel)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&8192&&e!==(e=r[13](wt.Cancel)+"")&&N(t,e)},d(r){r&&p(t)}}}function Cm(n){let e=n[13](wt.Confirm)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&8192&&e!==(e=r[13](wt.Confirm)+"")&&N(t,e)},d(r){r&&p(t)}}}function Tm(n){let e,t,r,l,i,s,a,o,c;function f(h){n[17](h)}let d={class:"usn",$$slots:{default:[$m]},$$scope:{ctx:n}};return n[12]!==void 0&&(d.checked=n[12]),t=new yr({props:d}),Ue.push(()=>Ge(t,"checked",f)),t.$on("change",n[14]),s=new Nt({props:{class:"cancel",$$slots:{default:[Sm]},$$scope:{ctx:n}}}),s.$on("click",n[15]),o=new Nt({props:{class:"confirm",type:"primary",loading:n[11],$$slots:{default:[Cm]},$$scope:{ctx:n}}}),o.$on("click",n[16]),{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),a=S(),le(o.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0,slot:!0});var m=y(e);ae(t.$$.fragment,m),l=C(m),i=b(m,"DIV",{});var v=y(i);ae(s.$$.fragment,v),a=C(v),ae(o.$$.fragment,v),v.forEach(p),m.forEach(p),this.h()},h(){_(e,"class","p24 df aic jcsb"),_(e,"slot","footer")},m(h,m){Y(h,e,m),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),u(i,a),ie(o,i,null),c=!0},p(h,m){const v={};m&1056768&&(v.$$scope={dirty:m,ctx:h}),!r&&m&4096&&(r=!0,v.checked=h[12],Ye(()=>r=!1)),t.$set(v);const k={};m&1056768&&(k.$$scope={dirty:m,ctx:h}),s.$set(k);const E={};m&2048&&(E.loading=h[11]),m&1056768&&(E.$$scope={dirty:m,ctx:h}),o.$set(E)},i(h){c||(H(t.$$.fragment,h),H(s.$$.fragment,h),H(o.$$.fragment,h),c=!0)},o(h){U(t.$$.fragment,h),U(s.$$.fragment,h),U(o.$$.fragment,h),c=!1},d(h){h&&p(e),se(t),se(s),se(o)}}}function Im(n){let e,t;return e=new Kl({props:{style:"max-width: 640px; border-radius: 12px;",$$slots:{footer:[Tm],header:[wm],default:[km]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&1064959&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Pm(n,e,t){let r;ne(n,it,$=>t(13,r=$));let{orderType:l}=e,{ordType:i}=e,{triggerPriceEp:s=0}=e,{priceEp:a=0}=e,{quantityEv:o=0}=e,{timeInForce:c="GoodTillCancel"}=e,{spot:f=null}=e,{title:d=""}=e,{side:h=Oe.Buy}=e,{qtyType:m=Me.ByBase}=e,{direction:v}=e;const k=Lt();let E=!1,T=!1;function w($){wr.track("dont_show_again",{check:$.target.checked})}function I(){k("close")}function A(){t(11,E=!0);const $=Ts(f,h,a,i,m,c,o,l,s,v);Promise.all([$,B()]).then(P=>{t(11,E=!1),P[0]&&k("close")})}async function B(){await hr.modifyPreference({name:"orderSubmitConfirmation",operation:!T}),await Qp()}function V($){T=$,t(12,T)}return n.$$set=$=>{"orderType"in $&&t(0,l=$.orderType),"ordType"in $&&t(1,i=$.ordType),"triggerPriceEp"in $&&t(2,s=$.triggerPriceEp),"priceEp"in $&&t(3,a=$.priceEp),"quantityEv"in $&&t(4,o=$.quantityEv),"timeInForce"in $&&t(5,c=$.timeInForce),"spot"in $&&t(6,f=$.spot),"title"in $&&t(7,d=$.title),"side"in $&&t(8,h=$.side),"qtyType"in $&&t(9,m=$.qtyType),"direction"in $&&t(10,v=$.direction)},[l,i,s,a,o,c,f,d,h,m,v,E,T,r,w,I,A,V]}let Oa=class extends je{constructor(e){super(),We(this,e,Pm,Im,Fe,{orderType:0,ordType:1,triggerPriceEp:2,priceEp:3,quantityEv:4,timeInForce:5,spot:6,title:7,side:8,qtyType:9,direction:10})}};function Bm(n){let e,t,r,l=n[1](wt.Last)+"",i,s,a,o,c;const f=n[4].default,d=Cr(f,n,n[3],null);return{c(){e=g("div"),d&&d.c(),t=S(),r=g("div"),i=q(l),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);d&&d.l(m),t=C(m),r=b(m,"DIV",{class:!0});var v=y(r);i=D(v,l),v.forEach(p),m.forEach(p),this.h()},h(){_(r,"class","last-btn ml8 usn br4 f12 fw2 T1 cp H-tnq7y2"),_(e,"class",s="wrap df aic jcsb "+n[0]+" H-tnq7y2")},m(h,m){Y(h,e,m),d&&d.m(e,null),u(e,t),u(e,r),u(r,i),a=!0,o||(c=Je(r,"click",n[2]),o=!0)},p(h,[m]){d&&d.p&&(!a||m&8)&&Tr(d,f,h,h[3],a?Pr(f,h[3],m,null):Ir(h[3]),null),(!a||m&2)&&l!==(l=h[1](wt.Last)+"")&&N(i,l),(!a||m&1&&s!==(s="wrap df aic jcsb "+h[0]+" H-tnq7y2"))&&_(e,"class",s)},i(h){a||(H(d,h),a=!0)},o(h){U(d,h),a=!1},d(h){h&&p(e),d&&d.d(h),o=!1,c()}}}function qm(n,e,t){let r,l;ne(n,Fl,c=>t(5,r=c)),ne(n,it,c=>t(1,l=c));let{$$slots:i={},$$scope:s}=e,{class:a}=e;function o(){vt.send("global","spot-price-click",{price:r.closeEp,onlyLimitPrice:!0})}return n.$$set=c=>{"class"in c&&t(0,a=c.class),"$$scope"in c&&t(3,s=c.$$scope)},[a,l,o,s,i]}let Ma=class extends je{constructor(e){super(),We(this,e,qm,Bm,Fe,{class:0})}};function Dm(n){let e,t,r,l;function i(o){n[26](o)}function s(o){n[27](o)}let a={class:"limit-price f1",isInline:!1,operation:!1,factor:n[1].quoteQtyFactor,scale:n[1].quoteQtyScale,tickSizeEp:n[1].quoteTickSizeEv,precision:n[1].pricePrecision,minPriceEp:n[1].quoteTickSizeEv,maxPriceEp:n[1].maxOrderValueEv,label:n[14](dt.Price),unit:n[1].quoteCurrency};return n[3]!==void 0&&(a.priceEp=n[3]),n[9]!==void 0&&(a.input=n[9]),e=new dn({props:a}),Ue.push(()=>Ge(e,"priceEp",i)),Ue.push(()=>Ge(e,"input",s)),{c(){le(e.$$.fragment)},l(o){ae(e.$$.fragment,o)},m(o,c){ie(e,o,c),l=!0},p(o,c){const f={};c[0]&2&&(f.factor=o[1].quoteQtyFactor),c[0]&2&&(f.scale=o[1].quoteQtyScale),c[0]&2&&(f.tickSizeEp=o[1].quoteTickSizeEv),c[0]&2&&(f.precision=o[1].pricePrecision),c[0]&2&&(f.minPriceEp=o[1].quoteTickSizeEv),c[0]&2&&(f.maxPriceEp=o[1].maxOrderValueEv),c[0]&16384&&(f.label=o[14](dt.Price)),c[0]&2&&(f.unit=o[1].quoteCurrency),!t&&c[0]&8&&(t=!0,f.priceEp=o[3],Ye(()=>t=!1)),!r&&c[0]&512&&(r=!0,f.input=o[9],Ye(()=>r=!1)),e.$set(f)},i(o){l||(H(e.$$.fragment,o),l=!0)},o(o){U(e.$$.fragment,o),l=!1},d(o){se(e,o)}}}function Tu(n){let e,t=n[14](ut.ThePriceCannot,Al(n[1]))+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","price-limit-tips mt8 f12 H-1ilurpq")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i[0]&16386&&t!==(t=l[14](ut.ThePriceCannot,Al(l[1]))+"")&&N(r,t)},d(l){l&&p(e)}}}function Am(n){let e,t,r,l=n[15]&&Dl(n[3],n[1]),i,s,a,o,c,f,d,h,m,v,k,E=n[14](n[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"",T,w,I,A=nn(n[7],n[1],n[0],n[16])+"",B,V,$=(n[0]===Oe.Buy?n[1].displayBaseCurrency:n[1].quoteCurrency)+"",P,z,F,O,M,L,Q,j,K,W,Z,J=rn(n[0],n[4],n[14],dt)+"",R,X,te,oe=ln(n[1],n[13],n[4])+"",x,de,G=(n[4]===Me.ByBase?n[1].quoteCurrency:n[1].displayBaseCurrency)+"",re,ge,Ee,we,ee,me,Se;t=new Ma({props:{$$slots:{default:[Dm]},$$scope:{ctx:n}}});let qe=l&&Tu(n);function Ce(ve){n[28](ve)}function Be(ve){n[29](ve)}function ce(ve){n[30](ve)}let fe={class:"limit-quantity",isInline:!1,operation:!1,factor:n[4]===Me.ByBase?n[1].baseQtyFactor:n[1].quoteQtyFactor,scale:n[4]===Me.ByBase?n[1].baseQtyScale:n[1].quoteQtyScale,tickSizeEp:n[4]===Me.ByBase?n[1].baseTickSizeEv:n[1].quoteQtyTickSizeEv,precision:n[4]===Me.ByBase?n[1].baseQtyPrecision:n[1].quoteQtyPrecision,minPriceEp:n[4]===Me.ByBase?n[1].baseTickSizeEv:n[1].quoteTickSizeEv,maxPriceEp:n[4]===Me.ByBase?n[1].maxBaseOrderSizeEv:n[1].maxOrderValueEv,label:n[14](n[4]===Me.ByBase?ut.Size:ut.Amount),options:n[12]};n[4]!==void 0&&(fe.selectValue=n[4]),n[5]!==void 0&&(fe.priceEp=n[5]),n[10]!==void 0&&(fe.input=n[10]),a=new dn({props:fe}),Ue.push(()=>Ge(a,"selectValue",Ce)),Ue.push(()=>Ge(a,"priceEp",Be)),Ue.push(()=>Ge(a,"input",ce)),h=new Aa({props:{label:n[14](dt.Available),value:n[2].availableBalance+" "+n[2].displayCurrency}});function Ve(ve){n[31](ve)}let Ie={type:n[17]};n[8]!==void 0&&(Ie.value=n[8]),O=new or({props:Ie}),Ue.push(()=>Ge(O,"value",Ve)),O.$on("input",n[19]),O.$on("change",n[20]),Q=new Ha({props:{side:n[0],isPosting:n[11],currency:n[1].displayBaseCurrency}}),Q.$on("click",n[18]),Ee=new Va({});function be(ve){n[32](ve)}let _e={};return n[6]!==void 0&&(_e.timeInForce=n[6]),ee=new Xl({props:_e}),Ue.push(()=>Ge(ee,"timeInForce",be)),ee.$on("changeAdvancedVisible",n[21]),{c(){e=g("div"),le(t.$$.fragment),r=S(),qe&&qe.c(),i=S(),s=g("div"),le(a.$$.fragment),d=S(),le(h.$$.fragment),m=S(),v=g("div"),k=g("span"),T=q(E),w=S(),I=g("span"),B=q(A),V=S(),P=q($),z=S(),F=g("div"),le(O.$$.fragment),L=S(),le(Q.$$.fragment),j=S(),K=g("div"),W=g("div"),Z=g("span"),R=q(J),X=S(),te=g("span"),x=q(oe),de=S(),re=q(G),ge=S(),le(Ee.$$.fragment),we=S(),le(ee.$$.fragment),this.h()},l(ve){e=b(ve,"DIV",{class:!0});var ke=y(e);ae(t.$$.fragment,ke),r=C(ke),qe&&qe.l(ke),i=C(ke),s=b(ke,"DIV",{class:!0});var Ne=y(s);ae(a.$$.fragment,Ne),Ne.forEach(p),d=C(ke),ae(h.$$.fragment,ke),m=C(ke),v=b(ke,"DIV",{class:!0});var Te=y(v);k=b(Te,"SPAN",{class:!0});var He=y(k);T=D(He,E),He.forEach(p),w=C(Te),I=b(Te,"SPAN",{class:!0});var ye=y(I);B=D(ye,A),V=C(ye),P=D(ye,$),ye.forEach(p),Te.forEach(p),z=C(ke),F=b(ke,"DIV",{class:!0});var Pe=y(F);ae(O.$$.fragment,Pe),Pe.forEach(p),L=C(ke),ae(Q.$$.fragment,ke),j=C(ke),K=b(ke,"DIV",{class:!0});var De=y(K);W=b(De,"DIV",{});var Re=y(W);Z=b(Re,"SPAN",{class:!0});var et=y(Z);R=D(et,J),et.forEach(p),X=C(Re),te=b(Re,"SPAN",{class:!0});var he=y(te);x=D(he,oe),de=C(he),re=D(he,G),he.forEach(p),Re.forEach(p),ge=C(De),ae(Ee.$$.fragment,De),De.forEach(p),we=C(ke),ae(ee.$$.fragment,ke),ke.forEach(p),this.h()},h(){_(s,"class","quantity H-1ilurpq"),_(k,"class","T3"),_(I,"class","ml4 T1 wsn"),_(v,"class","df aic mt8 f12"),_(F,"class","slider H-1ilurpq"),_(Z,"class","T3"),_(te,"class","T1"),_(K,"class","df aic jcsb cost mt12 f12"),_(e,"class","mt12")},m(ve,ke){Y(ve,e,ke),ie(t,e,null),u(e,r),qe&&qe.m(e,null),u(e,i),u(e,s),ie(a,s,null),u(e,d),ie(h,e,null),u(e,m),u(e,v),u(v,k),u(k,T),u(v,w),u(v,I),u(I,B),u(I,V),u(I,P),u(e,z),u(e,F),ie(O,F,null),u(e,L),ie(Q,e,null),u(e,j),u(e,K),u(K,W),u(W,Z),u(Z,R),u(W,X),u(W,te),u(te,x),u(te,de),u(te,re),u(K,ge),ie(Ee,K,null),u(e,we),ie(ee,e,null),Se=!0},p(ve,ke){const Ne={};ke[0]&16906|ke[1]&256&&(Ne.$$scope={dirty:ke,ctx:ve}),t.$set(Ne),ke[0]&32778&&(l=ve[15]&&Dl(ve[3],ve[1])),l?qe?qe.p(ve,ke):(qe=Tu(ve),qe.c(),qe.m(e,i)):qe&&(qe.d(1),qe=null);const Te={};ke[0]&18&&(Te.factor=ve[4]===Me.ByBase?ve[1].baseQtyFactor:ve[1].quoteQtyFactor),ke[0]&18&&(Te.scale=ve[4]===Me.ByBase?ve[1].baseQtyScale:ve[1].quoteQtyScale),ke[0]&18&&(Te.tickSizeEp=ve[4]===Me.ByBase?ve[1].baseTickSizeEv:ve[1].quoteQtyTickSizeEv),ke[0]&18&&(Te.precision=ve[4]===Me.ByBase?ve[1].baseQtyPrecision:ve[1].quoteQtyPrecision),ke[0]&18&&(Te.minPriceEp=ve[4]===Me.ByBase?ve[1].baseTickSizeEv:ve[1].quoteTickSizeEv),ke[0]&18&&(Te.maxPriceEp=ve[4]===Me.ByBase?ve[1].maxBaseOrderSizeEv:ve[1].maxOrderValueEv),ke[0]&16400&&(Te.label=ve[14](ve[4]===Me.ByBase?ut.Size:ut.Amount)),ke[0]&4096&&(Te.options=ve[12]),!o&&ke[0]&16&&(o=!0,Te.selectValue=ve[4],Ye(()=>o=!1)),!c&&ke[0]&32&&(c=!0,Te.priceEp=ve[5],Ye(()=>c=!1)),!f&&ke[0]&1024&&(f=!0,Te.input=ve[10],Ye(()=>f=!1)),a.$set(Te);const He={};ke[0]&16384&&(He.label=ve[14](dt.Available)),ke[0]&4&&(He.value=ve[2].availableBalance+" "+ve[2].displayCurrency),h.$set(He),(!Se||ke[0]&16385)&&E!==(E=ve[14](ve[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"")&&N(T,E),(!Se||ke[0]&65667)&&A!==(A=nn(ve[7],ve[1],ve[0],ve[16])+"")&&N(B,A),(!Se||ke[0]&3)&&$!==($=(ve[0]===Oe.Buy?ve[1].displayBaseCurrency:ve[1].quoteCurrency)+"")&&N(P,$);const ye={};!M&&ke[0]&256&&(M=!0,ye.value=ve[8],Ye(()=>M=!1)),O.$set(ye);const Pe={};ke[0]&1&&(Pe.side=ve[0]),ke[0]&2048&&(Pe.isPosting=ve[11]),ke[0]&2&&(Pe.currency=ve[1].displayBaseCurrency),Q.$set(Pe),(!Se||ke[0]&16401)&&J!==(J=rn(ve[0],ve[4],ve[14],dt)+"")&&N(R,J),(!Se||ke[0]&8210)&&oe!==(oe=ln(ve[1],ve[13],ve[4])+"")&&N(x,oe),(!Se||ke[0]&18)&&G!==(G=(ve[4]===Me.ByBase?ve[1].quoteCurrency:ve[1].displayBaseCurrency)+"")&&N(re,G);const De={};!me&&ke[0]&64&&(me=!0,De.timeInForce=ve[6],Ye(()=>me=!1)),ee.$set(De)},i(ve){Se||(H(t.$$.fragment,ve),H(a.$$.fragment,ve),H(h.$$.fragment,ve),H(O.$$.fragment,ve),H(Q.$$.fragment,ve),H(Ee.$$.fragment,ve),H(ee.$$.fragment,ve),Se=!0)},o(ve){U(t.$$.fragment,ve),U(a.$$.fragment,ve),U(h.$$.fragment,ve),U(O.$$.fragment,ve),U(Q.$$.fragment,ve),U(Ee.$$.fragment,ve),U(ee.$$.fragment,ve),Se=!1},d(ve){ve&&p(e),se(t),qe&&qe.d(),se(a),se(h),se(O),se(Q),se(Ee),se(ee)}}}function Vm(n,e,t){let r,l,i,s,a,o,c,f,d,h;ne(n,it,G=>t(14,o=G)),ne(n,Dr,G=>t(33,c=G)),ne(n,ir,G=>t(25,f=G)),ne(n,br,G=>t(15,d=G)),ne(n,tr,G=>t(16,h=G));let{side:m=Oe.Buy}=e,{spot:v=null}=e,{wallet:k={availableBalanceEv:0,availableBalance:"0.00",currency:"BTC",displayCurrency:"-"}}=e;const E=rt.Limit;let T=0,w=Me.ByBase,I=0,A=0,B="GoodTillCancel",V=null,$=null,P=!1,z=[];Ct(()=>vt.subscribe("global","spot-price-click",G=>{t(3,T=G.price),V&&V.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",G=>{t(5,I=G.quantity),t(4,w=G.type),$&&$.focus()}));function F(G,re){G&&(re.isInitPrice||t(3,T=re.priceEp),t(6,B=re.timeInForce),t(5,I=re.quantityEv),t(4,w=re.qtyType))}function O(G){t(5,I=0),Ii.next(G)}async function M(){if(await K())return;const re="Limit";if(c.orderSubmitConfirmation){It.create(Oa,{title:o(dt.LimitOrder),orderType:E,ordType:re,spot:v,side:m,priceEp:T,quantityEv:I,qtyType:w,timeInForce:B});return}t(11,P=!0),await Ts(v,m,T,re,w,B,I,E),t(11,P=!1)}function L(G){if(s<=0){t(5,I=0);return}t(5,I=s*Number(G.detail)/100)}function Q(){$&&$.focus()}function j(G,re){if(re<=0){t(8,A=0);return}if(G>re){t(8,A=100);return}t(8,A=parseInt(String(G/re*100)))}async function K(){const G={quantityEv:I,priceEp:T},re={orderType:rt.Limit,qtyType:w,side:m,maxAmountEv:i,availableBalanceEv:k.availableBalanceEv,costEv:a,spot:v},ge=await va(o,G,re);return ge?(vt.send("toast","info",{message:ge}),!0):!1}function W(G){const re=G.detail;Bl.updateSpotStorage({advancedIsShow:re})}function Z(G){G&&t(12,z=[{text:G.displayBaseCurrency,value:Me.ByBase},{text:G.quoteCurrency,value:Me.ByQuote}])}function J(G){T=G,t(3,T)}function R(G){V=G,t(9,V)}function X(G){w=G,t(4,w)}function te(G){I=G,t(5,I)}function oe(G){$=G,t(10,$)}function x(G){A=G,t(8,A)}function de(G){B=G,t(6,B)}return n.$$set=G=>{"side"in G&&t(0,m=G.side),"spot"in G&&t(1,v=G.spot),"wallet"in G&&t(2,k=G.wallet)},n.$$.update=()=>{n.$$.dirty[0]&2&&Z(v),n.$$.dirty[0]&16&&O(w),n.$$.dirty[0]&33554432&&t(24,r=f),n.$$.dirty[0]&16777219&&t(23,l=sr(v,r,m,E)),n.$$.dirty[0]&25165824&&F(l,r),n.$$.dirty[0]&15&&t(7,i=cn(k,v,T,m)),n.$$.dirty[0]&149&&t(22,s=fn(k,m,w,i)),n.$$.dirty[0]&58&&t(13,a=Vn(v,rt.Limit,T,w,I)),n.$$.dirty[0]&8388728&&ar(l,{priceEp:T,quantityEv:I,qtyType:w,timeInForce:B}),n.$$.dirty[0]&4194336&&j(I,s)},[m,v,k,T,w,I,B,i,A,V,$,P,z,a,o,d,h,E,M,L,Q,W,s,l,r,f,J,R,X,te,oe,x,de]}let Hm=class extends je{constructor(e){super(),We(this,e,Vm,Am,Fe,{side:0,spot:1,wallet:2},null,[-1,-1])}};function Iu(n){let e,t;return e=new Ql({props:{qtyType:n[3],quantityEv:n[4],priceEp:n[6]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&8&&(i.qtyType=r[3]),l[0]&16&&(i.quantityEv=r[4]),l[0]&64&&(i.priceEp=r[6]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Om(n){let e,t,r,l,i,s,a,o,c,f,d=n[12](n[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"",h,m,v,k=nn(n[5],n[2],n[0],n[13])+"",E,T,w=(n[0]===Oe.Buy?n[2].displayBaseCurrency:n[2].quoteCurrency)+"",I,A,B,V,$,P,z,F,O,M,L,Q=rn(n[0],n[3],n[12],dt)+"",j,K,W,Z=ln(n[2],n[11],n[3])+"",J,R,X=(n[3]===Me.ByBase?n[2].quoteCurrency:n[2].displayBaseCurrency)+"",te,oe,x,de,G,re,ge,Ee,we=n[2].symbol,ee,me,Se;function qe(be){n[23](be)}function Ce(be){n[24](be)}function Be(be){n[25](be)}let ce={class:"limit-quantity",isInline:!1,operation:!1,factor:n[3]===Me.ByBase?n[2].baseQtyFactor:n[2].quoteQtyFactor,scale:n[3]===Me.ByBase?n[2].baseQtyScale:n[2].quoteQtyScale,tickSizeEp:n[3]===Me.ByBase?n[2].baseTickSizeEv:n[2].quoteQtyTickSizeEv,precision:n[3]===Me.ByBase?n[2].baseQtyPrecision:n[2].quoteQtyPrecision,minPriceEp:n[3]===Me.ByBase?n[2].baseTickSizeEv:n[2].quoteTickSizeEv,maxPriceEp:n[3]===Me.ByBase?n[2].maxBaseOrderSizeEv:n[2].maxOrderValueEv,label:n[12](n[3]===Me.ByBase?ut.Size:ut.Amount),options:n[10]};n[3]!==void 0&&(ce.selectValue=n[3]),n[4]!==void 0&&(ce.priceEp=n[4]),n[8]!==void 0&&(ce.input=n[8]),t=new dn({props:ce}),Ue.push(()=>Ge(t,"selectValue",qe)),Ue.push(()=>Ge(t,"priceEp",Ce)),Ue.push(()=>Ge(t,"input",Be)),a=new Aa({props:{label:n[12](dt.Available),value:n[1].availableBalance+" "+n[1].currency}});function fe(be){n[26](be)}let Ve={type:n[14]};n[7]!==void 0&&(Ve.value=n[7]),V=new or({props:Ve}),Ue.push(()=>Ge(V,"value",fe)),V.$on("input",n[16]),V.$on("change",n[17]),z=new Ha({props:{side:n[0],isPosting:n[9],currency:n[2].displayBaseCurrency}}),z.$on("click",n[15]),ge=new Va({});let Ie=Iu(n);return{c(){e=g("div"),le(t.$$.fragment),s=S(),le(a.$$.fragment),o=S(),c=g("div"),f=g("span"),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),I=q(w),A=S(),B=g("div"),le(V.$$.fragment),P=S(),le(z.$$.fragment),F=S(),O=g("div"),M=g("div"),L=g("span"),j=q(Q),K=S(),W=g("span"),J=q(Z),R=S(),te=q(X),oe=S(),x=g("i"),de=q(""),re=S(),le(ge.$$.fragment),Ee=S(),Ie.c(),this.h()},l(be){e=b(be,"DIV",{class:!0});var _e=y(e);ae(t.$$.fragment,_e),s=C(_e),ae(a.$$.fragment,_e),o=C(_e),c=b(_e,"DIV",{class:!0});var ve=y(c);f=b(ve,"SPAN",{class:!0});var ke=y(f);h=D(ke,d),ke.forEach(p),m=C(ve),v=b(ve,"SPAN",{class:!0});var Ne=y(v);E=D(Ne,k),T=C(Ne),I=D(Ne,w),Ne.forEach(p),ve.forEach(p),A=C(_e),B=b(_e,"DIV",{class:!0});var Te=y(B);ae(V.$$.fragment,Te),Te.forEach(p),P=C(_e),ae(z.$$.fragment,_e),F=C(_e),O=b(_e,"DIV",{class:!0});var He=y(O);M=b(He,"DIV",{});var ye=y(M);L=b(ye,"SPAN",{class:!0});var Pe=y(L);j=D(Pe,Q),Pe.forEach(p),K=C(ye),W=b(ye,"SPAN",{class:!0});var De=y(W);J=D(De,Z),R=C(De),te=D(De,X),De.forEach(p),oe=C(ye),x=b(ye,"I",{class:!0});var Re=y(x);de=D(Re,""),Re.forEach(p),ye.forEach(p),re=C(He),ae(ge.$$.fragment,He),He.forEach(p),Ee=C(_e),Ie.l(_e),_e.forEach(p),this.h()},h(){_(f,"class","T3"),_(v,"class","ml4 T1 wsn"),_(c,"class","df aic mt8 f12"),_(B,"class","slider H-2t40g7"),_(L,"class","T3"),_(W,"class","T1"),_(x,"class","iconfont ml4 f12 cp"),_(O,"class","df aic jcsb cost mt12 f12"),_(e,"class","mt12")},m(be,_e){Y(be,e,_e),ie(t,e,null),u(e,s),ie(a,e,null),u(e,o),u(e,c),u(c,f),u(f,h),u(c,m),u(c,v),u(v,E),u(v,T),u(v,I),u(e,A),u(e,B),ie(V,B,null),u(e,P),ie(z,e,null),u(e,F),u(e,O),u(O,M),u(M,L),u(L,j),u(M,K),u(M,W),u(W,J),u(W,R),u(W,te),u(M,oe),u(M,x),u(x,de),u(O,re),ie(ge,O,null),u(e,Ee),Ie.m(e,null),ee=!0,me||(Se=En(G=kn.call(null,x,{text:n[12](ut.PlaceMarketOrder)})),me=!0)},p(be,_e){const ve={};_e[0]&12&&(ve.factor=be[3]===Me.ByBase?be[2].baseQtyFactor:be[2].quoteQtyFactor),_e[0]&12&&(ve.scale=be[3]===Me.ByBase?be[2].baseQtyScale:be[2].quoteQtyScale),_e[0]&12&&(ve.tickSizeEp=be[3]===Me.ByBase?be[2].baseTickSizeEv:be[2].quoteQtyTickSizeEv),_e[0]&12&&(ve.precision=be[3]===Me.ByBase?be[2].baseQtyPrecision:be[2].quoteQtyPrecision),_e[0]&12&&(ve.minPriceEp=be[3]===Me.ByBase?be[2].baseTickSizeEv:be[2].quoteTickSizeEv),_e[0]&12&&(ve.maxPriceEp=be[3]===Me.ByBase?be[2].maxBaseOrderSizeEv:be[2].maxOrderValueEv),_e[0]&4104&&(ve.label=be[12](be[3]===Me.ByBase?ut.Size:ut.Amount)),_e[0]&1024&&(ve.options=be[10]),!r&&_e[0]&8&&(r=!0,ve.selectValue=be[3],Ye(()=>r=!1)),!l&&_e[0]&16&&(l=!0,ve.priceEp=be[4],Ye(()=>l=!1)),!i&&_e[0]&256&&(i=!0,ve.input=be[8],Ye(()=>i=!1)),t.$set(ve);const ke={};_e[0]&4096&&(ke.label=be[12](dt.Available)),_e[0]&2&&(ke.value=be[1].availableBalance+" "+be[1].currency),a.$set(ke),(!ee||_e[0]&4097)&&d!==(d=be[12](be[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"")&&N(h,d),(!ee||_e[0]&8229)&&k!==(k=nn(be[5],be[2],be[0],be[13])+"")&&N(E,k),(!ee||_e[0]&5)&&w!==(w=(be[0]===Oe.Buy?be[2].displayBaseCurrency:be[2].quoteCurrency)+"")&&N(I,w);const Ne={};!$&&_e[0]&128&&($=!0,Ne.value=be[7],Ye(()=>$=!1)),V.$set(Ne);const Te={};_e[0]&1&&(Te.side=be[0]),_e[0]&512&&(Te.isPosting=be[9]),_e[0]&4&&(Te.currency=be[2].displayBaseCurrency),z.$set(Te),(!ee||_e[0]&4105)&&Q!==(Q=rn(be[0],be[3],be[12],dt)+"")&&N(j,Q),(!ee||_e[0]&2060)&&Z!==(Z=ln(be[2],be[11],be[3])+"")&&N(J,Z),(!ee||_e[0]&12)&&X!==(X=(be[3]===Me.ByBase?be[2].quoteCurrency:be[2].displayBaseCurrency)+"")&&N(te,X),G&&Bt(G.update)&&_e[0]&4096&&G.update.call(null,{text:be[12](ut.PlaceMarketOrder)}),_e[0]&4&&Fe(we,we=be[2].symbol)?(Ze(),U(Ie,1,1,Qe),xe(),Ie=Iu(be),Ie.c(),H(Ie,1),Ie.m(e,null)):Ie.p(be,_e)},i(be){ee||(H(t.$$.fragment,be),H(a.$$.fragment,be),H(V.$$.fragment,be),H(z.$$.fragment,be),H(ge.$$.fragment,be),H(Ie),ee=!0)},o(be){U(t.$$.fragment,be),U(a.$$.fragment,be),U(V.$$.fragment,be),U(z.$$.fragment,be),U(ge.$$.fragment,be),U(Ie),ee=!1},d(be){be&&p(e),se(t),se(a),se(V),se(z),se(ge),Ie.d(be),me=!1,Se()}}}function Mm(n,e,t){let r,l,i,s,a,o,c,f,d,h,m;ne(n,it,R=>t(12,c=R)),ne(n,Dr,R=>t(27,f=R)),ne(n,Un,R=>t(21,d=R)),ne(n,ir,R=>t(22,h=R)),ne(n,tr,R=>t(13,m=R));let{side:v=Oe.Buy}=e,{wallet:k={availableBalanceEv:0,availableBalance:"0.00",currency:"BTC",displayCurrency:"-"}}=e,{spot:E=null}=e;const T=rt.Market;let w=Me.ByBase,I=0,A=0,B,V=!1,$=[];Ct(()=>vt.subscribe("global","spot-quantity-click",R=>{t(4,I=R.quantity),t(3,w=R.type),B&&B.focus()}));function P(R,X){R&&(t(4,I=X.quantityEv),t(3,w=X.qtyType))}function z(){t(4,I=0),Ii.next(w)}async function F(){if(await Q())return;const X="ImmediateOrCancel",te="Market";if(f.orderSubmitConfirmation){It.create(Oa,{title:c(dt.MarketOrder),orderType:T,ordType:te,spot:E,side:v,priceEp:i,quantityEv:I,qtyType:w,timeInForce:X});return}t(9,V=!0),await Ts(E,v,i,te,w,X,I,T),t(9,V=!1)}function O(R){if(a<=0){t(4,I=0);return}t(4,I=a*Number(R.detail)/100)}function M(){B&&B.focus()}function L(R,X){if(X<=0){t(7,A=0);return}if(R>X){t(7,A=100);return}t(7,A=parseInt(String(R/X*100)))}async function Q(){const R={quantityEv:I,priceEp:i},X={orderType:T,qtyType:w,side:v,maxAmountEv:s,availableBalanceEv:k.availableBalanceEv,costEv:o,spot:E},te=await va(c,R,X);return te?(vt.send("toast","info",{message:te}),!0):!1}function j(R){R&&t(10,$=[{text:R.displayBaseCurrency,value:Me.ByBase},{text:R.quoteCurrency,value:Me.ByQuote}])}function K(R){w=R,t(3,w)}function W(R){I=R,t(4,I)}function Z(R){B=R,t(8,B)}function J(R){A=R,t(7,A)}return n.$$set=R=>{"side"in R&&t(0,v=R.side),"wallet"in R&&t(1,k=R.wallet),"spot"in R&&t(2,E=R.spot)},n.$$.update=()=>{n.$$.dirty[0]&4&&j(E),n.$$.dirty[0]&8&&z(),n.$$.dirty[0]&4194304&&t(20,r=h),n.$$.dirty[0]&1048581&&t(19,l=sr(E,r,v,T)),n.$$.dirty[0]&2097152&&t(6,i=d.closeEp),n.$$.dirty[0]&1572864&&P(l,r),n.$$.dirty[0]&71&&t(5,s=cn(k,E,i,v)),n.$$.dirty[0]&43&&t(18,a=fn(k,v,w,s)),n.$$.dirty[0]&92&&t(11,o=Vn(E,rt.Market,i,w,I)),n.$$.dirty[0]&262160&&L(I,a),n.$$.dirty[0]&524312&&ar(l,{quantityEv:I,qtyType:w})},[v,k,E,w,I,s,i,A,B,V,$,o,c,m,T,F,O,M,a,l,r,d,h,K,W,Z,J]}let Lm=class extends je{constructor(e){super(),We(this,e,Mm,Om,Fe,{side:0,wallet:1,spot:2},null,[-1,-1])}};function Pu(n){let e,t,r;return t=new Ma({props:{$$slots:{default:[Nm]},$$scope:{ctx:n}}}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","limit-price H-7t5lg6")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,i){const s={};i[0]&135188|i[1]&524288&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function Nm(n){let e,t,r,l;function i(o){n[34](o)}function s(o){n[35](o)}let a={class:"limit-price f1",isInline:!1,operation:!1,factor:n[2].quoteQtyFactor,scale:n[2].quoteQtyScale,tickSizeEp:n[2].quoteTickSizeEv,precision:n[2].pricePrecision,minPriceEp:n[2].quoteTickSizeEv,maxPriceEp:n[2].maxOrderValueEv,label:n[17](dt.Price),unit:n[2].quoteCurrency};return n[12]!==void 0&&(a.input=n[12]),n[4]!==void 0&&(a.priceEp=n[4]),e=new dn({props:a}),Ue.push(()=>Ge(e,"input",i)),Ue.push(()=>Ge(e,"priceEp",s)),{c(){le(e.$$.fragment)},l(o){ae(e.$$.fragment,o)},m(o,c){ie(e,o,c),l=!0},p(o,c){const f={};c[0]&4&&(f.factor=o[2].quoteQtyFactor),c[0]&4&&(f.scale=o[2].quoteQtyScale),c[0]&4&&(f.tickSizeEp=o[2].quoteTickSizeEv),c[0]&4&&(f.precision=o[2].pricePrecision),c[0]&4&&(f.minPriceEp=o[2].quoteTickSizeEv),c[0]&4&&(f.maxPriceEp=o[2].maxOrderValueEv),c[0]&131072&&(f.label=o[17](dt.Price)),c[0]&4&&(f.unit=o[2].quoteCurrency),!t&&c[0]&4096&&(t=!0,f.input=o[12],Ye(()=>t=!1)),!r&&c[0]&16&&(r=!0,f.priceEp=o[4],Ye(()=>r=!1)),e.$set(f)},i(o){l||(H(e.$$.fragment,o),l=!0)},o(o){U(e.$$.fragment,o),l=!1},d(o){se(e,o)}}}function Bu(n){let e=n[2].symbol,t,r,l=qu(n);return{c(){l.c(),t=Ke()},l(i){l.l(i),t=Ke()},m(i,s){l.m(i,s),Y(i,t,s),r=!0},p(i,s){s[0]&4&&Fe(e,e=i[2].symbol)?(Ze(),U(l,1,1,Qe),xe(),l=qu(i),l.c(),H(l,1),l.m(t.parentNode,t)):l.p(i,s)},i(i){r||(H(l),r=!0)},o(i){U(l),r=!1},d(i){i&&p(t),l.d(i)}}}function qu(n){let e,t;return e=new Ql({props:{qtyType:n[5],quantityEv:n[6],priceEp:n[4]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&32&&(i.qtyType=r[5]),l[0]&64&&(i.quantityEv=r[6]),l[0]&16&&(i.priceEp=r[4]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Du(n){let e,t,r,l;function i(a){n[40](a)}let s={};return n[8]!==void 0&&(s.timeInForce=n[8]),t=new Xl({props:s}),Ue.push(()=>Ge(t,"timeInForce",i)),t.$on("changeAdvancedVisible",n[23]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=y(e);ae(t.$$.fragment,o),o.forEach(p),this.h()},h(){_(e,"class","advanced mt24")},m(a,o){Y(a,e,o),ie(t,e,null),l=!0},p(a,o){const c={};!r&&o[0]&256&&(r=!0,c.timeInForce=a[8],Ye(()=>r=!1)),t.$set(c)},i(a){l||(H(t.$$.fragment,a),l=!0)},o(a){U(t.$$.fragment,a),l=!1},d(a){a&&p(e),se(t)}}}function Um(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V=n[17](n[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"",$,P,z,F=nn(n[9],n[2],n[0],n[18])+"",O,M,L=(n[0]===Oe.Buy?n[2].displayBaseCurrency:n[2].quoteCurrency)+"",Q,j,K,W,Z,J,R,X,te,oe,x,de=rn(n[0],n[5],n[17],dt)+"",G,re,ge,Ee=ln(n[2],n[16],n[5])+"",we,ee,me=(n[5]===Me.ByBase?n[2].quoteCurrency:n[2].displayBaseCurrency)+"",Se,qe,Ce,Be,ce,fe;function Ve(he){n[31](he)}let Ie={options:$r.createConditionalTypeOptions(n[17],dt,bt)};n[7]!==void 0&&(Ie.value=n[7]),r=new Gd({props:Ie}),Ue.push(()=>Ge(r,"value",Ve));function be(he){n[32](he)}function _e(he){n[33](he)}let ve={class:"limit-price",isInline:!1,operation:!1,factor:n[2].quoteQtyFactor,scale:n[2].quoteQtyScale,tickSizeEp:n[2].quoteTickSizeEv,precision:n[2].pricePrecision,minPriceEp:n[2].quoteTickSizeEv,maxPriceEp:n[2].maxOrderValueEv,label:n[17](dt.TriggerPrice),unit:n[2].quoteCurrency};n[3]!==void 0&&(ve.priceEp=n[3]),n[11]!==void 0&&(ve.input=n[11]),a=new dn({props:ve}),Ue.push(()=>Ge(a,"priceEp",be)),Ue.push(()=>Ge(a,"input",_e));let ke=n[7]===bt.Limit&&Pu(n);function Ne(he){n[36](he)}function Te(he){n[37](he)}function He(he){n[38](he)}let ye={class:"limit-quantity",isInline:!1,operation:!1,factor:n[5]===Me.ByBase?n[2].baseQtyFactor:n[2].quoteQtyFactor,scale:n[5]===Me.ByBase?n[2].baseQtyScale:n[2].quoteQtyScale,tickSizeEp:n[5]===Me.ByBase?n[2].baseTickSizeEv:n[2].quoteQtyTickSizeEv,precision:n[5]===Me.ByBase?n[2].baseQtyPrecision:n[2].quoteQtyPrecision,minPriceEp:n[5]===Me.ByBase?n[2].baseTickSizeEv:n[2].quoteTickSizeEv,maxPriceEp:n[5]===Me.ByBase?n[2].maxBaseOrderSizeEv:n[2].maxOrderValueEv,label:n[17](n[5]===Me.ByBase?ut.Size:ut.Amount),options:n[15]};n[5]!==void 0&&(ye.selectValue=n[5]),n[6]!==void 0&&(ye.priceEp=n[6]),n[13]!==void 0&&(ye.input=n[13]),m=new dn({props:ye}),Ue.push(()=>Ge(m,"selectValue",Ne)),Ue.push(()=>Ge(m,"priceEp",Te)),Ue.push(()=>Ge(m,"input",He)),w=new Aa({props:{label:n[17](dt.Available),value:n[1].availableBalance+" "+n[1].currency}});function Pe(he){n[39](he)}let De={type:n[19]};n[10]!==void 0&&(De.value=n[10]),W=new or({props:De}),Ue.push(()=>Ge(W,"value",Pe)),W.$on("input",n[21]),W.$on("change",n[22]),R=new Ha({props:{side:n[0],isPosting:n[14],currency:n[2].displayBaseCurrency}}),R.$on("click",n[20]),Ce=new Va({});let Re=n[7]===bt.Market&&Bu(n),et=n[7]===bt.Limit&&Du(n);return{c(){e=g("div"),t=g("div"),le(r.$$.fragment),i=S(),s=g("div"),le(a.$$.fragment),f=S(),ke&&ke.c(),d=S(),h=g("div"),le(m.$$.fragment),T=S(),le(w.$$.fragment),I=S(),A=g("div"),B=g("span"),$=q(V),P=S(),z=g("span"),O=q(F),M=S(),Q=q(L),j=S(),K=g("div"),le(W.$$.fragment),J=S(),le(R.$$.fragment),X=S(),te=g("div"),oe=g("div"),x=g("span"),G=q(de),re=S(),ge=g("span"),we=q(Ee),ee=S(),Se=q(me),qe=S(),le(Ce.$$.fragment),Be=S(),Re&&Re.c(),ce=S(),et&&et.c(),this.h()},l(he){e=b(he,"DIV",{class:!0});var pe=y(e);t=b(pe,"DIV",{class:!0});var ue=y(t);ae(r.$$.fragment,ue),ue.forEach(p),i=C(pe),s=b(pe,"DIV",{class:!0});var Ae=y(s);ae(a.$$.fragment,Ae),Ae.forEach(p),f=C(pe),ke&&ke.l(pe),d=C(pe),h=b(pe,"DIV",{class:!0});var nt=y(h);ae(m.$$.fragment,nt),nt.forEach(p),T=C(pe),ae(w.$$.fragment,pe),I=C(pe),A=b(pe,"DIV",{class:!0});var lt=y(A);B=b(lt,"SPAN",{class:!0});var st=y(B);$=D(st,V),st.forEach(p),P=C(lt),z=b(lt,"SPAN",{class:!0});var ft=y(z);O=D(ft,F),M=C(ft),Q=D(ft,L),ft.forEach(p),lt.forEach(p),j=C(pe),K=b(pe,"DIV",{class:!0});var mt=y(K);ae(W.$$.fragment,mt),mt.forEach(p),J=C(pe),ae(R.$$.fragment,pe),X=C(pe),te=b(pe,"DIV",{class:!0});var at=y(te);oe=b(at,"DIV",{});var pt=y(oe);x=b(pt,"SPAN",{class:!0});var Le=y(x);G=D(Le,de),Le.forEach(p),re=C(pt),ge=b(pt,"SPAN",{class:!0});var Xe=y(ge);we=D(Xe,Ee),ee=C(Xe),Se=D(Xe,me),Xe.forEach(p),pt.forEach(p),qe=C(at),ae(Ce.$$.fragment,at),at.forEach(p),Be=C(pe),Re&&Re.l(pe),ce=C(pe),et&&et.l(pe),pe.forEach(p),this.h()},h(){_(t,"class","df"),_(s,"class","trigger-price H-7t5lg6"),_(h,"class","quantity H-7t5lg6"),_(B,"class","T3"),_(z,"class","ml4 T1 wsn"),_(A,"class","df aic mt8 f12"),_(K,"class","slider H-7t5lg6"),_(x,"class","T3"),_(ge,"class","T1"),_(te,"class","df aic jcsb cost mt12 f12"),_(e,"class","mt12")},m(he,pe){Y(he,e,pe),u(e,t),ie(r,t,null),u(e,i),u(e,s),ie(a,s,null),u(e,f),ke&&ke.m(e,null),u(e,d),u(e,h),ie(m,h,null),u(e,T),ie(w,e,null),u(e,I),u(e,A),u(A,B),u(B,$),u(A,P),u(A,z),u(z,O),u(z,M),u(z,Q),u(e,j),u(e,K),ie(W,K,null),u(e,J),ie(R,e,null),u(e,X),u(e,te),u(te,oe),u(oe,x),u(x,G),u(oe,re),u(oe,ge),u(ge,we),u(ge,ee),u(ge,Se),u(te,qe),ie(Ce,te,null),u(e,Be),Re&&Re.m(e,null),u(e,ce),et&&et.m(e,null),fe=!0},p(he,pe){const ue={};pe[0]&131072&&(ue.options=$r.createConditionalTypeOptions(he[17],dt,bt)),!l&&pe[0]&128&&(l=!0,ue.value=he[7],Ye(()=>l=!1)),r.$set(ue);const Ae={};pe[0]&4&&(Ae.factor=he[2].quoteQtyFactor),pe[0]&4&&(Ae.scale=he[2].quoteQtyScale),pe[0]&4&&(Ae.tickSizeEp=he[2].quoteTickSizeEv),pe[0]&4&&(Ae.precision=he[2].pricePrecision),pe[0]&4&&(Ae.minPriceEp=he[2].quoteTickSizeEv),pe[0]&4&&(Ae.maxPriceEp=he[2].maxOrderValueEv),pe[0]&131072&&(Ae.label=he[17](dt.TriggerPrice)),pe[0]&4&&(Ae.unit=he[2].quoteCurrency),!o&&pe[0]&8&&(o=!0,Ae.priceEp=he[3],Ye(()=>o=!1)),!c&&pe[0]&2048&&(c=!0,Ae.input=he[11],Ye(()=>c=!1)),a.$set(Ae),he[7]===bt.Limit?ke?(ke.p(he,pe),pe[0]&128&&H(ke,1)):(ke=Pu(he),ke.c(),H(ke,1),ke.m(e,d)):ke&&(Ze(),U(ke,1,1,()=>{ke=null}),xe());const nt={};pe[0]&36&&(nt.factor=he[5]===Me.ByBase?he[2].baseQtyFactor:he[2].quoteQtyFactor),pe[0]&36&&(nt.scale=he[5]===Me.ByBase?he[2].baseQtyScale:he[2].quoteQtyScale),pe[0]&36&&(nt.tickSizeEp=he[5]===Me.ByBase?he[2].baseTickSizeEv:he[2].quoteQtyTickSizeEv),pe[0]&36&&(nt.precision=he[5]===Me.ByBase?he[2].baseQtyPrecision:he[2].quoteQtyPrecision),pe[0]&36&&(nt.minPriceEp=he[5]===Me.ByBase?he[2].baseTickSizeEv:he[2].quoteTickSizeEv),pe[0]&36&&(nt.maxPriceEp=he[5]===Me.ByBase?he[2].maxBaseOrderSizeEv:he[2].maxOrderValueEv),pe[0]&131104&&(nt.label=he[17](he[5]===Me.ByBase?ut.Size:ut.Amount)),pe[0]&32768&&(nt.options=he[15]),!v&&pe[0]&32&&(v=!0,nt.selectValue=he[5],Ye(()=>v=!1)),!k&&pe[0]&64&&(k=!0,nt.priceEp=he[6],Ye(()=>k=!1)),!E&&pe[0]&8192&&(E=!0,nt.input=he[13],Ye(()=>E=!1)),m.$set(nt);const lt={};pe[0]&131072&&(lt.label=he[17](dt.Available)),pe[0]&2&&(lt.value=he[1].availableBalance+" "+he[1].currency),w.$set(lt),(!fe||pe[0]&131073)&&V!==(V=he[17](he[0]===Oe.Buy?dt.MaxBuy:dt.MaxSell)+"")&&N($,V),(!fe||pe[0]&262661)&&F!==(F=nn(he[9],he[2],he[0],he[18])+"")&&N(O,F),(!fe||pe[0]&5)&&L!==(L=(he[0]===Oe.Buy?he[2].displayBaseCurrency:he[2].quoteCurrency)+"")&&N(Q,L);const st={};!Z&&pe[0]&1024&&(Z=!0,st.value=he[10],Ye(()=>Z=!1)),W.$set(st);const ft={};pe[0]&1&&(ft.side=he[0]),pe[0]&16384&&(ft.isPosting=he[14]),pe[0]&4&&(ft.currency=he[2].displayBaseCurrency),R.$set(ft),(!fe||pe[0]&131105)&&de!==(de=rn(he[0],he[5],he[17],dt)+"")&&N(G,de),(!fe||pe[0]&65572)&&Ee!==(Ee=ln(he[2],he[16],he[5])+"")&&N(we,Ee),(!fe||pe[0]&36)&&me!==(me=(he[5]===Me.ByBase?he[2].quoteCurrency:he[2].displayBaseCurrency)+"")&&N(Se,me),he[7]===bt.Market?Re?(Re.p(he,pe),pe[0]&128&&H(Re,1)):(Re=Bu(he),Re.c(),H(Re,1),Re.m(e,ce)):Re&&(Ze(),U(Re,1,1,()=>{Re=null}),xe()),he[7]===bt.Limit?et?(et.p(he,pe),pe[0]&128&&H(et,1)):(et=Du(he),et.c(),H(et,1),et.m(e,null)):et&&(Ze(),U(et,1,1,()=>{et=null}),xe())},i(he){fe||(H(r.$$.fragment,he),H(a.$$.fragment,he),H(ke),H(m.$$.fragment,he),H(w.$$.fragment,he),H(W.$$.fragment,he),H(R.$$.fragment,he),H(Ce.$$.fragment,he),H(Re),H(et),fe=!0)},o(he){U(r.$$.fragment,he),U(a.$$.fragment,he),U(ke),U(m.$$.fragment,he),U(w.$$.fragment,he),U(W.$$.fragment,he),U(R.$$.fragment,he),U(Ce.$$.fragment,he),U(Re),U(et),fe=!1},d(he){he&&p(e),se(r),se(a),ke&&ke.d(),se(m),se(w),se(W),se(R),se(Ce),Re&&Re.d(),et&&et.d()}}}function zm(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k;ne(n,it,ce=>t(17,d=ce)),ne(n,Dr,ce=>t(43,h=ce)),ne(n,Un,ce=>t(29,m=ce)),ne(n,ir,ce=>t(30,v=ce)),ne(n,tr,ce=>t(18,k=ce));let{side:E="Buy"}=e,{wallet:T={availableBalanceEv:0,availableBalance:"0.00",currency:"BTC",displayCurrency:"-"}}=e,{spot:w=null}=e;const I=rt.Conditional;let A=0,B=0,V=Me.ByBase,$=0,P=bt.Limit,z=0,F="GoodTillCancel",O=null,M=null,L=null,Q,j=!1,K=[];Ct(()=>vt.subscribe("global","spot-price-click",ce=>{if(ce.onlyLimitPrice){t(4,B=ce.price),M.focus();return}t(3,A=ce.price),t(4,B=ce.price),O&&O.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",ce=>{t(6,$=ce.quantity),t(5,V=ce.type),L&&L.focus()}));function W(ce,fe){ce&&(fe.isInitPrice||(t(4,B=fe.priceEp),t(3,A=fe.triggerPriceEp)),t(6,$=fe.quantityEv),t(5,V=fe.qtyType),t(7,P=fe.conditionalType),t(8,F=fe.timeInForce))}function Z(){t(6,$=0),Ii.next(V)}async function J(){if(!await x()){if(h.orderSubmitConfirmation){It.create(Oa,{title:d(dt.ConditionalOrder),orderType:I,ordType:Q,spot:w,side:E,triggerPriceEp:A,priceEp:B,quantityEv:$,qtyType:V,timeInForce:F,direction:a});return}t(14,j=!0),await Ts(w,E,B,Q,V,F,$,I,A,a),t(14,j=!1)}}function R(ce,fe,Ve){if(fe===Oe.Buy){if(Ve===bt.Limit){Q=ce>0?"StopLimit":"LimitIfTouched";return}if(Ve===bt.Market){Q=ce>0?"Stop":"MarketIfTouched";return}}if(fe===Oe.Sell){if(Ve===bt.Limit){Q=ce>0?"LimitIfTouched":"StopLimit";return}if(Ve===bt.Market){Q=ce>0?"MarketIfTouched":"Stop";return}}}function X(ce){if(f<=0){t(6,$=0);return}t(6,$=f*Number(ce.detail)/100)}function te(){L&&L.focus()}function oe(ce,fe){if(fe<=0){t(10,z=0);return}if(ce>fe){t(10,z=100);return}t(10,z=parseInt(String(ce/fe*100)))}async function x(){const ce={quantityEv:$,priceEp:B,triggerPriceEp:A},fe={orderType:rt.Conditional,qtyType:V,side:E,maxAmountEv:o,availableBalanceEv:T.availableBalanceEv,costEv:c,spot:w,lastPriceEp:i,conditionalType:P},Ve=await va(d,ce,fe);return Ve?(vt.send("toast","info",{message:Ve}),!0):!1}function de(ce){const fe=ce.detail;Bl.updateSpotStorage({advancedIsShow:fe})}function G(ce){ce&&t(15,K=[{text:ce.displayBaseCurrency,value:Me.ByBase},{text:ce.quoteCurrency,value:Me.ByQuote}])}function re(ce){P=ce,t(7,P)}function ge(ce){A=ce,t(3,A)}function Ee(ce){O=ce,t(11,O)}function we(ce){M=ce,t(12,M)}function ee(ce){B=ce,t(4,B)}function me(ce){V=ce,t(5,V)}function Se(ce){$=ce,t(6,$)}function qe(ce){L=ce,t(13,L)}function Ce(ce){z=ce,t(10,z)}function Be(ce){F=ce,t(8,F)}return n.$$set=ce=>{"side"in ce&&t(0,E=ce.side),"wallet"in ce&&t(1,T=ce.wallet),"spot"in ce&&t(2,w=ce.spot)},n.$$.update=()=>{n.$$.dirty[0]&4&&G(w),n.$$.dirty[0]&32&&Z(),n.$$.dirty[0]&1073741824&&t(28,r=v),n.$$.dirty[0]&268435461&&t(26,l=sr(w,r,E,I)),n.$$.dirty[0]&536870912&&t(24,i=m.closeEp),n.$$.dirty[0]&16777224&&t(27,s=ga(A,i)),n.$$.dirty[0]&134217728&&(a=ba(s)),n.$$.dirty[0]&335544320&&W(l,r),n.$$.dirty[0]&23&&t(9,o=cn(T,w,B,E)),n.$$.dirty[0]&116&&t(16,c=Vn(w,rt.Conditional,B,V,$)),n.$$.dirty[0]&547&&t(25,f=fn(T,E,V,o)),n.$$.dirty[0]&134217857&&R(s,E,P),n.$$.dirty[0]&67109368&&ar(l,{priceEp:B,quantityEv:$,qtyType:V,triggerPriceEp:A,conditionalType:P,timeInForce:F}),n.$$.dirty[0]&33554496&&oe($,f)},[E,T,w,A,B,V,$,P,F,o,z,O,M,L,j,K,c,d,k,I,J,X,te,de,i,f,l,s,r,m,v,re,ge,Ee,we,ee,me,Se,qe,Ce,Be]}let Fm=class extends je{constructor(e){super(),We(this,e,zm,Um,Fe,{side:0,wallet:1,spot:2},null,[-1,-1])}};function Rm(n){let e,t;return e=new Hm({props:{side:n[0],spot:n[2],wallet:n[3]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&8&&(i.wallet=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Qm(n){let e,t;return e=new Lm({props:{side:n[0],spot:n[2],wallet:n[3]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&8&&(i.wallet=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function jm(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Wm(n){let e,t,r,l;const i=[jm,Qm],s=[];function a(o,c){return o[5]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Gm(n){let e,t;return e=new Fm({props:{side:n[0],spot:n[2],wallet:n[3]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&8&&(i.wallet=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Ym(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Km(n){let e,t,r,l;const i=[Ym,Gm],s=[];function a(o,c){return o[5]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Xm(n){let e,t,r,l,i,s=n[4](dt.Limit)+"",a,o,c,f=n[4](dt.Market)+"",d,h,m,v=n[4](dt.Conditional)+"",k,E,T,w,I,A,B,V,$,P,z,F,O;return t=new Da({props:{side:n[0]}}),t.$on("changeSideType",n[7]),w=new xt({props:{active:n[1]===rt.Limit,$$slots:{default:[Rm]},$$scope:{ctx:n}}}),A=new xt({props:{active:n[1]===rt.Market,$$slots:{default:[Wm]},$$scope:{ctx:n}}}),V=new xt({props:{active:n[1]===rt.Conditional,$$slots:{default:[Km]},$$scope:{ctx:n}}}),P=new ap({}),{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div"),i=g("span"),a=q(s),o=S(),c=g("span"),d=q(f),h=S(),m=g("span"),k=q(v),E=S(),T=g("div"),le(w.$$.fragment),I=S(),le(A.$$.fragment),B=S(),le(V.$$.fragment),$=S(),le(P.$$.fragment),this.h()},l(M){e=b(M,"DIV",{class:!0});var L=y(e);ae(t.$$.fragment,L),r=C(L),l=b(L,"DIV",{class:!0});var Q=y(l);i=b(Q,"SPAN",{class:!0});var j=y(i);a=D(j,s),j.forEach(p),o=C(Q),c=b(Q,"SPAN",{class:!0});var K=y(c);d=D(K,f),K.forEach(p),h=C(Q),m=b(Q,"SPAN",{class:!0});var W=y(m);k=D(W,v),W.forEach(p),Q.forEach(p),E=C(L),T=b(L,"DIV",{class:!0});var Z=y(T);ae(w.$$.fragment,Z),I=C(Z),ae(A.$$.fragment,Z),B=C(Z),ae(V.$$.fragment,Z),Z.forEach(p),$=C(L),ae(P.$$.fragment,L),L.forEach(p),this.h()},h(){_(i,"class","tab limit H-1ab8zco"),$e(i,"active",n[1]===rt.Limit),_(c,"class","tab market H-1ab8zco"),$e(c,"active",n[1]===rt.Market),_(m,"class","tab conditional H-1ab8zco"),$e(m,"active",n[1]===rt.Conditional),_(l,"class","tab-wrap df T2 cp f12 H-1ab8zco"),_(T,"class","main H-1ab8zco"),_(e,"class","wrap ph12")},m(M,L){Y(M,e,L),ie(t,e,null),u(e,r),u(e,l),u(l,i),u(i,a),u(l,o),u(l,c),u(c,d),u(l,h),u(l,m),u(m,k),u(e,E),u(e,T),ie(w,T,null),u(T,I),ie(A,T,null),u(T,B),ie(V,T,null),u(e,$),ie(P,e,null),z=!0,F||(O=[Je(i,"click",n[6](rt.Limit)),Je(c,"click",n[6](rt.Market)),Je(m,"click",n[6](rt.Conditional))],F=!0)},p(M,[L]){const Q={};L&1&&(Q.side=M[0]),t.$set(Q),(!z||L&16)&&s!==(s=M[4](dt.Limit)+"")&&N(a,s),(!z||L&2)&&$e(i,"active",M[1]===rt.Limit),(!z||L&16)&&f!==(f=M[4](dt.Market)+"")&&N(d,f),(!z||L&2)&&$e(c,"active",M[1]===rt.Market),(!z||L&16)&&v!==(v=M[4](dt.Conditional)+"")&&N(k,v),(!z||L&2)&&$e(m,"active",M[1]===rt.Conditional);const j={};L&2&&(j.active=M[1]===rt.Limit),L&16397&&(j.$$scope={dirty:L,ctx:M}),w.$set(j);const K={};L&2&&(K.active=M[1]===rt.Market),L&16429&&(K.$$scope={dirty:L,ctx:M}),A.$set(K);const W={};L&2&&(W.active=M[1]===rt.Conditional),L&16429&&(W.$$scope={dirty:L,ctx:M}),V.$set(W)},i(M){z||(H(t.$$.fragment,M),H(w.$$.fragment,M),H(A.$$.fragment,M),H(V.$$.fragment,M),H(P.$$.fragment,M),z=!0)},o(M){U(t.$$.fragment,M),U(w.$$.fragment,M),U(A.$$.fragment,M),U(V.$$.fragment,M),U(P.$$.fragment,M),z=!1},d(M){M&&p(e),se(t),se(w),se(A),se(V),se(P),F=!1,an(O)}}}function Jm(n,e,t){let r,l,i,s,a,o,c;ne(n,Ht,E=>t(2,i=E)),ne(n,zl,E=>t(8,s=E)),ne(n,Ba,E=>t(9,a=E)),ne(n,it,E=>t(4,o=E)),ne(n,br,E=>t(5,c=E));const f=[""];let d={availableBalanceEv:0,availableBalance:"0.00",currency:"BTC",displayCurrency:"-"};function h(E){return function(){Ds.next(E)}}function m(E,T,w){const{baseCurrency:I,quoteCurrency:A}=T,B=w===Oe.Buy?A:I;t(3,d=E.find(V=>V.currency===B)||{availableBalanceEv:0,availableBalance:"0.00",currency:"BTC",displayCurrency:"-"})}function v(E,T){T.find(w=>w===E.symbol)}function k(E){qs.next(E.detail)}return n.$$.update=()=>{n.$$.dirty&512&&t(0,r=a.sideType),n.$$.dirty&512&&t(1,l=a.orderType),n.$$.dirty&261&&m(s,i,r),n.$$.dirty&3&&ya({orderType:l,side:r}),n.$$.dirty&4&&v(i,f)},[r,l,i,d,o,c,h,k,s,a]}let Zm=class extends je{constructor(e){super(),We(this,e,Jm,Xm,Fe,{})}};const Cn={RequirementsNotMet:"c49e7f",OrderConditions:"029217",DebtConditions:"35308a",WithdrawAndDepositConditions:"ee2cbb",OperateBtn:"b6f450"};function Au(n){let e,t,r,l,i,s,a=n[3](Cn.WithdrawAndDepositConditions)+"",o,c,f,d;return f=new Nt({props:{class:"operate",size:"small",type:"ghost",$$slots:{default:[xm]},$$scope:{ctx:n}}}),f.$on("click",n[6]),{c(){e=g("div"),t=g("div"),r=g("i"),l=q(""),i=S(),s=g("span"),o=q(a),c=S(),le(f.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);t=b(m,"DIV",{class:!0});var v=y(t);r=b(v,"I",{class:!0});var k=y(r);l=D(k,""),k.forEach(p),i=C(v),s=b(v,"SPAN",{class:!0});var E=y(s);o=D(E,a),E.forEach(p),v.forEach(p),c=C(m),ae(f.$$.fragment,m),m.forEach(p),this.h()},h(){_(r,"class","iconfont warning H-971z5w"),_(s,"class","f1 ml8 f14 T1"),_(t,"class","f1 df"),_(e,"class","df aic jcsb mb24")},m(h,m){Y(h,e,m),u(e,t),u(t,r),u(r,l),u(t,i),u(t,s),u(s,o),u(e,c),ie(f,e,null),d=!0},p(h,m){(!d||m&8)&&a!==(a=h[3](Cn.WithdrawAndDepositConditions)+"")&&N(o,a);const v={};m&2056&&(v.$$scope={dirty:m,ctx:h}),f.$set(v)},i(h){d||(H(f.$$.fragment,h),d=!0)},o(h){U(f.$$.fragment,h),d=!1},d(h){h&&p(e),se(f)}}}function xm(n){let e,t=n[3](Cn.OperateBtn)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","BLUE")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8&&t!==(t=l[3](Cn.OperateBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function Vu(n){let e,t,r,l,i,s,a=n[3](Cn.OrderConditions)+"",o,c,f,d;return f=new Nt({props:{class:"operate",size:"small",type:"ghost",$$slots:{default:[e_]},$$scope:{ctx:n}}}),f.$on("click",n[4]),{c(){e=g("div"),t=g("div"),r=g("i"),l=q(""),i=S(),s=g("span"),o=q(a),c=S(),le(f.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);t=b(m,"DIV",{class:!0});var v=y(t);r=b(v,"I",{class:!0});var k=y(r);l=D(k,""),k.forEach(p),i=C(v),s=b(v,"SPAN",{class:!0});var E=y(s);o=D(E,a),E.forEach(p),v.forEach(p),c=C(m),ae(f.$$.fragment,m),m.forEach(p),this.h()},h(){_(r,"class","iconfont warning H-971z5w"),_(s,"class","f1 ml8 f14 T1"),_(t,"class","f1 df"),_(e,"class","df aic jcsb mb24")},m(h,m){Y(h,e,m),u(e,t),u(t,r),u(r,l),u(t,i),u(t,s),u(s,o),u(e,c),ie(f,e,null),d=!0},p(h,m){(!d||m&8)&&a!==(a=h[3](Cn.OrderConditions)+"")&&N(o,a);const v={};m&2056&&(v.$$scope={dirty:m,ctx:h}),f.$set(v)},i(h){d||(H(f.$$.fragment,h),d=!0)},o(h){U(f.$$.fragment,h),d=!1},d(h){h&&p(e),se(f)}}}function e_(n){let e,t=n[3](Cn.OperateBtn)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","BLUE")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8&&t!==(t=l[3](Cn.OperateBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function Hu(n){let e,t,r,l,i,s,a=n[3](Cn.DebtConditions)+"",o,c,f,d;return f=new Nt({props:{class:"operate",size:"small",type:"ghost",$$slots:{default:[t_]},$$scope:{ctx:n}}}),f.$on("click",n[5]),{c(){e=g("div"),t=g("div"),r=g("i"),l=q(""),i=S(),s=g("span"),o=q(a),c=S(),le(f.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);t=b(m,"DIV",{class:!0});var v=y(t);r=b(v,"I",{class:!0});var k=y(r);l=D(k,""),k.forEach(p),i=C(v),s=b(v,"SPAN",{class:!0});var E=y(s);o=D(E,a),E.forEach(p),v.forEach(p),c=C(m),ae(f.$$.fragment,m),m.forEach(p),this.h()},h(){_(r,"class","iconfont warning H-971z5w"),_(s,"class","f1 ml8 f14 T1"),_(t,"class","f1 df"),_(e,"class","df aic jcsb")},m(h,m){Y(h,e,m),u(e,t),u(t,r),u(r,l),u(t,i),u(t,s),u(s,o),u(e,c),ie(f,e,null),d=!0},p(h,m){(!d||m&8)&&a!==(a=h[3](Cn.DebtConditions)+"")&&N(o,a);const v={};m&2056&&(v.$$scope={dirty:m,ctx:h}),f.$set(v)},i(h){d||(H(f.$$.fragment,h),d=!0)},o(h){U(f.$$.fragment,h),d=!1},d(h){h&&p(e),se(f)}}}function t_(n){let e,t=n[3](Cn.OperateBtn)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","BLUE")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&8&&t!==(t=l[3](Cn.OperateBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function n_(n){let e,t,r=n[3](en.AccountUpgrade)+"",l,i,s,a,o,c,f,d=n[3](Cn.RequirementsNotMet)+"",h,m,v,k,E,T,w=!n[0]&&Au(n),I=!n[1]&&Vu(n),A=!n[2]&&Hu(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),a=g("img"),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),w&&w.c(),k=S(),I&&I.c(),E=S(),A&&A.c(),this.h()},l(B){e=b(B,"DIV",{class:!0});var V=y(e);t=b(V,"DIV",{class:!0});var $=y(t);l=D($,r),$.forEach(p),i=C(V),s=b(V,"DIV",{class:!0});var P=y(s);a=b(P,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),c=C(P),f=b(P,"DIV",{class:!0});var z=y(f);h=D(z,d),z.forEach(p),P.forEach(p),m=C(V),v=b(V,"DIV",{});var F=y(v);w&&w.l(F),k=C(F),I&&I.l(F),E=C(F),A&&A.l(F),F.forEach(p),V.forEach(p),this.h()},h(){_(t,"class","title lh44 f32 fw2 T1 H-971z5w"),_(a,"class","lazyload dib"),_(a,"width","86"),_(a,"height","86"),Yt(a.src,o="https://img.phemex.com/v1/c9af1ab5/warning-img.png")||_(a,"src",o),_(a,"alt",""),_(f,"class","mt24 f16 fw3 T1"),_(s,"class","mb52 tc H-971z5w"),_(e,"class","wrap light H-971z5w")},m(B,V){Y(B,e,V),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,c),u(s,f),u(f,h),u(e,m),u(e,v),w&&w.m(v,null),u(v,k),I&&I.m(v,null),u(v,E),A&&A.m(v,null),T=!0},p(B,[V]){(!T||V&8)&&r!==(r=B[3](en.AccountUpgrade)+"")&&N(l,r),(!T||V&8)&&d!==(d=B[3](Cn.RequirementsNotMet)+"")&&N(h,d),B[0]?w&&(Ze(),U(w,1,1,()=>{w=null}),xe()):w?(w.p(B,V),V&1&&H(w,1)):(w=Au(B),w.c(),H(w,1),w.m(v,k)),B[1]?I&&(Ze(),U(I,1,1,()=>{I=null}),xe()):I?(I.p(B,V),V&2&&H(I,1)):(I=Vu(B),I.c(),H(I,1),I.m(v,E)),B[2]?A&&(Ze(),U(A,1,1,()=>{A=null}),xe()):A?(A.p(B,V),V&4&&H(A,1)):(A=Hu(B),A.c(),H(A,1),A.m(v,null))},i(B){T||(H(w),H(I),H(A),T=!0)},o(B){U(w),U(I),U(A),T=!1},d(B){B&&p(e),w&&w.d(),I&&I.d(),A&&A.d()}}}function r_(n,e,t){let r,l;ne(n,er,v=>t(9,r=v)),ne(n,it,v=>t(3,l=v));let{withdrawAndDepositCheckPassed:i=!1}=e,{withdrawAndDepositCheckDetail:s=null}=e,{spotOrderCheckPassed:a=!1}=e,{spotOrderCheckDetail:o=null}=e,{marginBorrowCheckPassed:c=!1}=e;const f=Lt();function d(){let v=Dt.SPOT_TRADE;o&&(o.spotOrderCheckPassed?o.marginOrderCheckPassed||(v=Dt.PHEMEX_MARGIN_TRADE):v=Dt.SPOT_TRADE),window.location.assign(v),f("close")}function h(){window.location.assign(r(Dt.ASSETS_MARGIN_ACCOUNT)),f("close")}function m(){let v=Dt.ASSETS_DETAILS+"?tab=Deposit";s&&(s.cryptoDepositCheckPassed?s.cryptoWithdrawCheckPassed?s.bankTransferCheckPassed?s.thirdPartyCheckPassed?s.creditOrDebitCardCheckPassed?(!s.p2pOrderCheckPassed||!s.p2pAdsCheckPassed)&&(v=Dt.BUY_CRYPTO_P2P_ORDERS+"?type=processing"):v=Dt.ASSETS_BUY_CRYPTO_HISTORY+"?status=PROCESSING&paymentMethod=creditDebitCard":v=Dt.ASSETS_BUY_CRYPTO_HISTORY+"?status=processing&paymentMethod=thirdParty":v=Dt.ASSETS_BUY_CRYPTO_HISTORY+"?status=started&paymentMethod=bankTransfer":v=Dt.ASSETS_DETAILS+"?tab=Withdrawal":v=Dt.ASSETS_DETAILS+"?tab=Deposit"),window.location.assign(r(v)),f("close")}return n.$$set=v=>{"withdrawAndDepositCheckPassed"in v&&t(0,i=v.withdrawAndDepositCheckPassed),"withdrawAndDepositCheckDetail"in v&&t(7,s=v.withdrawAndDepositCheckDetail),"spotOrderCheckPassed"in v&&t(1,a=v.spotOrderCheckPassed),"spotOrderCheckDetail"in v&&t(8,o=v.spotOrderCheckDetail),"marginBorrowCheckPassed"in v&&t(2,c=v.marginBorrowCheckPassed)},[i,a,c,l,d,h,m,s,o]}let l_=class extends je{constructor(e){super(),We(this,e,r_,n_,Fe,{withdrawAndDepositCheckPassed:0,withdrawAndDepositCheckDetail:7,spotOrderCheckPassed:1,spotOrderCheckDetail:8,marginBorrowCheckPassed:2})}};function i_(n){let e,t;return e=new l_({props:{withdrawAndDepositCheckPassed:n[0],spotOrderCheckPassed:n[2],marginBorrowCheckPassed:n[4],withdrawAndDepositCheckDetail:n[1],spotOrderCheckDetail:n[3]}}),e.$on("close",n[5]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.withdrawAndDepositCheckPassed=r[0]),l&4&&(i.spotOrderCheckPassed=r[2]),l&16&&(i.marginBorrowCheckPassed=r[4]),l&2&&(i.withdrawAndDepositCheckDetail=r[1]),l&8&&(i.spotOrderCheckDetail=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function s_(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont db T4 H-16ahtls"),_(e,"class","cancel-btn df aic jcc cp H-16ahtls"),_(e,"slot","header")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(e,"click",n[6]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function a_(n){let e,t,r;return t=new Pi({props:{visible:!0,modalStyle:{width:"480px"},$$slots:{header:[s_],default:[i_]},$$scope:{ctx:n}}}),t.$on("close",n[5]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","light")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,[i]){const s={};i&287&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function o_(n,e,t){let{withdrawAndDepositCheckPassed:r=!1}=e,{withdrawAndDepositCheckDetail:l=null}=e,{spotOrderCheckPassed:i=!1}=e,{spotOrderCheckDetail:s=null}=e,{marginBorrowCheckPassed:a=!1}=e;const o=Lt();function c(){o("close")}function f(){o("close"),It.create(As)}return n.$$set=d=>{"withdrawAndDepositCheckPassed"in d&&t(0,r=d.withdrawAndDepositCheckPassed),"withdrawAndDepositCheckDetail"in d&&t(1,l=d.withdrawAndDepositCheckDetail),"spotOrderCheckPassed"in d&&t(2,i=d.spotOrderCheckPassed),"spotOrderCheckDetail"in d&&t(3,s=d.spotOrderCheckDetail),"marginBorrowCheckPassed"in d&&t(4,a=d.marginBorrowCheckPassed)},[r,l,i,s,a,c,f]}let op=class extends je{constructor(e){super(),We(this,e,o_,a_,Fe,{withdrawAndDepositCheckPassed:0,withdrawAndDepositCheckDetail:1,spotOrderCheckPassed:2,spotOrderCheckDetail:3,marginBorrowCheckPassed:4})}};const Sn={PopupTitle:"ccdb70",EnsureConditions:"45737d",Condition1:"9640be",Condition2:"6fb09d",Condition3:"e14478",Condition4:"7db1f7",AgreementDesc:"5d4965",TradingRulesForUnifiedTrading:"4650c5",MarginTradingService:"79706b",TermsOfService:"78a934"};function Ou(n,e,t){const r=n.slice();return r[7]=e[t],r[9]=t,r}function Mu(n){let e,t,r=n[9]+1+"",l,i,s,a=n[2](Sn[n[7].descKey])+"",o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),o=q(a),c=S(),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);o=D(m,a),m.forEach(p),c=C(d),d.forEach(p),this.h()},h(){_(t,"class","index db lh16 f12 tc BLUE H-c2pbcq"),_(s,"class","f1 ml8"),_(e,"class","df mb20 f14 T1")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c)},p(f,d){d&4&&a!==(a=f[2](Sn[f[7].descKey])+"")&&N(o,a)},d(f){f&&p(e)}}}function u_(n){let e,t=n[2](Sn.AgreementDesc,{TradingRulesForUnifiedTrading:`<a href="">《${n[2](Sn.TradingRulesForUnifiedTrading)}》</a>`,MarginTradingService:`<a href="">《${n[2](Sn.MarginTradingService)}》</a>`,TermsOfService:`<a href="">《${n[2](Sn.TermsOfService)}》</a>`})+"";return{c(){e=g("span"),this.h()},l(r){e=b(r,"SPAN",{class:!0});var l=y(e);l.forEach(p),this.h()},h(){_(e,"class","ml8")},m(r,l){Y(r,e,l),e.innerHTML=t},p(r,l){l&4&&t!==(t=r[2](Sn.AgreementDesc,{TradingRulesForUnifiedTrading:`<a href="">《${r[2](Sn.TradingRulesForUnifiedTrading)}》</a>`,MarginTradingService:`<a href="">《${r[2](Sn.MarginTradingService)}》</a>`,TermsOfService:`<a href="">《${r[2](Sn.TermsOfService)}》</a>`})+"")&&(e.innerHTML=t)},d(r){r&&p(e)}}}function c_(n){let e,t=n[2](en.UpgradeNowBtn)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](en.UpgradeNowBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function f_(n){let e,t,r,l=n[2](Sn.PopupTitle)+"",i,s,a,o,c=n[2](Sn.EnsureConditions)+"",f,d,h,m,v,k,E,T,w,I=n[3],A=[];for(let $=0;$<I.length;$+=1)A[$]=Mu(Ou(n,I,$));function B($){n[5]($)}let V={class:"aifs usn T1",$$slots:{default:[u_]},$$scope:{ctx:n}};return n[0]!==void 0&&(V.checked=n[0]),v=new yr({props:V}),Ue.push(()=>Ge(v,"checked",B)),T=new Nt({props:{class:"upgrade mt24 wp100",type:"primary",disabled:!n[0]||n[1],$$slots:{default:[c_]},$$scope:{ctx:n}}}),T.$on("click",n[4]),{c(){e=g("div"),t=g("div"),r=g("div"),i=q(l),s=S(),a=g("div"),o=g("div"),f=q(c),d=S();for(let $=0;$<A.length;$+=1)A[$].c();h=S(),m=g("div"),le(v.$$.fragment),E=S(),le(T.$$.fragment),this.h()},l($){e=b($,"DIV",{class:!0});var P=y(e);t=b(P,"DIV",{});var z=y(t);r=b(z,"DIV",{class:!0});var F=y(r);i=D(F,l),F.forEach(p),s=C(z),a=b(z,"DIV",{class:!0});var O=y(a);o=b(O,"DIV",{class:!0});var M=y(o);f=D(M,c),M.forEach(p),d=C(O);for(let Q=0;Q<A.length;Q+=1)A[Q].l(O);O.forEach(p),z.forEach(p),h=C(P),m=b(P,"DIV",{});var L=y(m);ae(v.$$.fragment,L),E=C(L),ae(T.$$.fragment,L),L.forEach(p),P.forEach(p),this.h()},h(){_(r,"class","title lh44 f32 fw2 T1 H-c2pbcq"),_(o,"class","mb20 f16 fw3 T1"),_(a,"class","mt20 mb32"),_(e,"class","wrap df jcsb fdc H-c2pbcq")},m($,P){Y($,e,P),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a),u(a,o),u(o,f),u(a,d);for(let z=0;z<A.length;z+=1)A[z]&&A[z].m(a,null);u(e,h),u(e,m),ie(v,m,null),u(m,E),ie(T,m,null),w=!0},p($,[P]){if((!w||P&4)&&l!==(l=$[2](Sn.PopupTitle)+"")&&N(i,l),(!w||P&4)&&c!==(c=$[2](Sn.EnsureConditions)+"")&&N(f,c),P&12){I=$[3];let O;for(O=0;O<I.length;O+=1){const M=Ou($,I,O);A[O]?A[O].p(M,P):(A[O]=Mu(M),A[O].c(),A[O].m(a,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=I.length}const z={};P&1028&&(z.$$scope={dirty:P,ctx:$}),!k&&P&1&&(k=!0,z.checked=$[0],Ye(()=>k=!1)),v.$set(z);const F={};P&3&&(F.disabled=!$[0]||$[1]),P&1028&&(F.$$scope={dirty:P,ctx:$}),T.$set(F)},i($){w||(H(v.$$.fragment,$),H(T.$$.fragment,$),w=!0)},o($){U(v.$$.fragment,$),U(T.$$.fragment,$),w=!1},d($){$&&p(e),sn(A,$),se(v),se(T)}}}function d_(n,e,t){let r;ne(n,it,f=>t(2,r=f));const l=Lt(),i=[{descKey:"Condition1"},{descKey:"Condition2"},{descKey:"Condition3"},{descKey:"Condition4"}];let s=!1,a=!1;async function o(){t(1,a=!0);try{const{data:f,error:d}=await hr.postUtaSpotUpgradeApply();if(t(1,a=!1),d){if(d.code===38107){const{data:h,error:m}=await hr.getUtaInfo();if(m&&vt.send("toast","error",d),h){const{marginBorrowCheckPassed:v,spotOrderCheckPassed:k,withdrawAndDepositCheckPassed:E,withdrawAndDepositCheckDetail:T,spotOrderCheckDetail:w}=h;It.create(op,{marginBorrowCheckPassed:v,spotOrderCheckPassed:k,withdrawAndDepositCheckPassed:E,withdrawAndDepositCheckDetail:T,spotOrderCheckDetail:w}),l("close")}return}vt.send("toast","error",d)}f&&(l("close"),It.create(lp))}catch{t(1,a=!1)}}function c(f){s=f,t(0,s)}return[s,a,r,i,o,c]}let p_=class extends je{constructor(e){super(),We(this,e,d_,f_,Fe,{})}};function h_(n){let e,t;return e=new p_({}),e.$on("close",n[0]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function m_(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont db T4 H-16ahtls"),_(e,"class","cancel-btn df aic jcc cp H-16ahtls"),_(e,"slot","header")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(e,"click",n[1]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function __(n){let e,t,r;return t=new Pi({props:{visible:!0,modalStyle:{width:"480px"},$$slots:{header:[m_],default:[h_]},$$scope:{ctx:n}}}),t.$on("close",n[0]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","light")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,[i]){const s={};i&8&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function v_(n){const e=Lt();function t(){e("close")}function r(){e("close"),It.create(As)}return[t,r]}let up=class extends je{constructor(e){super(),We(this,e,v_,__,Fe,{})}};const Yn={Question1:"ca6612",Question1NoDesc1:"1d2bd3",Question2:"b2fc5c",Question2NoDesc1:"e21e07",Question3:"ff28e4",Question3NoDesc1:"de15cb",Yes:"436ccf",No:"ef8bd8"};function Lu(n,e,t){const r=n.slice();return r[7]=e[t],r}function Nu(n){let e,t=n[1].noDesc,r=[];for(let l=0;l<t.length;l+=1)r[l]=Uu(Lu(n,t,l));return{c(){e=g("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);for(let s=0;s<r.length;s+=1)r[s].l(i);i.forEach(p),this.h()},h(){_(e,"class","desc mt12 H-16ltxag")},m(l,i){Y(l,e,i);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(l,i){if(i&2){t=l[1].noDesc;let s;for(s=0;s<t.length;s+=1){const a=Lu(l,t,s);r[s]?r[s].p(a,i):(r[s]=Uu(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(l){l&&p(e),sn(r,l)}}}function Uu(n){let e,t=n[7]+"",r;return{c(){e=g("li"),r=q(t),this.h()},l(l){e=b(l,"LI",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","mt8 f12 T1 H-16ltxag")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[7]+"")&&N(r,t)},d(l){l&&p(e)}}}function g_(n){let e,t,r=n[0]+1+"",l,i,s,a=n[1].question+"",o,c,f,d,h,m=n[3](Yn.Yes)+"",v,k,E,T,w,I,A,B,V=n[3](Yn.No)+"",$,P,z,F,O,M,L,Q,j=n[2]==="no"&&n[1].noDesc.length>0&&Nu(n);return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),o=q(a),c=S(),f=g("div"),d=g("div"),h=g("span"),v=q(m),k=S(),E=g("span"),T=g("i"),w=q(""),I=S(),A=g("div"),B=g("span"),$=q(V),P=S(),z=g("span"),F=g("i"),O=q(""),M=S(),j&&j.c(),this.h()},l(K){e=b(K,"DIV",{class:!0});var W=y(e);t=b(W,"SPAN",{});var Z=y(t);l=D(Z,r),Z.forEach(p),i=C(W),s=b(W,"SPAN",{});var J=y(s);o=D(J,a),J.forEach(p),W.forEach(p),c=C(K),f=b(K,"DIV",{class:!0});var R=y(f);d=b(R,"DIV",{class:!0});var X=y(d);h=b(X,"SPAN",{class:!0});var te=y(h);v=D(te,m),te.forEach(p),k=C(X),E=b(X,"SPAN",{class:!0});var oe=y(E);T=b(oe,"I",{class:!0});var x=y(T);w=D(x,""),x.forEach(p),oe.forEach(p),X.forEach(p),I=C(R),A=b(R,"DIV",{class:!0});var de=y(A);B=b(de,"SPAN",{class:!0});var G=y(B);$=D(G,V),G.forEach(p),P=C(de),z=b(de,"SPAN",{class:!0});var re=y(z);F=b(re,"I",{class:!0});var ge=y(F);O=D(ge,""),ge.forEach(p),re.forEach(p),de.forEach(p),M=C(R),j&&j.l(R),R.forEach(p),this.h()},h(){_(e,"class","mb12"),_(h,"class","f16 fw3"),_(T,"class","iconfont dib f12 H-16ltxag"),_(E,"class","icon dif jcc aic H-16ltxag"),_(d,"class","ans yes df jcsb aic mb12 cp T1 H-16ltxag"),$e(d,"checked",n[2]==="yes"),_(B,"class","f16 fw3"),_(F,"class","iconfont dib f12 H-16ltxag"),_(z,"class","icon dif jcc aic H-16ltxag"),_(A,"class","ans no df jcsb aic cp T1 H-16ltxag"),$e(A,"checked",n[2]==="no"),_(f,"class","mb24")},m(K,W){Y(K,e,W),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),Y(K,c,W),Y(K,f,W),u(f,d),u(d,h),u(h,v),u(d,k),u(d,E),u(E,T),u(T,w),u(f,I),u(f,A),u(A,B),u(B,$),u(A,P),u(A,z),u(z,F),u(F,O),u(f,M),j&&j.m(f,null),L||(Q=[Je(d,"click",Pl(n[4],"yes")),Je(A,"click",Pl(n[4],"no"))],L=!0)},p(K,[W]){W&1&&r!==(r=K[0]+1+"")&&N(l,r),W&2&&a!==(a=K[1].question+"")&&N(o,a),W&8&&m!==(m=K[3](Yn.Yes)+"")&&N(v,m),W&4&&$e(d,"checked",K[2]==="yes"),W&8&&V!==(V=K[3](Yn.No)+"")&&N($,V),W&4&&$e(A,"checked",K[2]==="no"),K[2]==="no"&&K[1].noDesc.length>0?j?j.p(K,W):(j=Nu(K),j.c(),j.m(f,null)):j&&(j.d(1),j=null)},i:Qe,o:Qe,d(K){K&&p(e),K&&p(c),K&&p(f),j&&j.d(),L=!1,an(Q)}}}function b_(n,e,t){let r;ne(n,it,f=>t(3,r=f));const l=Lt();let{name:i}=e,{index:s}=e,{question:a}=e,o=null;function c(f){l("change",{[i]:f}),t(2,o=f)}return n.$$set=f=>{"name"in f&&t(5,i=f.name),"index"in f&&t(0,s=f.index),"question"in f&&t(1,a=f.question)},[s,a,o,r,c,i]}let y_=class extends je{constructor(e){super(),We(this,e,b_,g_,Fe,{name:5,index:0,question:1})}};function zu(n,e,t){const r=n.slice();return r[9]=e[t],r[11]=t,r}function Fu(n){let e,t;return e=new y_({props:{name:n[9].name,question:n[9],index:n[11]}}),e.$on("change",n[3]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&2&&(i.name=r[9].name),l&2&&(i.question=r[9]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function E_(n){let e,t=n[0](wt.Confirm)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&1&&t!==(t=l[0](wt.Confirm)+"")&&N(r,t)},d(l){l&&p(e)}}}function k_(n){let e,t,r=n[0](en.AccountUpgrade)+"",l,i,s,a,o,c,f=n[1],d=[];for(let m=0;m<f.length;m+=1)d[m]=Fu(zu(n,f,m));const h=m=>U(d[m],1,1,()=>{d[m]=null});return o=new Nt({props:{class:"upgrade wp100",type:"primary",disabled:n[2],$$slots:{default:[E_]},$$scope:{ctx:n}}}),o.$on("click",n[4]),{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div");for(let m=0;m<d.length;m+=1)d[m].c();a=S(),le(o.$$.fragment),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"DIV",{class:!0});var k=y(t);l=D(k,r),k.forEach(p),i=C(v),s=b(v,"DIV",{class:!0});var E=y(s);for(let T=0;T<d.length;T+=1)d[T].l(E);E.forEach(p),a=C(v),ae(o.$$.fragment,v),v.forEach(p),this.h()},h(){_(t,"class","title lh44 f32 fw2 T1 H-156sfn9"),_(s,"class","mt20 mb32"),_(e,"class","wrap H-156sfn9")},m(m,v){Y(m,e,v),u(e,t),u(t,l),u(e,i),u(e,s);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(s,null);u(e,a),ie(o,e,null),c=!0},p(m,[v]){if((!c||v&1)&&r!==(r=m[0](en.AccountUpgrade)+"")&&N(l,r),v&10){f=m[1];let E;for(E=0;E<f.length;E+=1){const T=zu(m,f,E);d[E]?(d[E].p(T,v),H(d[E],1)):(d[E]=Fu(T),d[E].c(),H(d[E],1),d[E].m(s,null))}for(Ze(),E=f.length;E<d.length;E+=1)h(E);xe()}const k={};v&4&&(k.disabled=m[2]),v&4097&&(k.$$scope={dirty:v,ctx:m}),o.$set(k)},i(m){if(!c){for(let v=0;v<f.length;v+=1)H(d[v]);H(o.$$.fragment,m),c=!0}},o(m){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)U(d[v]);U(o.$$.fragment,m),c=!1},d(m){m&&p(e),sn(d,m),se(o)}}}function w_(n,e,t){let r,l;ne(n,it,h=>t(0,l=h));const i=Lt();let s=!1,a=[],o={};function c(h){t(1,a=[{name:"question1",question:h(Yn.Question1),noDesc:[h(Yn.Question1NoDesc1)]},{name:"question2",question:h(Yn.Question2),noDesc:[h(Yn.Question2NoDesc1)]},{name:"question3",question:h(Yn.Question3),noDesc:[h(Yn.Question3NoDesc1)]}]),t(5,o=a.reduce((m,v)=>Object.assign(Object.assign({},m),{[v.name]:null}),{}))}function f({detail:h}){t(5,o=Object.assign(Object.assign({},o),h))}async function d(){s=!0;try{const{data:h,error:m}=await hr.postUtaSpotUpgradeAnswerCompleted();s=!1,m&&vt.send("toast","error",m),h&&(i("close"),It.create(up))}catch{s=!1}}return n.$$.update=()=>{n.$$.dirty&1&&c(l),n.$$.dirty&32&&t(2,r=Object.values(o).some(h=>h!=="yes"))},[l,a,r,f,d,o]}let $_=class extends je{constructor(e){super(),We(this,e,w_,k_,Fe,{})}};function S_(n){let e,t;return e=new $_({}),e.$on("close",n[0]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function C_(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont db T4 H-16ahtls"),_(e,"class","cancel-btn df aic jcc cp H-16ahtls"),_(e,"slot","header")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(e,"click",n[1]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function T_(n){let e,t,r;return t=new Pi({props:{visible:!0,modalStyle:{width:"480px"},$$slots:{header:[C_],default:[S_]},$$scope:{ctx:n}}}),t.$on("close",n[0]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","wrap light")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,[i]){const s={};i&8&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function I_(n){const e=Lt();function t(){e("close")}function r(){e("close"),It.create(As)}return[t,r]}let P_=class extends je{constructor(e){super(),We(this,e,I_,T_,Fe,{})}};const ct={PopupTitle:"8432f2",MarginSharing:"4a25ed",PhemexSupportedAUnifiedDesc:"e23729",TradeNow:"f0c744",HedgingRisk:"a46c15",HedgingRiskDesc:"7126aa",SpotTrading:"b0c1e0",MarginTrading:"dd3452",Perpetual:"7d32c4",BenefitsOfUnifiedTradingAccount:"44504a",Changes:"74fd63",Before:"7ce3af",After:"5fb41e",Multiple:"8af106",OnlyOne:"c66a1e",TransactionEfficiency:"28d9bf",Low:"6165c4",High:"ad0396",CapitalUtilization:"b4b214",LiquidationRisk:"c2538b",MarginModel:"511190",SingleCurrency:"e84674",CrossCurrency:"bdf7f9",UpgradeBtn:"3cd144",USDTPerp:"a9a05d",MarginTrade:"9e2511",SpotTrade:"daf841",CoinMPerp:"776391"};function B_(n){let e,t=n[2](ct.UpgradeBtn)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](ct.UpgradeBtn)+"")&&N(r,t)},d(l){l&&p(e)}}}function q_(n){let e,t=n[2](ct.PopupTitle)+"",r,l,i,s,a,o,c=n[2](ct.MarginSharing)+"",f,d,h,m=n[2](ct.PhemexSupportedAUnifiedDesc,{AssetsTotal:n[1]})+"",v,k,E,T,w,I,A,B,V,$,P,z,F=n[2](ct.TradeNow)+"",O,M,L,Q,j,K=n[2](ct.USDTPerp)+"",W,Z,J,R,X=n[2](ct.CoinMPerp)+"",te,oe,x,de,G=n[2](ct.SpotTrade)+"",re,ge,Ee,we,ee=n[2](ct.MarginTrade)+"",me,Se,qe,Ce,Be,ce,fe,Ve,Ie,be=n[2](ct.HedgingRisk)+"",_e,ve,ke,Ne=n[2](ct.HedgingRiskDesc)+"",Te,He,ye,Pe,De,Re,et,he,pe=n[2](ct.SpotTrade)+"",ue,Ae,nt,lt,st,ft,mt,at=n[2](ct.MarginTrade)+"",pt,Le,Xe,_t,Jt,Ft,Et,Tt=n[2](ct.Perpetual)+"",ze,tt,Gt,qt,on=n[2](ct.BenefitsOfUnifiedTradingAccount)+"",wn,Rt,Ut,Zt,bn,Hn,zn=n[2](ct.Changes)+"",Er,ur,Vr,Hr,ti=n[2](ct.Before)+"",Bi,Os,Or,Mr,ni=n[2](ct.After)+"",qi,Ms,Fn,Lr,Nr,ri=n[2](Jn.TradingAccount)+"",Di,Ls,Ur,zr,li=n[2](ct.Multiple)+"",Ai,Ns,Fr,Rr,ii=n[2](ct.OnlyOne)+"",Vi,Us,Rn,Qr,jr,si=n[2](ct.CapitalUtilization)+"",Hi,zs,Wr,Gr,ai=n[2](ct.Low)+"",Oi,Fs,Yr,Kr,oi=n[2](ct.High)+"",Mi,Rs,Qn,Xr,Jr,ui=n[2](ct.LiquidationRisk)+"",Li,Qs,Zr,xr,ci=n[2](ct.High)+"",Ni,js,el,tl,fi=n[2](ct.Low)+"",Ui,Ws,jn,nl,rl,di=n[2](ct.MarginModel)+"",zi,Gs,ll,il,pi=n[2](ct.SingleCurrency)+"",Fi,Ys,sl,al,hi=n[2](ct.CrossCurrency)+"",Ri,Ks,Wn,ol,ul,mi=n[2](ct.TransactionEfficiency)+"",Qi,Xs,cl,fl,_i=n[2](ct.Low)+"",ji,Js,dl,pl,vi=n[2](ct.High)+"",Wi,Zs,nr,Pt;return nr=new Nt({props:{class:"upgrade wp100",type:"primary",disabled:n[0],$$slots:{default:[B_]},$$scope:{ctx:n}}}),nr.$on("click",n[4]),{c(){e=g("div"),r=q(t),l=S(),i=g("div"),s=g("div"),a=g("div"),o=g("div"),f=q(c),d=S(),h=g("div"),v=q(m),k=S(),E=g("div"),T=g("div"),w=g("img"),A=S(),B=g("div"),V=g("img"),P=S(),z=g("div"),O=q(F),M=S(),L=g("div"),Q=g("div"),j=g("span"),W=q(K),Z=S(),J=g("div"),R=g("span"),te=q(X),oe=S(),x=g("div"),de=g("span"),re=q(G),ge=S(),Ee=g("div"),we=g("span"),me=q(ee),Se=S(),qe=g("div"),Ce=g("img"),ce=S(),fe=g("div"),Ve=g("div"),Ie=g("div"),_e=q(be),ve=S(),ke=g("div"),Te=q(Ne),He=S(),ye=g("div"),Pe=g("div"),De=g("img"),et=S(),he=g("div"),ue=q(pe),Ae=S(),nt=g("div"),lt=g("img"),ft=S(),mt=g("div"),pt=q(at),Le=S(),Xe=g("div"),_t=g("img"),Ft=S(),Et=g("div"),ze=q(Tt),tt=S(),Gt=g("div"),qt=g("div"),wn=q(on),Rt=S(),Ut=g("div"),Zt=g("div"),bn=g("div"),Hn=g("span"),Er=q(zn),ur=S(),Vr=g("div"),Hr=g("span"),Bi=q(ti),Os=S(),Or=g("div"),Mr=g("span"),qi=q(ni),Ms=S(),Fn=g("div"),Lr=g("div"),Nr=g("span"),Di=q(ri),Ls=S(),Ur=g("div"),zr=g("span"),Ai=q(li),Ns=S(),Fr=g("div"),Rr=g("span"),Vi=q(ii),Us=S(),Rn=g("div"),Qr=g("div"),jr=g("span"),Hi=q(si),zs=S(),Wr=g("div"),Gr=g("span"),Oi=q(ai),Fs=S(),Yr=g("div"),Kr=g("span"),Mi=q(oi),Rs=S(),Qn=g("div"),Xr=g("div"),Jr=g("span"),Li=q(ui),Qs=S(),Zr=g("div"),xr=g("span"),Ni=q(ci),js=S(),el=g("div"),tl=g("span"),Ui=q(fi),Ws=S(),jn=g("div"),nl=g("div"),rl=g("span"),zi=q(di),Gs=S(),ll=g("div"),il=g("span"),Fi=q(pi),Ys=S(),sl=g("div"),al=g("span"),Ri=q(hi),Ks=S(),Wn=g("div"),ol=g("div"),ul=g("span"),Qi=q(mi),Xs=S(),cl=g("div"),fl=g("span"),ji=q(_i),Js=S(),dl=g("div"),pl=g("span"),Wi=q(vi),Zs=S(),le(nr.$$.fragment),this.h()},l(ht){e=b(ht,"DIV",{class:!0});var kt=y(e);r=D(kt,t),kt.forEach(p),l=C(ht),i=b(ht,"DIV",{class:!0});var Pn=y(i);s=b(Pn,"DIV",{class:!0});var Gi=y(s);a=b(Gi,"DIV",{});var Yi=y(a);o=b(Yi,"DIV",{class:!0});var Wa=y(o);f=D(Wa,c),Wa.forEach(p),d=C(Yi),h=b(Yi,"DIV",{class:!0});var Ga=y(h);v=D(Ga,m),Ga.forEach(p),Yi.forEach(p),k=C(Gi),E=b(Gi,"DIV",{class:!0});var cr=y(E);T=b(cr,"DIV",{class:!0});var Ya=y(T);w=b(Ya,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),Ya.forEach(p),A=C(cr),B=b(cr,"DIV",{class:!0});var Ki=y(B);V=b(Ki,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),P=C(Ki),z=b(Ki,"DIV",{class:!0});var Ka=y(z);O=D(Ka,F),Ka.forEach(p),Ki.forEach(p),M=C(cr),L=b(cr,"DIV",{class:!0});var fr=y(L);Q=b(fr,"DIV",{class:!0});var Xa=y(Q);j=b(Xa,"SPAN",{class:!0});var Ja=y(j);W=D(Ja,K),Ja.forEach(p),Xa.forEach(p),Z=C(fr),J=b(fr,"DIV",{class:!0});var Za=y(J);R=b(Za,"SPAN",{class:!0});var xa=y(R);te=D(xa,X),xa.forEach(p),Za.forEach(p),oe=C(fr),x=b(fr,"DIV",{class:!0});var eo=y(x);de=b(eo,"SPAN",{class:!0});var to=y(de);re=D(to,G),to.forEach(p),eo.forEach(p),ge=C(fr),Ee=b(fr,"DIV",{class:!0});var no=y(Ee);we=b(no,"SPAN",{class:!0});var ro=y(we);me=D(ro,ee),ro.forEach(p),no.forEach(p),fr.forEach(p),Se=C(cr),qe=b(cr,"DIV",{class:!0});var lo=y(qe);Ce=b(lo,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),lo.forEach(p),cr.forEach(p),Gi.forEach(p),ce=C(Pn),fe=b(Pn,"DIV",{class:!0});var Xi=y(fe);Ve=b(Xi,"DIV",{});var Ji=y(Ve);Ie=b(Ji,"DIV",{class:!0});var io=y(Ie);_e=D(io,be),io.forEach(p),ve=C(Ji),ke=b(Ji,"DIV",{class:!0});var so=y(ke);Te=D(so,Ne),so.forEach(p),Ji.forEach(p),He=C(Xi),ye=b(Xi,"DIV",{class:!0});var hl=y(ye);Pe=b(hl,"DIV",{class:!0});var Zi=y(Pe);De=b(Zi,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),et=C(Zi),he=b(Zi,"DIV",{class:!0});var ao=y(he);ue=D(ao,pe),ao.forEach(p),Zi.forEach(p),Ae=C(hl),nt=b(hl,"DIV",{class:!0});var xi=y(nt);lt=b(xi,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),ft=C(xi),mt=b(xi,"DIV",{class:!0});var oo=y(mt);pt=D(oo,at),oo.forEach(p),xi.forEach(p),Le=C(hl),Xe=b(hl,"DIV",{class:!0});var es=y(Xe);_t=b(es,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),Ft=C(es),Et=b(es,"DIV",{class:!0});var uo=y(Et);ze=D(uo,Tt),uo.forEach(p),es.forEach(p),hl.forEach(p),Xi.forEach(p),tt=C(Pn),Gt=b(Pn,"DIV",{class:!0});var ts=y(Gt);qt=b(ts,"DIV",{class:!0});var co=y(qt);wn=D(co,on),co.forEach(p),Rt=C(ts),Ut=b(ts,"DIV",{class:!0});var Bn=y(Ut);Zt=b(Bn,"DIV",{class:!0});var ml=y(Zt);bn=b(ml,"DIV",{class:!0});var fo=y(bn);Hn=b(fo,"SPAN",{class:!0});var po=y(Hn);Er=D(po,zn),po.forEach(p),fo.forEach(p),ur=C(ml),Vr=b(ml,"DIV",{class:!0});var ho=y(Vr);Hr=b(ho,"SPAN",{class:!0});var mo=y(Hr);Bi=D(mo,ti),mo.forEach(p),ho.forEach(p),Os=C(ml),Or=b(ml,"DIV",{class:!0});var _o=y(Or);Mr=b(_o,"SPAN",{class:!0});var vo=y(Mr);qi=D(vo,ni),vo.forEach(p),_o.forEach(p),ml.forEach(p),Ms=C(Bn),Fn=b(Bn,"DIV",{class:!0});var _l=y(Fn);Lr=b(_l,"DIV",{class:!0});var go=y(Lr);Nr=b(go,"SPAN",{class:!0});var bo=y(Nr);Di=D(bo,ri),bo.forEach(p),go.forEach(p),Ls=C(_l),Ur=b(_l,"DIV",{class:!0});var yo=y(Ur);zr=b(yo,"SPAN",{class:!0});var Eo=y(zr);Ai=D(Eo,li),Eo.forEach(p),yo.forEach(p),Ns=C(_l),Fr=b(_l,"DIV",{class:!0});var ko=y(Fr);Rr=b(ko,"SPAN",{class:!0});var wo=y(Rr);Vi=D(wo,ii),wo.forEach(p),ko.forEach(p),_l.forEach(p),Us=C(Bn),Rn=b(Bn,"DIV",{class:!0});var vl=y(Rn);Qr=b(vl,"DIV",{class:!0});var $o=y(Qr);jr=b($o,"SPAN",{class:!0});var So=y(jr);Hi=D(So,si),So.forEach(p),$o.forEach(p),zs=C(vl),Wr=b(vl,"DIV",{class:!0});var Co=y(Wr);Gr=b(Co,"SPAN",{class:!0});var To=y(Gr);Oi=D(To,ai),To.forEach(p),Co.forEach(p),Fs=C(vl),Yr=b(vl,"DIV",{class:!0});var Io=y(Yr);Kr=b(Io,"SPAN",{class:!0});var Po=y(Kr);Mi=D(Po,oi),Po.forEach(p),Io.forEach(p),vl.forEach(p),Rs=C(Bn),Qn=b(Bn,"DIV",{class:!0});var gl=y(Qn);Xr=b(gl,"DIV",{class:!0});var Bo=y(Xr);Jr=b(Bo,"SPAN",{class:!0});var qo=y(Jr);Li=D(qo,ui),qo.forEach(p),Bo.forEach(p),Qs=C(gl),Zr=b(gl,"DIV",{class:!0});var Do=y(Zr);xr=b(Do,"SPAN",{class:!0});var Ao=y(xr);Ni=D(Ao,ci),Ao.forEach(p),Do.forEach(p),js=C(gl),el=b(gl,"DIV",{class:!0});var Vo=y(el);tl=b(Vo,"SPAN",{class:!0});var Ho=y(tl);Ui=D(Ho,fi),Ho.forEach(p),Vo.forEach(p),gl.forEach(p),Ws=C(Bn),jn=b(Bn,"DIV",{class:!0});var bl=y(jn);nl=b(bl,"DIV",{class:!0});var Oo=y(nl);rl=b(Oo,"SPAN",{class:!0});var Mo=y(rl);zi=D(Mo,di),Mo.forEach(p),Oo.forEach(p),Gs=C(bl),ll=b(bl,"DIV",{class:!0});var Lo=y(ll);il=b(Lo,"SPAN",{class:!0});var No=y(il);Fi=D(No,pi),No.forEach(p),Lo.forEach(p),Ys=C(bl),sl=b(bl,"DIV",{class:!0});var Uo=y(sl);al=b(Uo,"SPAN",{class:!0});var zo=y(al);Ri=D(zo,hi),zo.forEach(p),Uo.forEach(p),bl.forEach(p),Ks=C(Bn),Wn=b(Bn,"DIV",{class:!0});var yl=y(Wn);ol=b(yl,"DIV",{class:!0});var Fo=y(ol);ul=b(Fo,"SPAN",{class:!0});var Ro=y(ul);Qi=D(Ro,mi),Ro.forEach(p),Fo.forEach(p),Xs=C(yl),cl=b(yl,"DIV",{class:!0});var Qo=y(cl);fl=b(Qo,"SPAN",{class:!0});var jo=y(fl);ji=D(jo,_i),jo.forEach(p),Qo.forEach(p),Js=C(yl),dl=b(yl,"DIV",{class:!0});var Wo=y(dl);pl=b(Wo,"SPAN",{class:!0});var Go=y(pl);Wi=D(Go,vi),Go.forEach(p),Wo.forEach(p),yl.forEach(p),Bn.forEach(p),ts.forEach(p),Zs=C(Pn),ae(nr.$$.fragment,Pn),Pn.forEach(p),this.h()},h(){_(e,"class","title fw2 T1 H-qealiw"),_(o,"class","mb16 lh18 f16 fw3"),_(h,"class","mb16 lh18 f14 T3"),_(w,"class","db"),_(w,"width","113"),_(w,"height","80"),Yt(w.src,I=n[3].before)||_(w,"src",I),_(w,"alt","Upgrade"),_(T,"class","item"),_(V,"class","trade-now-arrow db H-qealiw"),_(V,"width","92"),_(V,"height","10"),Yt(V.src,$=n[3].arrow)||_(V,"src",$),_(V,"alt","Upgrade"),_(z,"class","trade-now pa lh16 f14 fw3 BLUE wsn H-qealiw"),_(B,"class","item pr H-qealiw"),_(j,"class","f10 wsn"),_(Q,"class","mb4 H-qealiw"),_(R,"class","f10 wsn"),_(J,"class","H-qealiw"),_(de,"class","f10 wsn"),_(x,"class","mb4 H-qealiw"),_(we,"class","f10 wsn"),_(Ee,"class","mb4 H-qealiw"),_(L,"class","trade-type ml24 lh16 fw3 tc BLUE xs:ml4 H-qealiw"),_(Ce,"class","db"),_(Ce,"width","90"),_(Ce,"height","76"),Yt(Ce.src,Be=n[3].after)||_(Ce,"src",Be),_(Ce,"alt","Upgrade"),_(qe,"class","item"),_(E,"class","business df jcsb aic fww H-qealiw"),_(s,"class","mb32"),_(Ie,"class","mb16 lh18 f16 fw3"),_(ke,"class","mb16 lh18 f14"),_(De,"class","db mb12"),_(De,"width","44"),_(De,"height","44"),Yt(De.src,Re=n[3].spot)||_(De,"src",Re),_(De,"alt","Spot Trading"),_(he,"class","f14 fw3 BLUE tc xs:f10 H-qealiw"),_(Pe,"class","item f1 df fdc aic H-qealiw"),_(lt,"class","db mb12"),_(lt,"width","44"),_(lt,"height","44"),Yt(lt.src,st=n[3].margin)||_(lt,"src",st),_(lt,"alt","Margin Trading"),_(mt,"class","f14 fw3 BLUE tc xs:f10 H-qealiw"),_(nt,"class","item f1 df fdc aic H-qealiw"),_(_t,"class","db mb12"),_(_t,"width","44"),_(_t,"height","44"),Yt(_t.src,Jt=n[3].contract)||_(_t,"src",Jt),_(_t,"alt","Perpetual"),_(Et,"class","f14 fw3 BLUE tc xs:f10 H-qealiw"),_(Xe,"class","item f1 df fdc aic H-qealiw"),_(ye,"class","hedging-risk df H-qealiw"),_(fe,"class","mb32"),_(qt,"class","mb12 lh18 f16 fw3"),_(Hn,"class","xs:f10 H-qealiw"),_(bn,"class","mb10 H-qealiw"),_(Hr,"class","xs:f10 H-qealiw"),_(Vr,"class","mb10 H-qealiw"),_(Mr,"class","xs:f10 H-qealiw"),_(Or,"class","mb10 H-qealiw"),_(Zt,"class","item T3 H-qealiw"),_(Nr,"class","xs:f10 H-qealiw"),_(Lr,"class","pv10 T3 wsn H-qealiw"),_(zr,"class","xs:f10 H-qealiw"),_(Ur,"class","pv10 H-qealiw"),_(Rr,"class","xs:f10 H-qealiw"),_(Fr,"class","pv10 BLUE H-qealiw"),_(Fn,"class","item H-qealiw"),_(jr,"class","xs:f10 H-qealiw"),_(Qr,"class","pv10 T3 wsn H-qealiw"),_(Gr,"class","xs:f10 H-qealiw"),_(Wr,"class","pv10 H-qealiw"),_(Kr,"class","xs:f10 H-qealiw"),_(Yr,"class","pv10 BLUE H-qealiw"),_(Rn,"class","item H-qealiw"),_(Jr,"class","xs:f10 H-qealiw"),_(Xr,"class","pv10 T3 wsn H-qealiw"),_(xr,"class","xs:f10 H-qealiw"),_(Zr,"class","pv10 H-qealiw"),_(tl,"class","xs:f10 H-qealiw"),_(el,"class","pv10 BLUE H-qealiw"),_(Qn,"class","item H-qealiw"),_(rl,"class","xs:f10 H-qealiw"),_(nl,"class","pv10 T3 wsn H-qealiw"),_(il,"class","xs:f10 H-qealiw"),_(ll,"class","pv10 H-qealiw"),_(al,"class","xs:f10 H-qealiw"),_(sl,"class","pv10 BLUE H-qealiw"),_(jn,"class","item H-qealiw"),_(ul,"class","xs:f10 H-qealiw"),_(ol,"class","pv10 T3 wsn H-qealiw"),_(fl,"class","xs:f10 H-qealiw"),_(cl,"class","pv10 H-qealiw"),_(pl,"class","xs:f10 H-qealiw"),_(dl,"class","pv10 BLUE H-qealiw"),_(Wn,"class","item H-qealiw"),_(Ut,"class","benefits lh20 f14 T1 H-qealiw"),_(Gt,"class","mb32"),_(i,"class","wrap H-qealiw")},m(ht,kt){Y(ht,e,kt),u(e,r),Y(ht,l,kt),Y(ht,i,kt),u(i,s),u(s,a),u(a,o),u(o,f),u(a,d),u(a,h),u(h,v),u(s,k),u(s,E),u(E,T),u(T,w),u(E,A),u(E,B),u(B,V),u(B,P),u(B,z),u(z,O),u(E,M),u(E,L),u(L,Q),u(Q,j),u(j,W),u(L,Z),u(L,J),u(J,R),u(R,te),u(L,oe),u(L,x),u(x,de),u(de,re),u(L,ge),u(L,Ee),u(Ee,we),u(we,me),u(E,Se),u(E,qe),u(qe,Ce),u(i,ce),u(i,fe),u(fe,Ve),u(Ve,Ie),u(Ie,_e),u(Ve,ve),u(Ve,ke),u(ke,Te),u(fe,He),u(fe,ye),u(ye,Pe),u(Pe,De),u(Pe,et),u(Pe,he),u(he,ue),u(ye,Ae),u(ye,nt),u(nt,lt),u(nt,ft),u(nt,mt),u(mt,pt),u(ye,Le),u(ye,Xe),u(Xe,_t),u(Xe,Ft),u(Xe,Et),u(Et,ze),u(i,tt),u(i,Gt),u(Gt,qt),u(qt,wn),u(Gt,Rt),u(Gt,Ut),u(Ut,Zt),u(Zt,bn),u(bn,Hn),u(Hn,Er),u(Zt,ur),u(Zt,Vr),u(Vr,Hr),u(Hr,Bi),u(Zt,Os),u(Zt,Or),u(Or,Mr),u(Mr,qi),u(Ut,Ms),u(Ut,Fn),u(Fn,Lr),u(Lr,Nr),u(Nr,Di),u(Fn,Ls),u(Fn,Ur),u(Ur,zr),u(zr,Ai),u(Fn,Ns),u(Fn,Fr),u(Fr,Rr),u(Rr,Vi),u(Ut,Us),u(Ut,Rn),u(Rn,Qr),u(Qr,jr),u(jr,Hi),u(Rn,zs),u(Rn,Wr),u(Wr,Gr),u(Gr,Oi),u(Rn,Fs),u(Rn,Yr),u(Yr,Kr),u(Kr,Mi),u(Ut,Rs),u(Ut,Qn),u(Qn,Xr),u(Xr,Jr),u(Jr,Li),u(Qn,Qs),u(Qn,Zr),u(Zr,xr),u(xr,Ni),u(Qn,js),u(Qn,el),u(el,tl),u(tl,Ui),u(Ut,Ws),u(Ut,jn),u(jn,nl),u(nl,rl),u(rl,zi),u(jn,Gs),u(jn,ll),u(ll,il),u(il,Fi),u(jn,Ys),u(jn,sl),u(sl,al),u(al,Ri),u(Ut,Ks),u(Ut,Wn),u(Wn,ol),u(ol,ul),u(ul,Qi),u(Wn,Xs),u(Wn,cl),u(cl,fl),u(fl,ji),u(Wn,Js),u(Wn,dl),u(dl,pl),u(pl,Wi),u(i,Zs),ie(nr,i,null),Pt=!0},p(ht,[kt]){(!Pt||kt&4)&&t!==(t=ht[2](ct.PopupTitle)+"")&&N(r,t),(!Pt||kt&4)&&c!==(c=ht[2](ct.MarginSharing)+"")&&N(f,c),(!Pt||kt&6)&&m!==(m=ht[2](ct.PhemexSupportedAUnifiedDesc,{AssetsTotal:ht[1]})+"")&&N(v,m),(!Pt||kt&4)&&F!==(F=ht[2](ct.TradeNow)+"")&&N(O,F),(!Pt||kt&4)&&K!==(K=ht[2](ct.USDTPerp)+"")&&N(W,K),(!Pt||kt&4)&&X!==(X=ht[2](ct.CoinMPerp)+"")&&N(te,X),(!Pt||kt&4)&&G!==(G=ht[2](ct.SpotTrade)+"")&&N(re,G),(!Pt||kt&4)&&ee!==(ee=ht[2](ct.MarginTrade)+"")&&N(me,ee),(!Pt||kt&4)&&be!==(be=ht[2](ct.HedgingRisk)+"")&&N(_e,be),(!Pt||kt&4)&&Ne!==(Ne=ht[2](ct.HedgingRiskDesc)+"")&&N(Te,Ne),(!Pt||kt&4)&&pe!==(pe=ht[2](ct.SpotTrade)+"")&&N(ue,pe),(!Pt||kt&4)&&at!==(at=ht[2](ct.MarginTrade)+"")&&N(pt,at),(!Pt||kt&4)&&Tt!==(Tt=ht[2](ct.Perpetual)+"")&&N(ze,Tt),(!Pt||kt&4)&&on!==(on=ht[2](ct.BenefitsOfUnifiedTradingAccount)+"")&&N(wn,on),(!Pt||kt&4)&&zn!==(zn=ht[2](ct.Changes)+"")&&N(Er,zn),(!Pt||kt&4)&&ti!==(ti=ht[2](ct.Before)+"")&&N(Bi,ti),(!Pt||kt&4)&&ni!==(ni=ht[2](ct.After)+"")&&N(qi,ni),(!Pt||kt&4)&&ri!==(ri=ht[2](Jn.TradingAccount)+"")&&N(Di,ri),(!Pt||kt&4)&&li!==(li=ht[2](ct.Multiple)+"")&&N(Ai,li),(!Pt||kt&4)&&ii!==(ii=ht[2](ct.OnlyOne)+"")&&N(Vi,ii),(!Pt||kt&4)&&si!==(si=ht[2](ct.CapitalUtilization)+"")&&N(Hi,si),(!Pt||kt&4)&&ai!==(ai=ht[2](ct.Low)+"")&&N(Oi,ai),(!Pt||kt&4)&&oi!==(oi=ht[2](ct.High)+"")&&N(Mi,oi),(!Pt||kt&4)&&ui!==(ui=ht[2](ct.LiquidationRisk)+"")&&N(Li,ui),(!Pt||kt&4)&&ci!==(ci=ht[2](ct.High)+"")&&N(Ni,ci),(!Pt||kt&4)&&fi!==(fi=ht[2](ct.Low)+"")&&N(Ui,fi),(!Pt||kt&4)&&di!==(di=ht[2](ct.MarginModel)+"")&&N(zi,di),(!Pt||kt&4)&&pi!==(pi=ht[2](ct.SingleCurrency)+"")&&N(Fi,pi),(!Pt||kt&4)&&hi!==(hi=ht[2](ct.CrossCurrency)+"")&&N(Ri,hi),(!Pt||kt&4)&&mi!==(mi=ht[2](ct.TransactionEfficiency)+"")&&N(Qi,mi),(!Pt||kt&4)&&_i!==(_i=ht[2](ct.Low)+"")&&N(ji,_i),(!Pt||kt&4)&&vi!==(vi=ht[2](ct.High)+"")&&N(Wi,vi);const Pn={};kt&1&&(Pn.disabled=ht[0]),kt&260&&(Pn.$$scope={dirty:kt,ctx:ht}),nr.$set(Pn)},i(ht){Pt||(H(nr.$$.fragment,ht),Pt=!0)},o(ht){U(nr.$$.fragment,ht),Pt=!1},d(ht){ht&&p(e),ht&&p(l),ht&&p(i),se(nr)}}}function D_(n,e,t){let r,l,i;ne(n,qd,d=>t(5,l=d)),ne(n,it,d=>t(2,i=d));const s=Lt(),a=`${vs.STATIC_URL}/pubimg`,o={contract:a+"/a7781485af8e0ffbb6b69025d8fadd9102c2b37171e4470ab0e07b0e3e80c80e.png",spot:a+"/f821c3543d0ee1dd31d53668d0654eb08a34afa881cc1aa3fe2fb4a64e23db8e.png",margin:a+"/0f13a181a5f87d62d620490c276f9a33638c5fb0df6aeece828028296c2c769c.png",before:"https://img.phemex.com/v1/aca2a5c0/margin-ugrade-before.png",after:"https://img.phemex.com/v1/248976b7/margin-ugrade-after.png",arrow:"https://img.phemex.com/v1/7a06860c/upgrade-trade-now-arrow.png"};let c=!1;async function f(){t(0,c=!0);try{const{data:d,error:h}=await hr.getUtaInfo();if(t(0,c=!1),h&&vt.send("toast","error",h),d){const{marginBorrowCheckPassed:m,spotOrderCheckPassed:v,withdrawAndDepositCheckPassed:k,spotUnifiedAccountUpgradeStatus:E,withdrawAndDepositCheckDetail:T,spotOrderCheckDetail:w}=d;m&&v&&k?E===1?It.create(up):It.create(P_):It.create(op,{marginBorrowCheckPassed:m,spotOrderCheckPassed:v,withdrawAndDepositCheckPassed:k,withdrawAndDepositCheckDetail:T,spotOrderCheckDetail:w}),s("close")}}catch{t(0,c=!1)}}return n.$$.update=()=>{n.$$.dirty&32&&t(1,r=l.filter(d=>d.canBorrow).length)},[c,r,i,o,f,l]}let A_=class extends je{constructor(e){super(),We(this,e,D_,q_,Fe,{})}};function V_(n){let e,t;return e=new A_({}),e.$on("close",n[0]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function H_(n){let e,t,r;return t=new Pi({props:{visible:!0,modalStyle:{width:"480px"},$$slots:{default:[V_]},$$scope:{ctx:n}}}),t.$on("close",n[0]),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","light")},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,[i]){const s={};i&4&&(s.$$scope={dirty:i,ctx:l}),t.$set(s)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function O_(n){const e=Lt();function t(){e("close")}return[t]}let As=class extends je{constructor(e){super(),We(this,e,O_,H_,Fe,{})}};const kl={UpgradeDesc1:"40cbdf",UpgradeDesc2:"b552a3",UpgradeDesc3:"b42ad4"};function Ru(n){let e,t,r,l,i,s,a=n[3](en.AccountUpgrade)+"",o,c,f,d,h=n[3](kl.UpgradeDesc1)+"",m,v,k,E=n[3](kl.UpgradeDesc2)+"",T,w,I,A=n[3](kl.UpgradeDesc3)+"",B,V,$,P;return $=new Nt({props:{size:"small",type:"primary",$$slots:{default:[M_]},$$scope:{ctx:n}}}),$.$on("click",n[4]),{c(){e=g("div"),t=g("div"),r=g("img"),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),d=g("div"),m=q(h),v=S(),k=g("div"),T=q(E),w=S(),I=g("div"),B=q(A),V=S(),le($.$$.fragment),this.h()},l(z){e=b(z,"DIV",{class:!0});var F=y(e);t=b(F,"DIV",{class:!0});var O=y(t);r=b(O,"IMG",{width:!0,height:!0,class:!0,src:!0,alt:!0}),i=C(O),s=b(O,"DIV",{class:!0});var M=y(s);o=D(M,a),M.forEach(p),c=C(O),f=b(O,"DIV",{class:!0});var L=y(f);d=b(L,"DIV",{});var Q=y(d);m=D(Q,h),Q.forEach(p),v=C(L),k=b(L,"DIV",{});var j=y(k);T=D(j,E),j.forEach(p),w=C(L),I=b(L,"DIV",{});var K=y(I);B=D(K,A),K.forEach(p),L.forEach(p),V=C(O),ae($.$$.fragment,O),O.forEach(p),F.forEach(p),this.h()},h(){_(r,"width","60"),_(r,"height","60"),_(r,"class","db"),Yt(r.src,l="https://img.phemex.com/v1/eab53b1b/upgrade-icon.png")||_(r,"src",l),_(r,"alt","Upgrade"),_(s,"class","mt16 lh18 f14 fw3 T1"),_(f,"class","mt16 mb16 lh16 f12 T3"),_(t,"class","df fdc aic H-4yq9l6"),_(e,"class","wrap H-4yq9l6")},m(z,F){Y(z,e,F),u(e,t),u(t,r),u(t,i),u(t,s),u(s,o),u(t,c),u(t,f),u(f,d),u(d,m),u(f,v),u(f,k),u(k,T),u(f,w),u(f,I),u(I,B),u(t,V),ie($,t,null),P=!0},p(z,F){(!P||F&8)&&a!==(a=z[3](en.AccountUpgrade)+"")&&N(o,a),(!P||F&8)&&h!==(h=z[3](kl.UpgradeDesc1)+"")&&N(m,h),(!P||F&8)&&E!==(E=z[3](kl.UpgradeDesc2)+"")&&N(T,E),(!P||F&8)&&A!==(A=z[3](kl.UpgradeDesc3)+"")&&N(B,A);const O={};F&72&&(O.$$scope={dirty:F,ctx:z}),$.$set(O)},i(z){P||(H($.$$.fragment,z),P=!0)},o(z){U($.$$.fragment,z),P=!1},d(z){z&&p(e),se($)}}}function M_(n){let e=n[3](en.UpgradeNowBtn)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&8&&e!==(e=r[3](en.UpgradeNowBtn)+"")&&N(t,e)},d(r){r&&p(t)}}}function L_(n){let e,t,r=!n[1]&&n[2]&&(n[0]===0||n[0]===1)&&Ru(n);return{c(){r&&r.c(),e=Ke()},l(l){r&&r.l(l),e=Ke()},m(l,i){r&&r.m(l,i),Y(l,e,i),t=!0},p(l,[i]){!l[1]&&l[2]&&(l[0]===0||l[0]===1)?r?(r.p(l,i),i&7&&H(r,1)):(r=Ru(l),r.c(),H(r,1),r.m(e.parentNode,e)):r&&(Ze(),U(r,1,1,()=>{r=null}),xe())},i(l){t||(H(r),t=!0)},o(l){U(r),t=!1},d(l){r&&r.d(l),l&&p(e)}}}function N_(n,e,t){let r,l,i,s,a;ne(n,Bd,c=>t(5,l=c)),ne(n,pn,c=>t(1,i=c)),ne(n,jp,c=>t(2,s=c)),ne(n,it,c=>t(3,a=c));function o(){It.create(As)}return n.$$.update=()=>{n.$$.dirty&32&&t(0,r=l.spotUnifiedAccountUpgradeStatus)},[r,i,s,a,o,l]}let cp=class extends je{constructor(e){super(),We(this,e,N_,L_,Fe,{})}};function U_(n){let e,t,r,l,i,s,a;return t=new Zm({}),l=new cp({}),s=new sp({}),{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),i=S(),le(s.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);ae(t.$$.fragment,c),r=C(c),ae(l.$$.fragment,c),i=C(c),ae(s.$$.fragment,c),c.forEach(p),this.h()},h(){_(e,"class","pr")},m(o,c){Y(o,e,c),ie(t,e,null),u(e,r),ie(l,e,null),u(e,i),ie(s,e,null),a=!0},p:Qe,i(o){a||(H(t.$$.fragment,o),H(l.$$.fragment,o),H(s.$$.fragment,o),a=!0)},o(o){U(t.$$.fragment,o),U(l.$$.fragment,o),U(s.$$.fragment,o),a=!1},d(o){o&&p(e),se(t),se(l),se(s)}}}let z_=class extends je{constructor(e){super(),We(this,e,null,U_,Fe,{})}};function F_(n){let e,t;const r=n[1].default,l=Cr(r,n,n[0],null);return{c(){e=g("div"),l&&l.c(),this.h()},l(i){e=b(i,"DIV",{class:!0});var s=y(e);l&&l.l(s),s.forEach(p),this.h()},h(){_(e,"class","wrap df fww T2 H-lipa3y")},m(i,s){Y(i,e,s),l&&l.m(e,null),t=!0},p(i,[s]){l&&l.p&&(!t||s&1)&&Tr(l,r,i,i[0],t?Pr(r,i[0],s,null):Ir(i[0]),null)},i(i){t||(H(l,i),t=!0)},o(i){U(l,i),t=!1},d(i){i&&p(e),l&&l.d(i)}}}function R_(n,e,t){let{$$slots:r={},$$scope:l}=e;return n.$$set=i=>{"$$scope"in i&&t(0,l=i.$$scope)},[l,r]}let Vs=class extends je{constructor(e){super(),We(this,e,R_,F_,Fe,{})}};function Q_(n){let e;return{c(){e=q(n[1])},l(t){e=D(t,n[1])},m(t,r){Y(t,e,r)},p(t,r){r&2&&N(e,t[1])},d(t){t&&p(e)}}}function j_(n){let e,t,r,l,i,s;const a=n[3].default,o=Cr(a,n,n[2],null),c=o||Q_(n);return{c(){e=g("div"),t=g("div"),r=q(n[0]),l=S(),i=g("div"),c&&c.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"DIV",{class:!0});var h=y(t);r=D(h,n[0]),h.forEach(p),l=C(d),i=b(d,"DIV",{class:!0});var m=y(i);c&&c.l(m),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(i,"class","T2"),_(e,"class","wrap lh30 H-ecbbhi")},m(f,d){Y(f,e,d),u(e,t),u(t,r),u(e,l),u(e,i),c&&c.m(i,null),s=!0},p(f,[d]){(!s||d&1)&&N(r,f[0]),o?o.p&&(!s||d&4)&&Tr(o,a,f,f[2],s?Pr(a,f[2],d,null):Ir(f[2]),null):c&&c.p&&(!s||d&2)&&c.p(f,s?d:-1)},i(f){s||(H(c,f),s=!0)},o(f){U(c,f),s=!1},d(f){f&&p(e),c&&c.d(f)}}}function W_(n,e,t){let{$$slots:r={},$$scope:l}=e,{label:i=""}=e,{info:s=""}=e;return n.$$set=a=>{"label"in a&&t(0,i=a.label),"info"in a&&t(1,s=a.info),"$$scope"in a&&t(2,l=a.$$scope)},[i,s,l,r]}let xn=class extends je{constructor(e){super(),We(this,e,W_,j_,Fe,{label:0,info:1})}};function G_(n){let e,t;return e=new xn({props:{label:n[6](ut.TimeInForce),info:n[3]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&64&&(i.label=r[6](ut.TimeInForce)),l&8&&(i.info=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Y_(n){let e,t;return e=new xn({props:{label:n[6](ut.TriggerPrice),info:n[8]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&64&&(i.label=r[6](ut.TriggerPrice)),l&256&&(i.info=r[8]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Qu(n){let e,t;return{c(){e=g("div"),t=q(n[7]),this.h()},l(r){e=b(r,"DIV",{class:!0});var l=y(e);t=D(l,n[7]),l.forEach(p),this.h()},h(){_(e,"class","price-limit mt16 br12 p16 B3 T4 H-3scw7n")},m(r,l){Y(r,e,l),u(e,t)},p(r,l){l&128&&N(t,r[7])},d(r){r&&p(e)}}}function K_(n){let e,t,r,l,i,s,a,o,c;e=new xn({props:{label:n[6](ut.OrderPrice),info:n[9]}}),r=new xn({props:{label:n[12](n[5],n[2]),info:n[11](n[4],n[2],n[0])}});const f=[Y_,G_],d=[];function h(v,k){return v[1]===rt.Conditional?0:1}i=h(n),s=d[i]=f[i](n);let m=n[1]===rt.Limit&&!n[10]&&n[7]&&Qu(n);return{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment),l=S(),s.c(),a=S(),m&&m.c(),o=Ke()},l(v){ae(e.$$.fragment,v),t=C(v),ae(r.$$.fragment,v),l=C(v),s.l(v),a=C(v),m&&m.l(v),o=Ke()},m(v,k){ie(e,v,k),Y(v,t,k),ie(r,v,k),Y(v,l,k),d[i].m(v,k),Y(v,a,k),m&&m.m(v,k),Y(v,o,k),c=!0},p(v,k){const E={};k&64&&(E.label=v[6](ut.OrderPrice)),k&512&&(E.info=v[9]),e.$set(E);const T={};k&36&&(T.label=v[12](v[5],v[2])),k&21&&(T.info=v[11](v[4],v[2],v[0])),r.$set(T);let w=i;i=h(v),i===w?d[i].p(v,k):(Ze(),U(d[w],1,1,()=>{d[w]=null}),xe(),s=d[i],s?s.p(v,k):(s=d[i]=f[i](v),s.c()),H(s,1),s.m(a.parentNode,a)),v[1]===rt.Limit&&!v[10]&&v[7]?m?m.p(v,k):(m=Qu(v),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(v){c||(H(e.$$.fragment,v),H(r.$$.fragment,v),H(s),c=!0)},o(v){U(e.$$.fragment,v),U(r.$$.fragment,v),U(s),c=!1},d(v){se(e,v),v&&p(t),se(r,v),v&&p(l),d[i].d(v),v&&p(a),m&&m.d(v),v&&p(o)}}}function X_(n){let e,t;return e=new Vs({props:{$$slots:{default:[K_]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&2099199&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function J_(n,e,t){let r,l,i,s,a;ne(n,it,P=>t(6,i=P)),ne(n,Un,P=>t(17,s=P)),ne(n,br,P=>t(10,a=P));let{spot:o}=e,{direction:c}=e,{orderType:f=rt.Limit}=e,{ordType:d=bt.Limit}=e,{qtyType:h=Me.ByBase}=e,{timeInForce:m=""}=e,{triggerPriceEp:v=0}=e,{priceEp:k=0}=e,{quantityEv:E=0}=e,{side:T=Oe.Buy}=e,w="";function I(P,z,F){const O={precision:F.baseQtyPrecision,scale:F.baseQtyScale,unit:F.baseCurrency},M={precision:F.quoteQtyPrecision,scale:F.quoteQtyScale,unit:F.quoteCurrency},{precision:L,scale:Q,unit:j}=z===Me.ByBase?O:M;return yt.floor(P,L,Q)+" "+j}function A(P,z,F){return _s.isMarketOrder(F)?"Market":yt.floor(P,z.pricePrecision,z.quoteQtyScale)+" "+z.quoteCurrency}function B(P,z,F){return"Last Price "+F+" "+yt.floor(P,z.pricePrecision,z.quoteQtyScale)+" "+z.quoteCurrency}function V(P,z){if(P===Oe.Buy){if(z===Me.ByBase)return i(ot.GetAmount);if(z===Me.ByQuote)return i(ot.SpendAmount)}if(P===Oe.Sell){if(z===Me.ByBase)return i(ot.SpendAmount);if(z===Me.ByQuote)return i(ot.GetAmount)}return""}function $(P,z,F,O,M){const{buyPriceUpperLimitPct:L,sellPriceLowerLimitPct:Q}=P;if(L<=0||Q<=0||Wp(0,O.closeEp))return;const j=gn(F,O.closeEp),K=L&&gn(L,100),W=Q&&gn(Q,100);if(z===Oe.Buy&&vn(j,K)){t(7,w=M(ut.OrderPriceCannotExceed,{Percentage:`${L}%`}));return}z===Oe.Sell&&Gp(j,W)&&t(7,w=M(ut.OrderPriceCannotFall,{Percentage:`${Q}%`}))}return n.$$set=P=>{"spot"in P&&t(0,o=P.spot),"direction"in P&&t(13,c=P.direction),"orderType"in P&&t(1,f=P.orderType),"ordType"in P&&t(14,d=P.ordType),"qtyType"in P&&t(2,h=P.qtyType),"timeInForce"in P&&t(3,m=P.timeInForce),"triggerPriceEp"in P&&t(15,v=P.triggerPriceEp),"priceEp"in P&&t(16,k=P.priceEp),"quantityEv"in P&&t(4,E=P.quantityEv),"side"in P&&t(5,T=P.side)},n.$$.update=()=>{n.$$.dirty&81921&&t(9,r=A(k,o,d)),n.$$.dirty&40961&&t(8,l=B(v,o,c)),n.$$.dirty&196705&&$(o,T,k,s,i)},[o,f,h,m,E,T,i,w,l,r,a,I,V,c,d,v,k,s]}let Z_=class extends je{constructor(e){super(),We(this,e,J_,X_,Fe,{spot:0,direction:13,orderType:1,ordType:14,qtyType:2,timeInForce:3,triggerPriceEp:15,priceEp:16,quantityEv:4,side:5})}};function x_(n){let e,t=n[1]+" "+n[0],r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","BLUE")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&3&&t!==(t=l[1]+" "+l[0])&&N(r,t)},d(l){l&&p(e)}}}function e0(n){let e,t=n[2].hourlyInterestRate+"/"+n[2].annualInterestRate,r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","BLUE")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2].hourlyInterestRate+"/"+l[2].annualInterestRate)&&N(r,t)},d(l){l&&p(e)}}}function t0(n){let e,t,r,l;return e=new xn({props:{label:n[3](ot.Borrowing),$$slots:{default:[x_]},$$scope:{ctx:n}}}),r=new xn({props:{label:n[3](ot.InterestHourlyAnnual),$$slots:{default:[e0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment)},l(i){ae(e.$$.fragment,i),t=C(i),ae(r.$$.fragment,i)},m(i,s){ie(e,i,s),Y(i,t,s),ie(r,i,s),l=!0},p(i,s){const a={};s&8&&(a.label=i[3](ot.Borrowing)),s&35&&(a.$$scope={dirty:s,ctx:i}),e.$set(a);const o={};s&8&&(o.label=i[3](ot.InterestHourlyAnnual)),s&36&&(o.$$scope={dirty:s,ctx:i}),r.$set(o)},i(i){l||(H(e.$$.fragment,i),H(r.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),U(r.$$.fragment,i),l=!1},d(i){se(e,i),i&&p(t),se(r,i)}}}function n0(n){let e,t;return e=new Vs({props:{$$slots:{default:[t0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&47&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function r0(n,e,t){let r,l,i;ne(n,gs,o=>t(4,l=o)),ne(n,it,o=>t(3,i=o));let{currency:s=""}=e,{borrowing:a=""}=e;return n.$$set=o=>{"currency"in o&&t(0,s=o.currency),"borrowing"in o&&t(1,a=o.borrowing)},n.$$.update=()=>{n.$$.dirty&17&&t(2,r=l(s))},[s,a,r,i,l]}let l0=class extends je{constructor(e){super(),We(this,e,r0,n0,Fe,{currency:0,borrowing:1})}};function i0(n){let e,t;return e=new xn({props:{label:n[2](ot.Repaying),info:n[1]+" "+n[0]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&4&&(i.label=r[2](ot.Repaying)),l&3&&(i.info=r[1]+" "+r[0]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function s0(n){let e,t;return e=new Vs({props:{$$slots:{default:[i0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&15&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function a0(n,e,t){let r;ne(n,it,s=>t(2,r=s));let{currency:l=""}=e,{repaying:i=""}=e;return n.$$set=s=>{"currency"in s&&t(0,l=s.currency),"repaying"in s&&t(1,i=s.repaying)},[l,i,r]}let o0=class extends je{constructor(e){super(),We(this,e,a0,s0,Fe,{currency:0,repaying:1})}};function ju(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),r=S(),l=g("span"),i=q(n[3]),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),r=C(s),l=b(s,"SPAN",{class:!0});var o=y(l);i=D(o,n[3]),o.forEach(p),this.h()},h(){_(e,"class","iconfont f10"),_(l,"class","BLUE")},m(s,a){Y(s,e,a),u(e,t),Y(s,r,a),Y(s,l,a),u(l,i)},p(s,a){a[0]&8&&N(i,s[3])},d(s){s&&p(e),s&&p(r),s&&p(l)}}}function u0(n){let e,t=n[0].riskLevel+"",r,l,i,s=n[0].riskLevel!==n[3]&&ju(n);return{c(){e=g("span"),r=q(t),l=S(),s&&s.c(),i=Ke()},l(a){e=b(a,"SPAN",{});var o=y(e);r=D(o,t),o.forEach(p),l=C(a),s&&s.l(a),i=Ke()},m(a,o){Y(a,e,o),u(e,r),Y(a,l,o),s&&s.m(a,o),Y(a,i,o)},p(a,o){o[0]&1&&t!==(t=a[0].riskLevel+"")&&N(r,t),a[0].riskLevel!==a[3]?s?s.p(a,o):(s=ju(a),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(a){a&&p(e),a&&p(l),s&&s.d(a),a&&p(i)}}}function Wu(n){let e,t,r,l,i=n[2].totalMargin+"",s,a;return{c(){e=g("i"),t=q(""),r=S(),l=g("span"),s=q(i),a=q(" USD"),this.h()},l(o){e=b(o,"I",{class:!0});var c=y(e);t=D(c,""),c.forEach(p),r=C(o),l=b(o,"SPAN",{class:!0});var f=y(l);s=D(f,i),a=D(f," USD"),f.forEach(p),this.h()},h(){_(e,"class","iconfont f10"),_(l,"class","BLUE")},m(o,c){Y(o,e,c),u(e,t),Y(o,r,c),Y(o,l,c),u(l,s),u(l,a)},p(o,c){c[0]&4&&i!==(i=o[2].totalMargin+"")&&N(s,i)},d(o){o&&p(e),o&&p(r),o&&p(l)}}}function c0(n){let e,t=n[0].totalMarginUsd+"",r,l,i,s=n[0].totalMarginUsd!==n[2].totalMargin&&Wu(n);return{c(){e=g("span"),r=q(t),l=S(),s&&s.c(),i=Ke()},l(a){e=b(a,"SPAN",{});var o=y(e);r=D(o,t),o.forEach(p),l=C(a),s&&s.l(a),i=Ke()},m(a,o){Y(a,e,o),u(e,r),Y(a,l,o),s&&s.m(a,o),Y(a,i,o)},p(a,o){o[0]&1&&t!==(t=a[0].totalMarginUsd+"")&&N(r,t),a[0].totalMarginUsd!==a[2].totalMargin?s?s.p(a,o):(s=Wu(a),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(a){a&&p(e),a&&p(l),s&&s.d(a),a&&p(i)}}}function Gu(n){let e,t,r,l,i=n[1].totalDebt+"",s,a;return{c(){e=g("i"),t=q(""),r=S(),l=g("span"),s=q(i),a=q(" USD"),this.h()},l(o){e=b(o,"I",{class:!0});var c=y(e);t=D(c,""),c.forEach(p),r=C(o),l=b(o,"SPAN",{class:!0});var f=y(l);s=D(f,i),a=D(f," USD"),f.forEach(p),this.h()},h(){_(e,"class","iconfont f10"),_(l,"class","BLUE")},m(o,c){Y(o,e,c),u(e,t),Y(o,r,c),Y(o,l,c),u(l,s),u(l,a)},p(o,c){c[0]&2&&i!==(i=o[1].totalDebt+"")&&N(s,i)},d(o){o&&p(e),o&&p(r),o&&p(l)}}}function f0(n){let e,t=n[0].totalDebtUsd+"",r,l,i,s=n[0].totalDebtUsd!==n[1].totalDebt&&Gu(n);return{c(){e=g("span"),r=q(t),l=S(),s&&s.c(),i=Ke()},l(a){e=b(a,"SPAN",{});var o=y(e);r=D(o,t),o.forEach(p),l=C(a),s&&s.l(a),i=Ke()},m(a,o){Y(a,e,o),u(e,r),Y(a,l,o),s&&s.m(a,o),Y(a,i,o)},p(a,o){o[0]&1&&t!==(t=a[0].totalDebtUsd+"")&&N(r,t),a[0].totalDebtUsd!==a[1].totalDebt?s?s.p(a,o):(s=Gu(a),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(a){a&&p(e),a&&p(l),s&&s.d(a),a&&p(i)}}}function d0(n){let e,t,r,l,i,s;return e=new xn({props:{label:n[4](ot.MarginLevel),$$slots:{default:[u0]},$$scope:{ctx:n}}}),r=new xn({props:{label:n[4](Jn.TotalMarginBalance),$$slots:{default:[c0]},$$scope:{ctx:n}}}),i=new xn({props:{label:n[4](ot.TotalDebt),$$slots:{default:[f0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment),l=S(),le(i.$$.fragment)},l(a){ae(e.$$.fragment,a),t=C(a),ae(r.$$.fragment,a),l=C(a),ae(i.$$.fragment,a)},m(a,o){ie(e,a,o),Y(a,t,o),ie(r,a,o),Y(a,l,o),ie(i,a,o),s=!0},p(a,o){const c={};o[0]&16&&(c.label=a[4](ot.MarginLevel)),o[0]&9|o[1]&4&&(c.$$scope={dirty:o,ctx:a}),e.$set(c);const f={};o[0]&16&&(f.label=a[4](Jn.TotalMarginBalance)),o[0]&5|o[1]&4&&(f.$$scope={dirty:o,ctx:a}),r.$set(f);const d={};o[0]&16&&(d.label=a[4](ot.TotalDebt)),o[0]&3|o[1]&4&&(d.$$scope={dirty:o,ctx:a}),i.$set(d)},i(a){s||(H(e.$$.fragment,a),H(r.$$.fragment,a),H(i.$$.fragment,a),s=!0)},o(a){U(e.$$.fragment,a),U(r.$$.fragment,a),U(i.$$.fragment,a),s=!1},d(a){se(e,a),a&&p(t),se(r,a),a&&p(l),se(i,a)}}}function p0(n){let e,t;return e=new Vs({props:{$$slots:{default:[d0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&31|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function h0(n){const e=n.find(t=>t.currency==="USD");return e&&e.valuePrecision||8}function m0(n,e,t){let r,l,i,s,a,o,c,f,d,h,m;ne(n,tr,R=>t(21,c=R)),ne(n,Yp,R=>t(23,f=R)),ne(n,Un,R=>t(24,d=R)),ne(n,pa,R=>t(25,h=R)),ne(n,it,R=>t(4,m=R));let{spot:v}=e,{side:k}=e,{qtyType:E}=e,{ordType:T}=e,{priceEp:w=0}=e,{quantityEv:I=0}=e,{borrowing:A="0"}=e,{repaying:B="0"}=e,V={totalDebtEv:"0",totalMarginEv:"0",riskLevel:"--",totalMarginUsd:"0",totalDebtUsd:"0"},$={closeEp:0},P=new Map,z="0",F="--",O={totalDebt:"0",totalDebtEv:"0"},M={totalMargin:"0",totalMarginEv:"0"};Ct(()=>{t(0,V=h),t(13,$=d),t(14,P=f)});function L(R,X,te){if(!R.baseCurrencyCanBorrow&&!R.quoteCurrencyCanBorrow||Xo(te,0))return"--";const oe=gn(X,te);return yt.floor(vn(oe,999)?"999":oe,2)}function Q(R,X,te,oe,x,de){let G="0";return X.baseCurrencyCanBorrow===X.quoteCurrencyCanBorrow||Xo(oe,0)?G=te:R===Oe.Buy?!X.baseCurrencyCanBorrow&&X.quoteCurrencyCanBorrow?G=$l(te,oe):G=Sl(te,oe):R===Oe.Sell&&(!X.baseCurrencyCanBorrow&&X.quoteCurrencyCanBorrow?G=Sl(te,oe):G=$l(te,oe)),vn(x,0)&&(G=Sl(G,x)),vn(de,0)&&(G=$l(G,de)),G=ia(G,0),{totalMargin:yt.delimit(yt.floor(G,o)),totalMarginEv:G}}function j(R,X,te){if(vn(X,0)||vn(te,0)){const oe=ia($l(Sl(R,X),te),0);return{totalDebt:yt.delimit(mr(oe,o,3)),totalDebtEv:oe}}return{totalDebt:yt.delimit(mr(R,o,3)),totalDebtEv:R}}function K(R,X,te,oe,x){if(te&&R&&vn(R,0)){if(X===Oe.Buy)return un(R||0,te);const de=gn(oe,x);return un(un(R||0,de),te)}return"0"}function W(R,X,te,oe,x){if(te&&R&&vn(R,0)){if(X===Oe.Buy){const de=gn(oe,x);return un(un(R||0,de),te)}return un(R||0,te)}return"0"}function Z(R,X,te,oe,x){x&&t(15,z=gn(un(un(R,te),x),un(X,oe)))}function J(R,X,te,oe){te&&oe&&t(15,z=gn(un(un(R,te),oe),X))}return n.$$set=R=>{"spot"in R&&t(5,v=R.spot),"side"in R&&t(6,k=R.side),"qtyType"in R&&t(7,E=R.qtyType),"ordType"in R&&t(8,T=R.ordType),"priceEp"in R&&t(9,w=R.priceEp),"quantityEv"in R&&t(10,I=R.quantityEv),"borrowing"in R&&t(11,A=R.borrowing),"repaying"in R&&t(12,B=R.repaying)},n.$$.update=()=>{n.$$.dirty[0]&8960&&t(20,r=T==="Market"?$.closeEp:w),n.$$.dirty[0]&32&&t(19,l=Tn(v.quoteQtyScale)),n.$$.dirty[0]&16416&&t(18,i=Kp(P,v.quoteCurrency)),n.$$.dirty[0]&1837120&&t(17,s=K(A,k,i,r,l)),n.$$.dirty[0]&1839168&&t(16,a=W(B,k,i,r,l)),n.$$.dirty[0]&2097152&&(o=h0(c)),n.$$.dirty[0]&1836192&&E===Me.ByBase&&Z(I,v.baseQtyFactor,r,l,i),n.$$.dirty[0]&263328&&E===Me.ByQuote&&J(I,v.quoteQtyFactor,i,i),n.$$.dirty[0]&196609&&t(1,O=j(V.totalDebtEv,s,a)),n.$$.dirty[0]&229473&&t(2,M=Q(k,v,V.totalMarginEv,z,s,a)),n.$$.dirty[0]&38&&t(3,F=L(v,M.totalMarginEv,O.totalDebtEv))},[V,O,M,F,m,v,k,E,T,w,I,A,B,$,P,z,a,s,i,l,r,c]}let _0=class extends je{constructor(e){super(),We(this,e,m0,p0,Fe,{spot:5,side:6,qtyType:7,ordType:8,priceEp:9,quantityEv:10,borrowing:11,repaying:12},null,[-1,-1])}};function Yu(n){let e,t=n[7].leverage+"",r,l;return{c(){e=g("span"),r=q(t),l=q("X"),this.h()},l(i){e=b(i,"SPAN",{class:!0});var s=y(e);r=D(s,t),l=D(s,"X"),s.forEach(p),this.h()},h(){_(e,"class","leverage pr ml8 br4 f12 BLUE H-sm765c")},m(i,s){Y(i,e,s),u(e,r),u(e,l)},p(i,s){s&128&&t!==(t=i[7].leverage+"")&&N(r,t)},d(i){i&&p(e)}}}function Ku(n){let e,t;return e=new l0({props:{currency:n[10],borrowing:n[11]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1024&&(i.currency=r[10]),l&2048&&(i.borrowing=r[11]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Xu(n){let e,t;return e=new _0({props:{priceEp:n[4],qtyType:n[9],ordType:n[1],quantityEv:n[5],spot:n[7],side:n[8],borrowing:n[11],repaying:n[13]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&16&&(i.priceEp=r[4]),l&512&&(i.qtyType=r[9]),l&2&&(i.ordType=r[1]),l&32&&(i.quantityEv=r[5]),l&128&&(i.spot=r[7]),l&256&&(i.side=r[8]),l&2048&&(i.borrowing=r[11]),l&8192&&(i.repaying=r[13]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Ju(n){let e,t;return e=new o0({props:{currency:n[12],repaying:n[13]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&4096&&(i.currency=r[12]),l&8192&&(i.repaying=r[13]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function v0(n){let e,t,r,l,i,s,a,o=n[7].displaySymbol+"",c,f,d=n[20]==="Margin"&&n[7].hasOwnProperty("leverage"),h,m,v=(n[8]===Oe.Buy?n[18](wt.Buy):n[18](wt.Sell))+"",k,E,T,w,I,A,B=n[17]&&["Limit","Market"].includes(n[1]),V,$=n[15]&&vn(n[13],0),P,z,F=n[18](ot.BorrowIntro)+"",O,M,L=d&&Yu(n);w=new Z_({props:{orderType:n[0],ordType:n[1],qtyType:n[9],spot:n[7],side:n[8],triggerPriceEp:n[3],priceEp:n[4],quantityEv:n[5],timeInForce:n[6],direction:n[2]}});let Q=n[14]&&Ku(n),j=B&&Xu(n),K=$&&Ju(n);return{c(){e=g("div"),t=g("div"),r=g("img"),s=S(),a=g("span"),c=q(o),f=S(),L&&L.c(),h=S(),m=g("span"),k=q(v),E=S(),T=g("div"),le(w.$$.fragment),I=S(),Q&&Q.c(),A=S(),j&&j.c(),V=S(),K&&K.c(),P=S(),z=g("div"),O=q(F),this.h()},l(W){e=b(W,"DIV",{class:!0});var Z=y(e);t=b(Z,"DIV",{class:!0});var J=y(t);r=b(J,"IMG",{width:!0,height:!0,src:!0,alt:!0}),s=C(J),a=b(J,"SPAN",{class:!0});var R=y(a);c=D(R,o),R.forEach(p),f=C(J),L&&L.l(J),h=C(J),m=b(J,"SPAN",{class:!0});var X=y(m);k=D(X,v),X.forEach(p),J.forEach(p),E=C(Z),T=b(Z,"DIV",{class:!0});var te=y(T);ae(w.$$.fragment,te),I=C(te),Q&&Q.l(te),A=C(te),j&&j.l(te),V=C(te),K&&K.l(te),te.forEach(p),P=C(Z),z=b(Z,"DIV",{class:!0});var oe=y(z);O=D(oe,F),oe.forEach(p),Z.forEach(p),this.h()},h(){_(r,"width","24"),_(r,"height","24"),Yt(r.src,l=ql.getUrl(n[7].baseCurrency))||_(r,"src",l),_(r,"alt",i=n[7].baseCurrency),_(a,"class","ml8 lh20 f16 fw3"),_(m,"class","pr ml8 br4 f12 H-sm765c"),$e(m,"buy",n[8]===Oe.Buy),$e(m,"sell",n[8]===Oe.Sell),_(t,"class","df aic mb12 T1"),_(T,"class","info br12 H-sm765c"),_(z,"class","mt12 lh20 f14 T3"),_(e,"class","body H-sm765c")},m(W,Z){Y(W,e,Z),u(e,t),u(t,r),u(t,s),u(t,a),u(a,c),u(t,f),L&&L.m(t,null),u(t,h),u(t,m),u(m,k),u(e,E),u(e,T),ie(w,T,null),u(T,I),Q&&Q.m(T,null),u(T,A),j&&j.m(T,null),u(T,V),K&&K.m(T,null),u(e,P),u(e,z),u(z,O),M=!0},p(W,Z){(!M||Z&128&&!Yt(r.src,l=ql.getUrl(W[7].baseCurrency)))&&_(r,"src",l),(!M||Z&128&&i!==(i=W[7].baseCurrency))&&_(r,"alt",i),(!M||Z&128)&&o!==(o=W[7].displaySymbol+"")&&N(c,o),Z&1048704&&(d=W[20]==="Margin"&&W[7].hasOwnProperty("leverage")),d?L?L.p(W,Z):(L=Yu(W),L.c(),L.m(t,h)):L&&(L.d(1),L=null),(!M||Z&262400)&&v!==(v=(W[8]===Oe.Buy?W[18](wt.Buy):W[18](wt.Sell))+"")&&N(k,v),(!M||Z&256)&&$e(m,"buy",W[8]===Oe.Buy),(!M||Z&256)&&$e(m,"sell",W[8]===Oe.Sell);const J={};Z&1&&(J.orderType=W[0]),Z&2&&(J.ordType=W[1]),Z&512&&(J.qtyType=W[9]),Z&128&&(J.spot=W[7]),Z&256&&(J.side=W[8]),Z&8&&(J.triggerPriceEp=W[3]),Z&16&&(J.priceEp=W[4]),Z&32&&(J.quantityEv=W[5]),Z&64&&(J.timeInForce=W[6]),Z&4&&(J.direction=W[2]),w.$set(J),W[14]?Q?(Q.p(W,Z),Z&16384&&H(Q,1)):(Q=Ku(W),Q.c(),H(Q,1),Q.m(T,A)):Q&&(Ze(),U(Q,1,1,()=>{Q=null}),xe()),Z&131074&&(B=W[17]&&["Limit","Market"].includes(W[1])),B?j?(j.p(W,Z),Z&131074&&H(j,1)):(j=Xu(W),j.c(),H(j,1),j.m(T,V)):j&&(Ze(),U(j,1,1,()=>{j=null}),xe()),Z&40960&&($=W[15]&&vn(W[13],0)),$?K?(K.p(W,Z),Z&40960&&H(K,1)):(K=Ju(W),K.c(),H(K,1),K.m(T,null)):K&&(Ze(),U(K,1,1,()=>{K=null}),xe()),(!M||Z&262144)&&F!==(F=W[18](ot.BorrowIntro)+"")&&N(O,F)},i(W){M||(H(w.$$.fragment,W),H(Q),H(j),H(K),M=!0)},o(W){U(w.$$.fragment,W),U(Q),U(j),U(K),M=!1},d(W){W&&p(e),L&&L.d(),se(w),Q&&Q.d(),j&&j.d(),K&&K.d()}}}function g0(n){let e,t,r=n[18](ot.OrderConfirm)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("i"),a=q(""),this.h()},l(f){e=b(f,"DIV",{class:!0,slot:!0});var d=y(e);t=b(d,"DIV",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"I",{class:!0});var m=y(s);a=D(m,""),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T1"),_(s,"class","iconfont cp"),_(e,"class","df jcsb aic p24 lh24 b f16 T2"),_(e,"slot","header")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),o||(c=Je(s,"click",n[22]),o=!0)},p(f,d){d&262144&&r!==(r=f[18](ot.OrderConfirm)+"")&&N(l,r)},d(f){f&&p(e),o=!1,c()}}}function b0(n){let e,t=n[18](wt.DontShowAgain)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ml8 T3")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&262144&&t!==(t=l[18](wt.DontShowAgain)+"")&&N(r,t)},d(l){l&&p(e)}}}function y0(n){let e=n[18](wt.Cancel)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&262144&&e!==(e=r[18](wt.Cancel)+"")&&N(t,e)},d(r){r&&p(t)}}}function E0(n){let e=n[18](wt.Confirm)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&262144&&e!==(e=r[18](wt.Confirm)+"")&&N(t,e)},d(r){r&&p(t)}}}function k0(n){let e,t,r,l,i,s,a,o,c;function f(h){n[25](h)}let d={class:"usn",$$slots:{default:[b0]},$$scope:{ctx:n}};return n[16]!==void 0&&(d.checked=n[16]),t=new yr({props:d}),Ue.push(()=>Ge(t,"checked",f)),t.$on("change",n[21]),s=new Nt({props:{class:"cancel",$$slots:{default:[y0]},$$scope:{ctx:n}}}),s.$on("click",n[22]),o=new Nt({props:{class:"confirm",type:"primary",loading:n[19],$$slots:{default:[E0]},$$scope:{ctx:n}}}),o.$on("click",n[23]),{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),a=S(),le(o.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0,slot:!0});var m=y(e);ae(t.$$.fragment,m),l=C(m),i=b(m,"DIV",{});var v=y(i);ae(s.$$.fragment,v),a=C(v),ae(o.$$.fragment,v),v.forEach(p),m.forEach(p),this.h()},h(){_(e,"class","df aic jcsb p24"),_(e,"slot","footer")},m(h,m){Y(h,e,m),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),u(i,a),ie(o,i,null),c=!0},p(h,m){const v={};m&268697600&&(v.$$scope={dirty:m,ctx:h}),!r&&m&65536&&(r=!0,v.checked=h[16],Ye(()=>r=!1)),t.$set(v);const k={};m&268697600&&(k.$$scope={dirty:m,ctx:h}),s.$set(k);const E={};m&524288&&(E.loading=h[19]),m&268697600&&(E.$$scope={dirty:m,ctx:h}),o.$set(E)},i(h){c||(H(t.$$.fragment,h),H(s.$$.fragment,h),H(o.$$.fragment,h),c=!0)},o(h){U(t.$$.fragment,h),U(s.$$.fragment,h),U(o.$$.fragment,h),c=!1},d(h){h&&p(e),se(t),se(s),se(o)}}}function w0(n){let e,t;return e=new Kl({props:{style:"max-width: 720px; border-radius: 12px;",$$slots:{footer:[k0],header:[g0],default:[v0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&270532607&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function $0(n,e,t){let r,l,i,s;ne(n,it,j=>t(18,l=j)),ne(n,lr,j=>t(19,i=j)),ne(n,In,j=>t(20,s=j));let{orderType:a}=e,{ordType:o}=e,{direction:c}=e,{triggerPriceEp:f=0}=e,{priceEp:d=0}=e,{quantityEv:h=0}=e,{timeInForce:m="GoodTillCancel"}=e,{spot:v=null}=e,{side:k=Oe.Buy}=e,{qtyType:E=Me.ByBase}=e,{onOk:T=null}=e,{payCurrency:w=""}=e,{borrowing:I="0"}=e,{receiveCurrency:A=""}=e,{repaying:B="0"}=e,{hasBorrow:V=!1}=e,{autoReplay:$=!1}=e;const P=Lt();let z=!1;function F(j){wr.track("dont_show_again",{check:j.target.checked})}function O(){P("close")}async function M(){T&&await T({orderSubmitConfirmation:!z}),P("close")}function L(j,K,W,Z,J){return!!((Z==="Limit"||Z==="Market")&&(j||K&&vn(W,0)||J.baseCurrencyCanBorrow!==J.quoteCurrencyCanBorrow))}function Q(j){z=j,t(16,z)}return n.$$set=j=>{"orderType"in j&&t(0,a=j.orderType),"ordType"in j&&t(1,o=j.ordType),"direction"in j&&t(2,c=j.direction),"triggerPriceEp"in j&&t(3,f=j.triggerPriceEp),"priceEp"in j&&t(4,d=j.priceEp),"quantityEv"in j&&t(5,h=j.quantityEv),"timeInForce"in j&&t(6,m=j.timeInForce),"spot"in j&&t(7,v=j.spot),"side"in j&&t(8,k=j.side),"qtyType"in j&&t(9,E=j.qtyType),"onOk"in j&&t(24,T=j.onOk),"payCurrency"in j&&t(10,w=j.payCurrency),"borrowing"in j&&t(11,I=j.borrowing),"receiveCurrency"in j&&t(12,A=j.receiveCurrency),"repaying"in j&&t(13,B=j.repaying),"hasBorrow"in j&&t(14,V=j.hasBorrow),"autoReplay"in j&&t(15,$=j.autoReplay)},n.$$.update=()=>{n.$$.dirty&57474&&t(17,r=L(V,$,B,o,v))},[a,o,c,f,d,h,m,v,k,E,w,I,A,B,V,$,z,r,l,i,s,F,O,M,T,Q]}let S0=class extends je{constructor(e){super(),We(this,e,$0,w0,Fe,{orderType:0,ordType:1,direction:2,triggerPriceEp:3,priceEp:4,quantityEv:5,timeInForce:6,spot:7,side:8,qtyType:9,onOk:24,payCurrency:10,borrowing:11,receiveCurrency:12,repaying:13,hasBorrow:14,autoReplay:15})}};const lr=new Ul(!1),fp=new Ul(bi.SpotMarginTrade);Br([In,pn]).pipe(Wt(([n,e])=>n==="Margin"?e?bi.UtaMargin:bi.SpotMarginTrade:e?bi.UtaSpot:bi.Spot),$d()).subscribe(n=>fp.next(n));async function Jl(n,e=!1){const t=vn(n.borrowing||0,0),{orderSubmitConfirmation:r}=Dr.getValue(),l=C0(n,e);if(r){const{payCurrency:i="",borrowing:s="0",receiveCurrency:a="",repaying:o="0",orderType:c,ordType:f,tradePair:d,side:h,priceEp:m,quantityEv:v,qtyType:k,timeInForce:E,direction:T="",triggerPriceEp:w=0}=n;It.create(S0,{onOk:l,orderType:c,ordType:f,spot:d,side:h,priceEp:m,quantityEv:v,qtyType:k,direction:T,triggerPriceEp:w,timeInForce:E,payCurrency:i,borrowing:s,receiveCurrency:a,repaying:o,hasBorrow:t,autoReplay:e});return}l()}function C0(n,e){return async function(t={}){try{if(lr.next(!0),t.hasOwnProperty("orderSubmitConfirmation")){await Promise.all([Zu(n,e),Dd("orderSubmitConfirmation",t.orderSubmitConfirmation)]);return}await Zu(n,e)}catch(r){vt.send("toast","error",r)}finally{lr.next(!1)}}}async function Zu(n,e){const t=vn(n.borrowing||0,0),r=e?St.Repay:t?St.Borrow:St.Normal;!await S1({...n,orderMode:r,business:fp.getValue()})&&t&&Xp()}function T0(n){let e,t,r,l,i;const s=[{class:"limit-quantity"},{isInline:!1},{operation:!1},{label:n[6](n[5])},n[3],n[4]];function a(d){n[13](d)}function o(d){n[14](d)}function c(d){n[15](d)}let f={};for(let d=0;d<s.length;d+=1)f=ua(f,s[d]);return n[1]!==void 0&&(f.input=n[1]),n[2]!==void 0&&(f.quantity=n[2]),n[0]!==void 0&&(f.qtyType=n[0]),e=new N1({props:f}),Ue.push(()=>Ge(e,"input",a)),Ue.push(()=>Ge(e,"quantity",o)),Ue.push(()=>Ge(e,"qtyType",c)),e.$on("change",n[7]),{c(){le(e.$$.fragment)},l(d){ae(e.$$.fragment,d)},m(d,h){ie(e,d,h),i=!0},p(d,[h]){const m=h&120?ca(s,[s[0],s[1],s[2],h&96&&{label:d[6](d[5])},h&8&&ss(d[3]),h&16&&ss(d[4])]):{};!t&&h&2&&(t=!0,m.input=d[1],Ye(()=>t=!1)),!r&&h&4&&(r=!0,m.quantity=d[2],Ye(()=>r=!1)),!l&&h&1&&(l=!0,m.qtyType=d[0],Ye(()=>l=!1)),e.$set(m)},i(d){i||(H(e.$$.fragment,d),i=!0)},o(d){U(e.$$.fragment,d),i=!1},d(d){se(e,d)}}}function I0(n,e,t){let r,l,i;ne(n,it,$=>t(6,i=$));let{qtyType:s}=e,{quantityInput:a}=e,{quantityEv:o}=e,{marginPair:c={}}=e,{quantityPrecision:f=0}=e,{quantityScale:d=0}=e,{isOnlyByBase:h=!1}=e,{isOnlyByQuote:m=!1}=e;const v=Lt();let k={};function E({qtyType:$,spot:P}){t(3,k=C1({qtyType:$,spot:P}))}function T($){t(8,f=$.precision),t(9,d=$.scale)}function w($,P,z){return P&&s!==Me.ByBase&&t(0,s=Me.ByBase),z&&s!==Me.ByQuote&&t(0,s=Me.ByQuote),P||z?{unit:z?$.quoteCurrency:$.displayBaseCurrency,isDropdown:!1}:{options:eu.createQtyOptions($),isDropdown:!0}}function I($){h||m||(t(2,o=0),v("change",{qtyType:$.detail,quantityEv:0}))}function A($){a=$,t(1,a)}function B($){o=$,t(2,o)}function V($){s=$,t(0,s)}return n.$$set=$=>{"qtyType"in $&&t(0,s=$.qtyType),"quantityInput"in $&&t(1,a=$.quantityInput),"quantityEv"in $&&t(2,o=$.quantityEv),"marginPair"in $&&t(10,c=$.marginPair),"quantityPrecision"in $&&t(8,f=$.quantityPrecision),"quantityScale"in $&&t(9,d=$.quantityScale),"isOnlyByBase"in $&&t(11,h=$.isOnlyByBase),"isOnlyByQuote"in $&&t(12,m=$.isOnlyByQuote)},n.$$.update=()=>{n.$$.dirty&1&&t(5,r=eu.getQtyLabel(s)),n.$$.dirty&1025&&E({qtyType:s,spot:c}),n.$$.dirty&7168&&t(4,l=w(c,h,m)),n.$$.dirty&8&&T(k)},[s,a,o,k,l,r,i,I,f,d,c,h,m,A,B,V]}let Zl=class extends je{constructor(e){super(),We(this,e,I0,T0,Fe,{qtyType:0,quantityInput:1,quantityEv:2,marginPair:10,quantityPrecision:8,quantityScale:9,isOnlyByBase:11,isOnlyByQuote:12})}};const zt={MarginTradingSteps:"b1fd19",TransferCollaterals:"d22c22",Borrow:"77058c",Trade:"2f5339",Repay:"e32e39",WelcomeMarginTradingNote:"957051",NextStep:"51648d",Transfer:"5e5ff7",TransferIntroduction:"c95c09",BorrowIntroduction:"f56913",TradeIntroduction:"da4cf0",RepayIntroduction:"f9998f",Tutorials:"3cd583",LearnMore:"639301",BeginMarginTrade:"f3ee2b",Tutorial:"869c27",VideoTutorial:"ae6b60"},fs=[{id:"transfer",navView:{label:zt.TransferCollaterals,clickHandler:M0},stepsView:{title:zt.Transfer,introduction:zt.TransferIntroduction,imgGalleries:[{id:"transfer",title:{en:""},lightImg:qn("fc7f64cb593679fcfe6686d8f13c568ae685f0ccc53ef80062bcd6b6c34a4d12.png"),darkImg:qn("4dedfe7aaf73284f7555ddd650c0a8bb0d1ed207a41568943280e71a0dc206cb.png")}],tutorial:""}},{id:"borrow",navView:{label:zt.Borrow,clickHandler:L0},stepsView:{title:zt.Borrow,introduction:zt.BorrowIntroduction,imgGalleries:[{id:"borrowOne",title:ut.AutoBorrow,lightImg:qn("090603671c0943a57b074b44d1d4fa3bf1ce35be9059f241df1a7e1b72172487.png"),darkImg:qn("caf9693edc800a7d3b7fa31d715d0cee51c49a9be9ddba73d22f99b1fbfde5c4.png")},{id:"borrowTwo",title:ut.ManualBorrow,lightImg:qn("8dab230ba1b56790fe299c85aaa3b18385f6f010524fbbc51d8d65b42dae193d.png"),darkImg:qn("958759610c06914469d5bdb3166c5704aa7c38fa7a704f91d3e52441d8e912f8.png")}],tutorial:""}},{id:"trade",navView:{label:zt.Trade},stepsView:{title:zt.Trade,introduction:zt.TradeIntroduction,imgGalleries:[{id:"trade",title:{en:""},lightImg:qn("bfa6f530f223eb01729614216a423a03961fc0dabfdb00ddebc06924252171f7.png"),darkImg:qn("61b8e91a208d362232f12f1c3a560c225f1171ba19c9160fce694cc7115dfbc4.png")}],tutorial:""}},{id:"repay",navView:{label:zt.Repay,clickHandler:N0},stepsView:{title:zt.Repay,introduction:zt.RepayIntroduction,imgGalleries:[{id:"repayOne",title:ut.AutoRepay,lightImg:qn("30e9bc6c66ccdd4e5fc64979333278bb039186fa0c57cd8815977dadb31a3189.png"),darkImg:qn("540fd24e980edd9c781955d13b3aaacdd8b027526b3810f423c30db78993d964.png")},{id:"reapyTwo",title:ut.ManualRepay,lightImg:qn("ecb3acbe997259e5754654d514caa0907ead51fc369e892a690c29d3cecbf5b2.png"),darkImg:qn("6f41d73114013d419072d0ddd67dbc0e63ad5f277440f90d08f1e5957df65b4c.png")}],tutorial:""}}];function P0(){return fs.map(n=>({id:n.id,...n.navView}))}function B0(){return fs.map(n=>({id:n.id,...n.stepsView}))}function q0(n,e){const t=e.findIndex(l=>l.id===n),r=t>=e.length-1?0:t+1;return e[r]}const{storage$:D0,writeStorage:xu}=Jp({read:A0,write:V0});function A0(){const n=bs.readMarginStorage().guideStep;return fs.find(t=>t.id===n)?n:fs[0].id}function V0(n){return bs.updateMarginStorage({guideStep:n}),n}function qn(n){return`${vs.STATIC_URL}/pubimg/${n}`}function H0(n,e){return Sr(Ei(e).pipe(tn(t=>t==="Login"),Wt(()=>n)),Ei(e).pipe(tn(t=>t!=="Login"),Sd(er),Cd(([t,r])=>{os.gotoLogin(r(da()?Dt.LOGIN:Dt.REGISTER))}),tn(()=>!1)))}function O0(n,e){return Sr(Ei(e).pipe(tn(Boolean),Wt(()=>n)),Ei(e).pipe(tn(t=>!t),Cd(()=>{It.create(Yd)}),tn(()=>!1)))}function La(){return Br([Nn,ys]).pipe(ra(n=>H0(n,n[0])),ra(n=>O0(n,n[1])),hs(1))}function M0({beforeShowDialogHandler:n,closedDialogHandler:e}){La().subscribe(()=>{n&&n();const r=pn.getValue(),l=It.create(Ta,{fromAccount:r?Xt.UtaFundAccount:Xt.SpotWallet,toAccount:r?Xt.UtaTradingAccount:Xt.MarginTradeAccount,hideConvertView:r,convertType:r?Xn.FundAccount:Xn.SpotWallet});e&&l.$on("close",e)})}function L0({beforeShowDialogHandler:n,closedDialogHandler:e}){La().subscribe(()=>{n&&n();const r=It.create(Vl,{content:{tabType:Hl.Borrow}});e&&r.$on("close",e)})}function N0({beforeShowDialogHandler:n,closedDialogHandler:e}){La().subscribe(()=>{n&&n();const r=It.create(Vl,{content:{tabType:Hl.Repay}});e&&r.$on("close",e)})}function ec(n,e,t){const r=n.slice();return r[17]=e[t],r}function tc(n,e,t){const r=n.slice();return r[20]=e[t],r[22]=t,r}function nc(n){let e,t,r=n[22]+1+"",l,i,s=n[4](n[20].title)+"",a,o,c,f=n[4](n[20].introduction)+"",d,h,m,v;return{c(){e=g("div"),t=g("h3"),l=q(r),i=q(". "),a=q(s),o=S(),c=g("div"),d=q(f),h=S(),this.h()},l(k){e=b(k,"DIV",{class:!0});var E=y(e);t=b(E,"H3",{class:!0});var T=y(t);l=D(T,r),i=D(T,". "),a=D(T,s),T.forEach(p),o=C(E),c=b(E,"DIV",{class:!0});var w=y(c);d=D(w,f),w.forEach(p),h=C(E),E.forEach(p),this.h()},h(){_(t,"class","f16 b T1"),_(c,"class","intro sub-text dn mt8 f14 H-qdpcjy"),_(e,"class","step-item cp br8 H-qdpcjy"),$e(e,"active",n[1]===n[20].id)},m(k,E){Y(k,e,E),u(e,t),u(t,l),u(t,i),u(t,a),u(e,o),u(e,c),u(c,d),u(e,h),m||(v=Je(e,"click",n[8](n[20].id)),m=!0)},p(k,E){n=k,E&16&&s!==(s=n[4](n[20].title)+"")&&N(a,s),E&16&&f!==(f=n[4](n[20].introduction)+"")&&N(d,f),E&66&&$e(e,"active",n[1]===n[20].id)},d(k){k&&p(e),m=!1,v()}}}function rc(n){let e,t,r,l=n[0].imgGalleries,i=[];for(let s=0;s<l.length;s+=1)i[s]=lc(ec(n,l,s));return{c(){e=g("div"),t=S(),r=g("section");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0}),y(e).forEach(p),t=C(s),r=b(s,"SECTION",{class:!0});var a=y(r);for(let o=0;o<i.length;o+=1)i[o].l(a);a.forEach(p),this.h()},h(){_(e,"class","gallery-shadow H-qdpcjy"),_(r,"class","gallery-btn-box df aic H-qdpcjy")},m(s,a){Y(s,e,a),Y(s,t,a),Y(s,r,a);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(r,null)},p(s,a){if(a&2069){l=s[0].imgGalleries;let o;for(o=0;o<l.length;o+=1){const c=ec(s,l,o);i[o]?i[o].p(c,a):(i[o]=lc(c),i[o].c(),i[o].m(r,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=l.length}},d(s){s&&p(e),s&&p(t),s&&p(r),sn(i,s)}}}function lc(n){let e,t=n[4](n[17].title)+"",r,l,i;return{c(){e=g("div"),r=q(t),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","gallery-item pr cp f14 T3 fw2 H-qdpcjy"),$e(e,"active",n[2].id===n[17].id)},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",function(){Bt(n[11](n[17]))&&n[11](n[17]).apply(this,arguments)}),l=!0)},p(s,a){n=s,a&17&&t!==(t=n[4](n[17].title)+"")&&N(r,t),a&5&&$e(e,"active",n[2].id===n[17].id)},d(s){s&&p(e),l=!1,i()}}}function U0(n){let e=n[4](n[3]?zt.BeginMarginTrade:zt.NextStep)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&24&&e!==(e=r[4](r[3]?zt.BeginMarginTrade:zt.NextStep)+"")&&N(t,e)},d(r){r&&p(t)}}}function z0(n){let e,t,r=n[4](zt.WelcomeMarginTradingNote)+"",l,i,s,a,o,c,f,d,h,m,v,k,E,T,w=n[4](zt.LearnMore)+"",I,A,B,V,$,P=n[6],z=[];for(let O=0;O<P.length;O+=1)z[O]=nc(tc(n,P,O));let F=n[0].imgGalleries.length>1&&rc(n);return V=new Nt({props:{class:"next-btn f1",type:"primary",$$slots:{default:[U0]},$$scope:{ctx:n}}}),V.$on("click",n[9]),{c(){e=g("div"),t=g("h3"),l=q(r),i=S(),s=g("div"),a=g("div");for(let O=0;O<z.length;O+=1)z[O].c();o=S(),c=g("div"),f=g("div"),d=g("img"),m=S(),F&&F.c(),v=S(),k=g("div"),E=g("div"),T=g("a"),I=q(w),B=S(),le(V.$$.fragment),this.h()},l(O){e=b(O,"DIV",{class:!0});var M=y(e);t=b(M,"H3",{class:!0});var L=y(t);l=D(L,r),L.forEach(p),i=C(M),s=b(M,"DIV",{class:!0});var Q=y(s);a=b(Q,"DIV",{class:!0});var j=y(a);for(let X=0;X<z.length;X+=1)z[X].l(j);j.forEach(p),o=C(Q),c=b(Q,"DIV",{class:!0});var K=y(c);f=b(K,"DIV",{class:!0});var W=y(f);d=b(W,"IMG",{class:!0,src:!0,alt:!0,srcset:!0}),m=C(W),F&&F.l(W),W.forEach(p),K.forEach(p),Q.forEach(p),v=C(M),k=b(M,"DIV",{class:!0});var Z=y(k);E=b(Z,"DIV",{class:!0});var J=y(E);T=b(J,"A",{class:!0,target:!0,href:!0});var R=y(T);I=D(R,w),R.forEach(p),B=C(J),ae(V.$$.fragment,J),J.forEach(p),Z.forEach(p),M.forEach(p),this.h()},h(){_(t,"class","f20 b T1"),_(a,"class","f1"),_(d,"class","step-img br8 H-qdpcjy"),Yt(d.src,h=n[10](n[2]))||_(d,"src",h),_(d,"alt","margin-trade-step"),_(d,"srcset",""),_(f,"class","img-box pr br8 H-qdpcjy"),_(c,"class","f1"),_(s,"class","step-body df mt20 H-qdpcjy"),_(T,"class","sub-text f16 fw2 H-qdpcjy"),_(T,"target","margin_guide"),_(T,"href",A=n[5](Dt.CMS_MARGIN_GUIDE)),_(E,"class","btn-items df aic H-qdpcjy"),_(k,"class","footer df jcsb aic mt24 H-qdpcjy"),_(e,"class","dialog-body mh40")},m(O,M){Y(O,e,M),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a);for(let L=0;L<z.length;L+=1)z[L]&&z[L].m(a,null);u(s,o),u(s,c),u(c,f),u(f,d),u(f,m),F&&F.m(f,null),u(e,v),u(e,k),u(k,E),u(E,T),u(T,I),u(E,B),ie(V,E,null),$=!0},p(O,M){if((!$||M&16)&&r!==(r=O[4](zt.WelcomeMarginTradingNote)+"")&&N(l,r),M&338){P=O[6];let Q;for(Q=0;Q<P.length;Q+=1){const j=tc(O,P,Q);z[Q]?z[Q].p(j,M):(z[Q]=nc(j),z[Q].c(),z[Q].m(a,null))}for(;Q<z.length;Q+=1)z[Q].d(1);z.length=P.length}(!$||M&4&&!Yt(d.src,h=O[10](O[2])))&&_(d,"src",h),O[0].imgGalleries.length>1?F?F.p(O,M):(F=rc(O),F.c(),F.m(f,null)):F&&(F.d(1),F=null),(!$||M&16)&&w!==(w=O[4](zt.LearnMore)+"")&&N(I,w),(!$||M&32&&A!==(A=O[5](Dt.CMS_MARGIN_GUIDE)))&&_(T,"href",A);const L={};M&8388632&&(L.$$scope={dirty:M,ctx:O}),V.$set(L)},i(O){$||(H(V.$$.fragment,O),$=!0)},o(O){U(V.$$.fragment,O),$=!1},d(O){O&&p(e),sn(z,O),F&&F.d(),se(V)}}}function F0(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont cp"),_(e,"class","dialog-header mh40 lh24 tr b f20 T2 H-qdpcjy"),_(e,"slot","header")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(t,"click",n[7]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function R0(n){let e,t;return e=new Kl({props:{style:"max-width: 800px; border-radius: 12px;",$$slots:{header:[F0],default:[z0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&8388671&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Q0(n,e,t){let r,l,i,s,a,o;ne(n,ha,A=>t(12,i=A)),ne(n,D0,A=>t(1,s=A)),ne(n,it,A=>t(4,a=A)),ne(n,fa,A=>t(5,o=A));const c=Lt(),f=B0(),d=f[f.length-1];let h;function m(A){t(2,h=A.imgGalleries[0])}function v(){c("close")}function k(A){return function(){xu(A)}}function E(A){return f.find(B=>B.id===A)}function T(){if(l){c("close");return}const A=q0(r.id,f);xu(A.id)}function w(A){const B={[Jo.Dark]:"darkImg",[Jo.Light]:"lightImg"};return A[B[i]]}function I(A){return function(){t(2,h=A)}}return n.$$.update=()=>{n.$$.dirty&2&&t(0,r=E(s)),n.$$.dirty&1&&m(r),n.$$.dirty&2&&t(3,l=s===d.id)},[r,s,h,l,a,o,f,v,k,T,w,I]}let dp=class extends je{constructor(e){super(),We(this,e,Q0,R0,Fe,{})}};function j0(n){let e,t;return e=new Sa({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function W0(n){let e,t,r,l;const i=[Y0,G0],s=[];function a(o,c){return o[6]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function G0(n){let e,t=n[7](ot.EnableMarginTrading)+"",r,l,i;return{c(){e=g("div"),r=q(t),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","wrap df aic jcc br4 lh40 cp H-uck1op"),$e(e,"btn-buy",n[0]===Oe.Buy),$e(e,"btn-sell",n[0]===Oe.Sell)},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[11]),l=!0)},p(s,a){a&128&&t!==(t=s[7](ot.EnableMarginTrading)+"")&&N(r,t),a&1&&$e(e,"btn-buy",s[0]===Oe.Buy),a&1&&$e(e,"btn-sell",s[0]===Oe.Sell)},i:Qe,o:Qe,d(s){s&&p(e),l=!1,i()}}}function Y0(n){let e,t,r=n[7](n[3]?n[9][n[0]]:n[8][n[0]],{Currency:n[2]})+"",l,i,s,a,o=n[1]&&ic();return{c(){e=g("div"),o&&o.c(),t=S(),l=q(r),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);o&&o.l(f),t=C(f),l=D(f,r),f.forEach(p),this.h()},h(){_(e,"class","wrap df aic jcc br4 lh40 cp H-uck1op"),$e(e,"btn-buy",n[0]===Oe.Buy),$e(e,"btn-sell",n[0]===Oe.Sell),$e(e,"disabled",n[1]||n[4].status!=="Listed")},m(c,f){Y(c,e,f),o&&o.m(e,null),u(e,t),u(e,l),i=!0,s||(a=Je(e,"click",n[10]),s=!0)},p(c,f){c[1]?o?f&2&&H(o,1):(o=ic(),o.c(),H(o,1),o.m(e,t)):o&&(Ze(),U(o,1,1,()=>{o=null}),xe()),(!i||f&141)&&r!==(r=c[7](c[3]?c[9][c[0]]:c[8][c[0]],{Currency:c[2]})+"")&&N(l,r),(!i||f&1)&&$e(e,"btn-buy",c[0]===Oe.Buy),(!i||f&1)&&$e(e,"btn-sell",c[0]===Oe.Sell),(!i||f&18)&&$e(e,"disabled",c[1]||c[4].status!=="Listed")},i(c){i||(H(o),i=!0)},o(c){U(o),i=!1},d(c){c&&p(e),o&&o.d(),s=!1,a()}}}function ic(n){let e,t;return e=new Ca({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function K0(n){let e,t,r,l;const i=[W0,j0],s=[];function a(o,c){return o[5]==="Login"?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,[c]){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function X0(n,e,t){let r,l,i,s,a,o;ne(n,Si,w=>t(12,r=w)),ne(n,ws,w=>t(13,l=w)),ne(n,Ht,w=>t(4,i=w)),ne(n,Nn,w=>t(5,s=w)),ne(n,ys,w=>t(6,a=w)),ne(n,it,w=>t(7,o=w));let{side:c=Oe.Buy}=e,{isPosting:f=!1}=e,{currency:d=""}=e,{isMarginText:h=!1}=e;const m={[Oe.Buy]:ot.Buy,[Oe.Sell]:ot.Sell},v={[Oe.Buy]:ot.MarginBuy,[Oe.Sell]:ot.MarginSell},k=Lt();function E(){if(l&&$s(i,l,r)){It.create(r.isSub?Ss:Cs);return}k("click")}function T(){T1({onSuccess:()=>{It.create(dp)}})}return n.$$set=w=>{"side"in w&&t(0,c=w.side),"isPosting"in w&&t(1,f=w.isPosting),"currency"in w&&t(2,d=w.currency),"isMarginText"in w&&t(3,h=w.isMarginText)},[c,f,d,h,i,s,a,o,m,v,E,T]}let Na=class extends je{constructor(e){super(),We(this,e,X0,K0,Fe,{side:0,isPosting:1,currency:2,isMarginText:3})}};function J0(n){let e,t;return e=new ep({props:{type:n[0]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&1&&(i.type=r[0]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Z0(n,e,t){let r;ne(n,Ht,s=>t(1,r=s));let l="Spot";function i(s){t(0,l=s==="TRY"?"SpotTRY":"Spot")}return n.$$.update=()=>{n.$$.dirty&2&&i(r.quoteCurrency)},[l,r]}let xl=class extends je{constructor(e){super(),We(this,e,Z0,J0,Fe,{})}};function x0(n){let e,t,r,l;function i(o){n[40](o)}function s(o){n[41](o)}let a={class:"limit-price f1",isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[20](ot.Price),unit:n[3].quoteCurrency};return n[4]!==void 0&&(a.priceEp=n[4]),n[14]!==void 0&&(a.input=n[14]),e=new dn({props:a}),Ue.push(()=>Ge(e,"priceEp",i)),Ue.push(()=>Ge(e,"input",s)),{c(){le(e.$$.fragment)},l(o){ae(e.$$.fragment,o)},m(o,c){ie(e,o,c),l=!0},p(o,c){const f={};c[0]&8&&(f.factor=o[3].quoteQtyFactor),c[0]&8&&(f.scale=o[3].quoteQtyScale),c[0]&8&&(f.tickSizeEp=o[3].quoteTickSizeEv),c[0]&8&&(f.precision=o[3].pricePrecision),c[0]&8&&(f.minPriceEp=o[3].quoteTickSizeEv),c[0]&8&&(f.maxPriceEp=o[3].maxOrderValueEv),c[0]&1048576&&(f.label=o[20](ot.Price)),c[0]&8&&(f.unit=o[3].quoteCurrency),!t&&c[0]&16&&(t=!0,f.priceEp=o[4],Ye(()=>t=!1)),!r&&c[0]&16384&&(r=!0,f.input=o[14],Ye(()=>r=!1)),e.$set(f)},i(o){l||(H(e.$$.fragment,o),l=!0)},o(o){U(e.$$.fragment,o),l=!1},d(o){se(e,o)}}}function sc(n){let e,t=n[20](ut.ThePriceCannot,Al(n[3]))+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","price-limit-tips mt8 f12 H-9bwlxl")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i[0]&1048584&&t!==(t=l[20](ut.ThePriceCannot,Al(l[3]))+"")&&N(r,t)},d(l){l&&p(e)}}}function ac(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[20](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&1048576&&r.update.call(null,{text:s[20](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function ev(n){let e,t=n[0]===St.Borrow&&ac(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[0]===St.Borrow?t?t.p(r,l):(t=ac(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function oc(n){let e,t,r=n[20](ot.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[16]),o=S(),c=q(n[12]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[16]),o=C(m),c=D(m,n[12]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&1048576&&r!==(r=f[20](ot.Borrowing)+"")&&N(l,r),d[0]&65536&&N(a,f[16]),d[0]&4096&&N(c,f[12])},d(f){f&&p(e)}}}function uc(n){let e,t,r=n[20](ot.Repaying)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[17]),o=S(),c=q(n[11]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[17]),o=C(m),c=D(m,n[11]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&1048576&&r!==(r=f[20](ot.Repaying)+"")&&N(l,r),d[0]&131072&&N(a,f[17]),d[0]&2048&&N(c,f[11])},d(f){f&&p(e)}}}function tv(n){let e,t,r,l,i,s,a=n[21]&&Dl(n[4],n[3]),o,c,f,d,h,m,v,k,E,T,w,I,A,B=n[20](n[2]===Oe.Buy?ot.MaxBuy:ot.MaxSell)+"",V,$,P,z=nn(n[10],n[3],n[2],n[22])+"",F,O,M,L,Q,j,K,W,Z,J,R,X,te,oe,x,de=rn(n[2],n[5],n[20],ot)+"",G,re,ge,Ee=ln(n[3],n[18],n[5])+"",we,ee,me=(n[5]===Me.ByBase?n[3].quoteCurrency:n[3].displayBaseCurrency)+"",Se,qe,Ce,Be,ce,fe,Ve;function Ie(ue){n[39](ue)}let be={};n[0]!==void 0&&(be.orderMode=n[0]),t=new Ea({props:be}),Ue.push(()=>Ge(t,"orderMode",Ie)),i=new Ma({props:{class:"mt16",$$slots:{default:[x0]},$$scope:{ctx:n}}});let _e=a&&sc(n);function ve(ue){n[42](ue)}function ke(ue){n[43](ue)}function Ne(ue){n[44](ue)}function Te(ue){n[45](ue)}function He(ue){n[46](ue)}let ye={marginPair:n[3]};n[6]!==void 0&&(ye.quantityEv=n[6]),n[5]!==void 0&&(ye.qtyType=n[5]),n[15]!==void 0&&(ye.quantityInput=n[15]),n[9]!==void 0&&(ye.quantityPrecision=n[9]),n[8]!==void 0&&(ye.quantityScale=n[8]),f=new Zl({props:ye}),Ue.push(()=>Ge(f,"quantityEv",ve)),Ue.push(()=>Ge(f,"qtyType",ke)),Ue.push(()=>Ge(f,"quantityInput",Ne)),Ue.push(()=>Ge(f,"quantityPrecision",Te)),Ue.push(()=>Ge(f,"quantityScale",He)),T=new Wl({props:{currency:n[12],availableValue:n[1].availableBalanceRqForOperator,$$slots:{default:[ev]},$$scope:{ctx:n}}});let Pe=n[0]===St.Borrow&&oc(n),De=n[0]===St.Repay&&uc(n);function Re(ue){n[47](ue)}let et={type:n[23]};n[13]!==void 0&&(et.value=n[13]),W=new or({props:et}),Ue.push(()=>Ge(W,"value",Re)),W.$on("input",n[25]),W.$on("change",n[26]),R=new Na({props:{side:n[2],isPosting:n[19],isMarginText:n[0]===St.Borrow,currency:n[3].displayBaseCurrency}}),R.$on("click",n[24]),Ce=new xl({});function he(ue){n[48](ue)}let pe={};return n[7]!==void 0&&(pe.timeInForce=n[7]),ce=new Xl({props:pe}),Ue.push(()=>Ge(ce,"timeInForce",he)),ce.$on("changeAdvancedVisible",n[27]),{c(){e=g("div"),le(t.$$.fragment),l=S(),le(i.$$.fragment),s=S(),_e&&_e.c(),o=S(),c=g("div"),le(f.$$.fragment),E=S(),le(T.$$.fragment),w=S(),I=g("div"),A=g("span"),V=q(B),$=S(),P=g("span"),F=q(z),O=S(),M=q(n[11]),L=S(),Pe&&Pe.c(),Q=S(),De&&De.c(),j=S(),K=g("div"),le(W.$$.fragment),J=S(),le(R.$$.fragment),X=S(),te=g("div"),oe=g("div"),x=g("span"),G=q(de),re=S(),ge=g("span"),we=q(Ee),ee=S(),Se=q(me),qe=S(),le(Ce.$$.fragment),Be=S(),le(ce.$$.fragment),this.h()},l(ue){e=b(ue,"DIV",{class:!0});var Ae=y(e);ae(t.$$.fragment,Ae),l=C(Ae),ae(i.$$.fragment,Ae),s=C(Ae),_e&&_e.l(Ae),o=C(Ae),c=b(Ae,"DIV",{class:!0});var nt=y(c);ae(f.$$.fragment,nt),nt.forEach(p),E=C(Ae),ae(T.$$.fragment,Ae),w=C(Ae),I=b(Ae,"DIV",{class:!0});var lt=y(I);A=b(lt,"SPAN",{class:!0});var st=y(A);V=D(st,B),st.forEach(p),$=C(lt),P=b(lt,"SPAN",{class:!0});var ft=y(P);F=D(ft,z),O=C(ft),M=D(ft,n[11]),ft.forEach(p),lt.forEach(p),L=C(Ae),Pe&&Pe.l(Ae),Q=C(Ae),De&&De.l(Ae),j=C(Ae),K=b(Ae,"DIV",{class:!0});var mt=y(K);ae(W.$$.fragment,mt),mt.forEach(p),J=C(Ae),ae(R.$$.fragment,Ae),X=C(Ae),te=b(Ae,"DIV",{class:!0});var at=y(te);oe=b(at,"DIV",{class:!0});var pt=y(oe);x=b(pt,"SPAN",{class:!0});var Le=y(x);G=D(Le,de),Le.forEach(p),re=C(pt),ge=b(pt,"SPAN",{class:!0});var Xe=y(ge);we=D(Xe,Ee),ee=C(Xe),Se=D(Xe,me),Xe.forEach(p),pt.forEach(p),qe=C(at),ae(Ce.$$.fragment,at),at.forEach(p),Be=C(Ae),ae(ce.$$.fragment,Ae),Ae.forEach(p),this.h()},h(){_(c,"class","quantity H-9bwlxl"),_(A,"class","T3"),_(P,"class","ml4 T1 wsn"),_(I,"class","df aic mt8 f12"),_(K,"class","slider H-9bwlxl"),_(x,"class","T3"),_(ge,"class","ml4 T1"),_(oe,"class","cost f12"),_(te,"class","df fdr jcsb aic mt12"),_(e,"class","wrap H-9bwlxl")},m(ue,Ae){Y(ue,e,Ae),ie(t,e,null),u(e,l),ie(i,e,null),u(e,s),_e&&_e.m(e,null),u(e,o),u(e,c),ie(f,c,null),u(e,E),ie(T,e,null),u(e,w),u(e,I),u(I,A),u(A,V),u(I,$),u(I,P),u(P,F),u(P,O),u(P,M),u(e,L),Pe&&Pe.m(e,null),u(e,Q),De&&De.m(e,null),u(e,j),u(e,K),ie(W,K,null),u(e,J),ie(R,e,null),u(e,X),u(e,te),u(te,oe),u(oe,x),u(x,G),u(oe,re),u(oe,ge),u(ge,we),u(ge,ee),u(ge,Se),u(te,qe),ie(Ce,te,null),u(e,Be),ie(ce,e,null),Ve=!0},p(ue,Ae){const nt={};!r&&Ae[0]&1&&(r=!0,nt.orderMode=ue[0],Ye(()=>r=!1)),t.$set(nt);const lt={};Ae[0]&1064984|Ae[1]&16777216&&(lt.$$scope={dirty:Ae,ctx:ue}),i.$set(lt),Ae[0]&2097176&&(a=ue[21]&&Dl(ue[4],ue[3])),a?_e?_e.p(ue,Ae):(_e=sc(ue),_e.c(),_e.m(e,o)):_e&&(_e.d(1),_e=null);const st={};Ae[0]&8&&(st.marginPair=ue[3]),!d&&Ae[0]&64&&(d=!0,st.quantityEv=ue[6],Ye(()=>d=!1)),!h&&Ae[0]&32&&(h=!0,st.qtyType=ue[5],Ye(()=>h=!1)),!m&&Ae[0]&32768&&(m=!0,st.quantityInput=ue[15],Ye(()=>m=!1)),!v&&Ae[0]&512&&(v=!0,st.quantityPrecision=ue[9],Ye(()=>v=!1)),!k&&Ae[0]&256&&(k=!0,st.quantityScale=ue[8],Ye(()=>k=!1)),f.$set(st);const ft={};Ae[0]&4096&&(ft.currency=ue[12]),Ae[0]&2&&(ft.availableValue=ue[1].availableBalanceRqForOperator),Ae[0]&1048577|Ae[1]&16777216&&(ft.$$scope={dirty:Ae,ctx:ue}),T.$set(ft),(!Ve||Ae[0]&1048580)&&B!==(B=ue[20](ue[2]===Oe.Buy?ot.MaxBuy:ot.MaxSell)+"")&&N(V,B),(!Ve||Ae[0]&4195340)&&z!==(z=nn(ue[10],ue[3],ue[2],ue[22])+"")&&N(F,z),(!Ve||Ae[0]&2048)&&N(M,ue[11]),ue[0]===St.Borrow?Pe?Pe.p(ue,Ae):(Pe=oc(ue),Pe.c(),Pe.m(e,Q)):Pe&&(Pe.d(1),Pe=null),ue[0]===St.Repay?De?De.p(ue,Ae):(De=uc(ue),De.c(),De.m(e,j)):De&&(De.d(1),De=null);const mt={};!Z&&Ae[0]&8192&&(Z=!0,mt.value=ue[13],Ye(()=>Z=!1)),W.$set(mt);const at={};Ae[0]&4&&(at.side=ue[2]),Ae[0]&524288&&(at.isPosting=ue[19]),Ae[0]&1&&(at.isMarginText=ue[0]===St.Borrow),Ae[0]&8&&(at.currency=ue[3].displayBaseCurrency),R.$set(at),(!Ve||Ae[0]&1048612)&&de!==(de=rn(ue[2],ue[5],ue[20],ot)+"")&&N(G,de),(!Ve||Ae[0]&262184)&&Ee!==(Ee=ln(ue[3],ue[18],ue[5])+"")&&N(we,Ee),(!Ve||Ae[0]&40)&&me!==(me=(ue[5]===Me.ByBase?ue[3].quoteCurrency:ue[3].displayBaseCurrency)+"")&&N(Se,me);const pt={};!fe&&Ae[0]&128&&(fe=!0,pt.timeInForce=ue[7],Ye(()=>fe=!1)),ce.$set(pt)},i(ue){Ve||(H(t.$$.fragment,ue),H(i.$$.fragment,ue),H(f.$$.fragment,ue),H(T.$$.fragment,ue),H(W.$$.fragment,ue),H(R.$$.fragment,ue),H(Ce.$$.fragment,ue),H(ce.$$.fragment,ue),Ve=!0)},o(ue){U(t.$$.fragment,ue),U(i.$$.fragment,ue),U(f.$$.fragment,ue),U(T.$$.fragment,ue),U(W.$$.fragment,ue),U(R.$$.fragment,ue),U(Ce.$$.fragment,ue),U(ce.$$.fragment,ue),Ve=!1},d(ue){ue&&p(e),se(t),se(i),_e&&_e.d(),se(f),se(T),Pe&&Pe.d(),De&&De.d(),se(W),se(R),se(Ce),se(ce)}}}function nv(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A;ne(n,it,_e=>t(20,v=_e)),ne(n,gs,_e=>t(35,k=_e)),ne(n,Rl,_e=>t(36,E=_e)),ne(n,ir,_e=>t(37,T=_e)),ne(n,lr,_e=>t(38,w=_e)),ne(n,br,_e=>t(21,I=_e)),ne(n,tr,_e=>t(22,A=_e));var B;let{orderMode:V}=e,{placeOrderAsset:$}=e,{side:P=Oe.Buy}=e,{spot:z=null}=e;const F=rt.Limit;let O=0,M=Me.ByBase,L=0,Q=0,j="GoodTillCancel",K=null,W=null,Z="0",J="0",R=0,X=0;Ct(()=>vt.subscribe("global","spot-price-click",_e=>{t(4,O=_e.price),K&&K.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",_e=>{t(6,L=_e.quantity),t(5,M=_e.type),W&&W.focus()}));function te(_e,ve,ke){const Ne=mr(gn(_e,Tn(ve)),ke,0),Te=un(Ne,Tn(ve));Te!==_e&&t(6,L=Number(Te))}function oe({orderMode:_e,priceEp:ve,side:ke,qtyType:Ne,quantityEv:Te,availableBalanceEv:He,payCurrencyItem:ye,receiveCurrencyItem:Pe}){if(!(!ye||!Pe)){if(_e!==St.Borrow){t(16,Z="0");return}t(16,Z=Gl({priceEp:ve,side:ke,qtyType:Ne,quantityEv:Te,availableBalanceEv:He,payCurrencyItem:ye,receiveCurrencyItem:Pe}))}}function x({orderMode:_e,priceEp:ve,side:ke,qtyType:Ne,quantityEv:Te,totalDebtEv:He,payCurrencyItem:ye,receiveCurrencyItem:Pe}){if(!(!ye||!Pe)){if(_e!==St.Repay){t(17,J="0");return}t(17,J=ka({priceEp:ve,side:ke,qtyType:Ne,quantityEv:Te,totalDebtEv:He,payCurrencyItem:ye,receiveCurrencyItem:Pe}))}}function de(_e,ve){_e&&(ve.isInitPrice||t(4,O=ve.priceEp),t(7,j=ve.timeInForce),t(6,L=ve.quantityEv),t(5,M=ve.qtyType))}async function G(){if(await we())return;await Jl({tradePair:z,qtyType:M,side:P,quantityEv:L,priceEp:O,orderType:F,ordType:"Limit",timeInForce:j,orderMode:V,payCurrency:c,receiveCurrency:f,borrowing:Z,repaying:J},V===St.Repay)}function re(_e){if(a<=0){t(6,L=0);return}t(6,L=a*Number(_e.detail)/100)}function ge(){W&&W.focus()}function Ee(_e,ve){if(ve<=0){t(13,Q=0);return}if(_e>ve){t(13,Q=100);return}t(13,Q=parseInt(String(_e/ve*100)))}async function we(){const _e={quantityEv:L,priceEp:O},ve={orderType:rt.Limit,orderMode:V,qtyType:M,side:P,maxAmountEv:s,availableBalanceEv:$.availableBalanceEvForOperator,costEv:o,spot:z,borrowing:Z},ke=await Yl(v,_e,ve);return ke?(vt.send("toast","info",{message:ke}),!0):!1}function ee(_e){bs.updateMarginStorage({advancedIsShow:_e.detail})}function me(_e){V=_e,t(0,V)}function Se(_e){O=_e,t(4,O)}function qe(_e){K=_e,t(14,K)}function Ce(_e){L=_e,t(6,L)}function Be(_e){M=_e,t(5,M)}function ce(_e){W=_e,t(15,W)}function fe(_e){X=_e,t(9,X)}function Ve(_e){R=_e,t(8,R)}function Ie(_e){Q=_e,t(13,Q)}function be(_e){j=_e,t(7,j)}return n.$$set=_e=>{"orderMode"in _e&&t(0,V=_e.orderMode),"placeOrderAsset"in _e&&t(1,$=_e.placeOrderAsset),"side"in _e&&t(2,P=_e.side),"spot"in _e&&t(3,z=_e.spot)},n.$$.update=()=>{n.$$.dirty[1]&128&&t(19,r=w),n.$$.dirty[1]&64&&t(34,l=T),n.$$.dirty[0]&12|n.$$.dirty[1]&8&&t(33,i=sr(z,l,P,F)),n.$$.dirty[1]&12&&de(i,l),n.$$.dirty[0]&30&&t(10,s=cn({availableBalanceEv:$.availableBalanceEvForOperator},z,O,P)),n.$$.dirty[0]&1062&&t(29,a=fn({availableBalanceEv:$.availableBalanceEvForOperator},P,M,s)),n.$$.dirty[0]&120&&t(18,o=Vn(z,rt.Limit,O,M,L)),n.$$.dirty[0]&240|n.$$.dirty[1]&4&&ar(i,{priceEp:O,quantityEv:L,qtyType:M,timeInForce:j}),n.$$.dirty[0]&536870976&&Ee(L,a),n.$$.dirty[0]&12&&t(12,c=P===Oe.Buy?z.quoteCurrency:z.displayBaseCurrency),n.$$.dirty[0]&12&&t(11,f=P===Oe.Buy?z.displayBaseCurrency:z.quoteCurrency),n.$$.dirty[0]&4096|n.$$.dirty[1]&32&&t(31,d=E(c)),n.$$.dirty[0]&2048|n.$$.dirty[1]&32&&t(30,h=E(f)),n.$$.dirty[0]&1073741943|n.$$.dirty[1]&1&&oe({orderMode:V,priceEp:O,side:P,qtyType:M,quantityEv:L,availableBalanceEv:$.availableBalanceEv,payCurrencyItem:d,receiveCurrencyItem:h}),n.$$.dirty[0]&268437504|n.$$.dirty[1]&16&&t(32,m=(t(28,B=k(f))===null||B===void 0?void 0:B.totalDebtEv)||"0"),n.$$.dirty[0]&1073741941|n.$$.dirty[1]&3&&x({orderMode:V,priceEp:O,side:P,qtyType:M,quantityEv:L,totalDebtEv:m,payCurrencyItem:d,receiveCurrencyItem:h}),n.$$.dirty[0]&832&&te(L,R,X)},[V,$,P,z,O,M,L,j,R,X,s,f,c,Q,K,W,Z,J,o,r,v,I,A,F,G,re,ge,ee,B,a,h,d,m,i,l,k,E,T,w,me,Se,qe,Ce,Be,ce,fe,Ve,Ie,be]}let rv=class extends je{constructor(e){super(),We(this,e,nv,tv,Fe,{orderMode:0,placeOrderAsset:1,side:2,spot:3},null,[-1,-1])}};function cc(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[20](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&1048576&&r.update.call(null,{text:s[20](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function lv(n){let e,t=n[0]===St.Borrow&&cc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[0]===St.Borrow?t?t.p(r,l):(t=cc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function fc(n){let e,t,r=n[20](ot.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[15]),o=S(),c=q(n[11]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[15]),o=C(m),c=D(m,n[11]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&1048576&&r!==(r=f[20](ot.Borrowing)+"")&&N(l,r),d[0]&32768&&N(a,f[15]),d[0]&2048&&N(c,f[11])},d(f){f&&p(e)}}}function dc(n){let e,t,r=n[20](ot.Repaying)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[16]),o=S(),c=q(n[10]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[16]),o=C(m),c=D(m,n[10]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&1048576&&r!==(r=f[20](ot.Repaying)+"")&&N(l,r),d[0]&65536&&N(a,f[16]),d[0]&1024&&N(c,f[10])},d(f){f&&p(e)}}}function pc(n){let e,t;return e=new Ql({props:{qtyType:n[4],quantityEv:n[5],priceEp:n[9]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&16&&(i.qtyType=r[4]),l[0]&32&&(i.quantityEv=r[5]),l[0]&512&&(i.priceEp=r[9]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function iv(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T=n[20](n[12]?ot.MaxBuy:ot.MaxSell)+"",w,I,A,B=nn(n[8],n[3],n[2],n[21])+"",V,$,P,z,F,O,M,L,Q,j,K,W,Z,J,R,X=rn(n[2],n[4],n[20],ot)+"",te,oe,x,de=ln(n[3],n[17],n[4])+"",G,re,ge=(n[4]===Me.ByBase?n[3].quoteCurrency:n[3].displayBaseCurrency)+"",Ee,we,ee,me,Se,qe,Ce,Be,ce=n[3].symbol,fe,Ve,Ie;function be(pe){n[38](pe)}let _e={};n[0]!==void 0&&(_e.orderMode=n[0]),t=new Ea({props:_e}),Ue.push(()=>Ge(t,"orderMode",be));function ve(pe){n[39](pe)}function ke(pe){n[40](pe)}function Ne(pe){n[41](pe)}function Te(pe){n[42](pe)}function He(pe){n[43](pe)}let ye={isOnlyByBase:!n[12]&&n[18],isOnlyByQuote:n[12]&&n[18],marginPair:n[3]};n[5]!==void 0&&(ye.quantityEv=n[5]),n[4]!==void 0&&(ye.qtyType=n[4]),n[14]!==void 0&&(ye.quantityInput=n[14]),n[7]!==void 0&&(ye.quantityPrecision=n[7]),n[6]!==void 0&&(ye.quantityScale=n[6]),s=new Zl({props:ye}),Ue.push(()=>Ge(s,"quantityEv",ve)),Ue.push(()=>Ge(s,"qtyType",ke)),Ue.push(()=>Ge(s,"quantityInput",Ne)),Ue.push(()=>Ge(s,"quantityPrecision",Te)),Ue.push(()=>Ge(s,"quantityScale",He)),m=new Wl({props:{currency:n[11],availableValue:n[1].availableBalanceRqForOperator,$$slots:{default:[lv]},$$scope:{ctx:n}}});let Pe=n[0]===St.Borrow&&fc(n),De=n[0]===St.Repay&&dc(n);function Re(pe){n[44](pe)}let et={type:n[22]};n[13]!==void 0&&(et.value=n[13]),L=new or({props:et}),Ue.push(()=>Ge(L,"value",Re)),L.$on("input",n[24]),L.$on("change",n[25]),K=new Na({props:{side:n[2],isPosting:n[19],isMarginText:n[0]===St.Borrow,currency:n[3].displayBaseCurrency}}),K.$on("click",n[23]),Ce=new xl({});let he=pc(n);return{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),h=S(),le(m.$$.fragment),v=S(),k=g("div"),E=g("span"),w=q(T),I=S(),A=g("span"),V=q(B),$=S(),P=q(n[10]),z=S(),Pe&&Pe.c(),F=S(),De&&De.c(),O=S(),M=g("div"),le(L.$$.fragment),j=S(),le(K.$$.fragment),W=S(),Z=g("div"),J=g("div"),R=g("span"),te=q(X),oe=S(),x=g("span"),G=q(de),re=S(),Ee=q(ge),we=S(),ee=g("i"),me=q(""),qe=S(),le(Ce.$$.fragment),Be=S(),he.c(),this.h()},l(pe){e=b(pe,"DIV",{class:!0});var ue=y(e);ae(t.$$.fragment,ue),l=C(ue),i=b(ue,"DIV",{class:!0});var Ae=y(i);ae(s.$$.fragment,Ae),Ae.forEach(p),h=C(ue),ae(m.$$.fragment,ue),v=C(ue),k=b(ue,"DIV",{class:!0});var nt=y(k);E=b(nt,"SPAN",{class:!0});var lt=y(E);w=D(lt,T),lt.forEach(p),I=C(nt),A=b(nt,"SPAN",{class:!0});var st=y(A);V=D(st,B),$=C(st),P=D(st,n[10]),st.forEach(p),nt.forEach(p),z=C(ue),Pe&&Pe.l(ue),F=C(ue),De&&De.l(ue),O=C(ue),M=b(ue,"DIV",{class:!0});var ft=y(M);ae(L.$$.fragment,ft),ft.forEach(p),j=C(ue),ae(K.$$.fragment,ue),W=C(ue),Z=b(ue,"DIV",{class:!0});var mt=y(Z);J=b(mt,"DIV",{class:!0});var at=y(J);R=b(at,"SPAN",{class:!0});var pt=y(R);te=D(pt,X),pt.forEach(p),oe=C(at),x=b(at,"SPAN",{class:!0});var Le=y(x);G=D(Le,de),re=C(Le),Ee=D(Le,ge),Le.forEach(p),we=C(at),ee=b(at,"I",{class:!0});var Xe=y(ee);me=D(Xe,""),Xe.forEach(p),at.forEach(p),qe=C(mt),ae(Ce.$$.fragment,mt),mt.forEach(p),Be=C(ue),he.l(ue),ue.forEach(p),this.h()},h(){_(i,"class","mt12"),_(E,"class","T3"),_(A,"class","ml4 T1 wsn"),_(k,"class","df aic mt8 f12"),_(M,"class","slider H-19vf6vy"),_(R,"class","T3"),_(x,"class","ml4 T1"),_(ee,"class","iconfont ml4 f12 cp"),_(J,"class","cost"),_(Z,"class","df jcsb aic mv12 f12"),_(e,"class","wrap H-19vf6vy")},m(pe,ue){Y(pe,e,ue),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),u(e,h),ie(m,e,null),u(e,v),u(e,k),u(k,E),u(E,w),u(k,I),u(k,A),u(A,V),u(A,$),u(A,P),u(e,z),Pe&&Pe.m(e,null),u(e,F),De&&De.m(e,null),u(e,O),u(e,M),ie(L,M,null),u(e,j),ie(K,e,null),u(e,W),u(e,Z),u(Z,J),u(J,R),u(R,te),u(J,oe),u(J,x),u(x,G),u(x,re),u(x,Ee),u(J,we),u(J,ee),u(ee,me),u(Z,qe),ie(Ce,Z,null),u(e,Be),he.m(e,null),fe=!0,Ve||(Ie=En(Se=kn.call(null,ee,{text:n[20](ut.PlaceMarketOrder)})),Ve=!0)},p(pe,ue){const Ae={};!r&&ue[0]&1&&(r=!0,Ae.orderMode=pe[0],Ye(()=>r=!1)),t.$set(Ae);const nt={};ue[0]&266240&&(nt.isOnlyByBase=!pe[12]&&pe[18]),ue[0]&266240&&(nt.isOnlyByQuote=pe[12]&&pe[18]),ue[0]&8&&(nt.marginPair=pe[3]),!a&&ue[0]&32&&(a=!0,nt.quantityEv=pe[5],Ye(()=>a=!1)),!o&&ue[0]&16&&(o=!0,nt.qtyType=pe[4],Ye(()=>o=!1)),!c&&ue[0]&16384&&(c=!0,nt.quantityInput=pe[14],Ye(()=>c=!1)),!f&&ue[0]&128&&(f=!0,nt.quantityPrecision=pe[7],Ye(()=>f=!1)),!d&&ue[0]&64&&(d=!0,nt.quantityScale=pe[6],Ye(()=>d=!1)),s.$set(nt);const lt={};ue[0]&2048&&(lt.currency=pe[11]),ue[0]&2&&(lt.availableValue=pe[1].availableBalanceRqForOperator),ue[0]&1048577|ue[1]&1048576&&(lt.$$scope={dirty:ue,ctx:pe}),m.$set(lt),(!fe||ue[0]&1052672)&&T!==(T=pe[20](pe[12]?ot.MaxBuy:ot.MaxSell)+"")&&N(w,T),(!fe||ue[0]&2097420)&&B!==(B=nn(pe[8],pe[3],pe[2],pe[21])+"")&&N(V,B),(!fe||ue[0]&1024)&&N(P,pe[10]),pe[0]===St.Borrow?Pe?Pe.p(pe,ue):(Pe=fc(pe),Pe.c(),Pe.m(e,F)):Pe&&(Pe.d(1),Pe=null),pe[0]===St.Repay?De?De.p(pe,ue):(De=dc(pe),De.c(),De.m(e,O)):De&&(De.d(1),De=null);const st={};!Q&&ue[0]&8192&&(Q=!0,st.value=pe[13],Ye(()=>Q=!1)),L.$set(st);const ft={};ue[0]&4&&(ft.side=pe[2]),ue[0]&524288&&(ft.isPosting=pe[19]),ue[0]&1&&(ft.isMarginText=pe[0]===St.Borrow),ue[0]&8&&(ft.currency=pe[3].displayBaseCurrency),K.$set(ft),(!fe||ue[0]&1048596)&&X!==(X=rn(pe[2],pe[4],pe[20],ot)+"")&&N(te,X),(!fe||ue[0]&131096)&&de!==(de=ln(pe[3],pe[17],pe[4])+"")&&N(G,de),(!fe||ue[0]&24)&&ge!==(ge=(pe[4]===Me.ByBase?pe[3].quoteCurrency:pe[3].displayBaseCurrency)+"")&&N(Ee,ge),Se&&Bt(Se.update)&&ue[0]&1048576&&Se.update.call(null,{text:pe[20](ut.PlaceMarketOrder)}),ue[0]&8&&Fe(ce,ce=pe[3].symbol)?(Ze(),U(he,1,1,Qe),xe(),he=pc(pe),he.c(),H(he,1),he.m(e,null)):he.p(pe,ue)},i(pe){fe||(H(t.$$.fragment,pe),H(s.$$.fragment,pe),H(m.$$.fragment,pe),H(L.$$.fragment,pe),H(K.$$.fragment,pe),H(Ce.$$.fragment,pe),H(he),fe=!0)},o(pe){U(t.$$.fragment,pe),U(s.$$.fragment,pe),U(m.$$.fragment,pe),U(L.$$.fragment,pe),U(K.$$.fragment,pe),U(Ce.$$.fragment,pe),U(he),fe=!1},d(pe){pe&&p(e),se(t),se(s),se(m),Pe&&Pe.d(),De&&De.d(),se(L),se(K),se(Ce),he.d(pe),Ve=!1,Ie()}}}function sv(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V,$;ne(n,it,fe=>t(20,T=fe)),ne(n,gs,fe=>t(33,w=fe)),ne(n,Rl,fe=>t(34,I=fe)),ne(n,Un,fe=>t(35,A=fe)),ne(n,ir,fe=>t(36,B=fe)),ne(n,lr,fe=>t(37,V=fe)),ne(n,tr,fe=>t(21,$=fe));var P;let{orderMode:z}=e,{placeOrderAsset:F}=e,{side:O=Oe.Buy}=e,{spot:M=null}=e;const L=rt.Market;let Q=Me.ByBase,j=0,K=0,W,Z="0",J="0",R=0,X=0;Ct(()=>vt.subscribe("global","spot-quantity-click",fe=>{t(5,j=fe.quantity),t(4,Q=fe.type),W&&W.focus()}));function te(fe,Ve,Ie){const be=mr(gn(fe,Tn(Ve)),Ie,0),_e=un(be,Tn(Ve));_e!==fe&&t(5,j=Number(_e))}function oe({orderMode:fe,priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,availableBalanceEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}){if(!(!ke||!Ne)){if(fe!==St.Borrow){t(15,Z="0");return}t(15,Z=Gl({priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,availableBalanceEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}))}}function x({orderMode:fe,priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,totalDebtEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}){if(!(!ke||!Ne)){if(fe!==St.Repay){t(16,J="0");return}t(16,J=ka({priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,totalDebtEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}))}}function de(fe,Ve){fe&&(t(5,j=Ve.quantityEv),t(4,Q=Ve.qtyType))}async function G(){if(await we())return;await Jl({tradePair:M,qtyType:Q,side:O,quantityEv:j,priceEp:o,orderType:L,ordType:"Market",timeInForce:"ImmediateOrCancel",orderMode:z,payCurrency:h,receiveCurrency:m,borrowing:Z,repaying:J},z===St.Repay)}function re(fe){if(f<=0){t(5,j=0);return}t(5,j=f*Number(fe.detail)/100)}function ge(){W&&W.focus()}function Ee(fe,Ve){if(Ve<=0){t(13,K=0);return}if(fe>Ve){t(13,K=100);return}t(13,K=parseInt(String(fe/Ve*100)))}async function we(){const fe={quantityEv:j,priceEp:o},Ve={orderType:L,orderMode:z,qtyType:Q,side:O,maxAmountEv:c,availableBalanceEv:F.availableBalanceEvForOperator,costEv:d,spot:M,borrowing:Z},Ie=await Yl(T,fe,Ve);return Ie?(vt.send("toast","info",{message:Ie}),!0):!1}function ee(fe){z=fe,t(0,z)}function me(fe){j=fe,t(5,j)}function Se(fe){Q=fe,t(4,Q)}function qe(fe){W=fe,t(14,W)}function Ce(fe){X=fe,t(7,X)}function Be(fe){R=fe,t(6,R)}function ce(fe){K=fe,t(13,K)}return n.$$set=fe=>{"orderMode"in fe&&t(0,z=fe.orderMode),"placeOrderAsset"in fe&&t(1,F=fe.placeOrderAsset),"side"in fe&&t(2,O=fe.side),"spot"in fe&&t(3,M=fe.spot)},n.$$.update=()=>{n.$$.dirty[1]&64&&t(19,r=V),n.$$.dirty[1]&32&&t(32,l=B),n.$$.dirty[0]&4&&t(12,i=O===Oe.Buy),n.$$.dirty[0]&1&&t(18,s=z===St.Borrow),n.$$.dirty[0]&12|n.$$.dirty[1]&2&&t(31,a=sr(M,l,O,L)),n.$$.dirty[1]&16&&t(9,o=A.closeEp),n.$$.dirty[1]&3&&de(a,l),n.$$.dirty[0]&526&&t(8,c=cn({availableBalanceEv:F.availableBalanceEvForOperator},M,o,O)),n.$$.dirty[0]&278&&t(27,f=fn({availableBalanceEv:F.availableBalanceEvForOperator},O,Q,c)),n.$$.dirty[0]&568&&t(17,d=Vn(M,rt.Limit,o,Q,j)),n.$$.dirty[0]&134217760&&Ee(j,f),n.$$.dirty[0]&48|n.$$.dirty[1]&1&&ar(a,{quantityEv:j,qtyType:Q}),n.$$.dirty[0]&4104&&t(11,h=i?M.quoteCurrency:M.displayBaseCurrency),n.$$.dirty[0]&4104&&t(10,m=i?M.displayBaseCurrency:M.quoteCurrency),n.$$.dirty[0]&2048|n.$$.dirty[1]&8&&t(29,v=I(h)),n.$$.dirty[0]&1024|n.$$.dirty[1]&8&&t(28,k=I(m)),n.$$.dirty[0]&805306935&&oe({orderMode:z,priceEp:o,side:O,qtyType:Q,quantityEv:j,availableBalanceEv:F.availableBalanceEv,payCurrencyItem:v,receiveCurrencyItem:k}),n.$$.dirty[0]&67109888|n.$$.dirty[1]&4&&t(30,E=(t(26,P=w(m))===null||P===void 0?void 0:P.totalDebtEv)||"0"),n.$$.dirty[0]&1879048757&&x({orderMode:z,priceEp:o,side:O,qtyType:Q,quantityEv:j,totalDebtEv:E,payCurrencyItem:v,receiveCurrencyItem:k}),n.$$.dirty[0]&224&&te(j,R,X)},[z,F,O,M,Q,j,R,X,c,o,m,h,i,K,W,Z,J,d,s,r,T,$,L,G,re,ge,P,f,k,v,E,a,l,w,I,A,B,V,ee,me,Se,qe,Ce,Be,ce]}let av=class extends je{constructor(e){super(),We(this,e,sv,iv,Fe,{orderMode:0,placeOrderAsset:1,side:2,spot:3},null,[-1,-1])}};function ov(n){let e,t,r;function l(s){n[48](s)}let i={class:"limit-price f1",isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[24](ot.Price),unit:n[3].quoteCurrency};return n[5]!==void 0&&(i.priceEp=n[5]),e=new dn({props:i}),Ue.push(()=>Ge(e,"priceEp",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a[0]&8&&(o.factor=s[3].quoteQtyFactor),a[0]&8&&(o.scale=s[3].quoteQtyScale),a[0]&8&&(o.tickSizeEp=s[3].quoteTickSizeEv),a[0]&8&&(o.precision=s[3].pricePrecision),a[0]&8&&(o.minPriceEp=s[3].quoteTickSizeEv),a[0]&8&&(o.maxPriceEp=s[3].maxOrderValueEv),a[0]&16777216&&(o.label=s[24](ot.Price)),a[0]&8&&(o.unit=s[3].quoteCurrency),!t&&a[0]&32&&(t=!0,o.priceEp=s[5],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function uv(n){let e,t;return e=new dn({props:{disabled:!0,class:"limit-price f1",isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[24](ot.Price),unit:n[3].quoteCurrency,priceEp:0}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&8&&(i.factor=r[3].quoteQtyFactor),l[0]&8&&(i.scale=r[3].quoteQtyScale),l[0]&8&&(i.tickSizeEp=r[3].quoteTickSizeEv),l[0]&8&&(i.precision=r[3].pricePrecision),l[0]&8&&(i.minPriceEp=r[3].quoteTickSizeEv),l[0]&8&&(i.maxPriceEp=r[3].maxOrderValueEv),l[0]&16777216&&(i.label=r[24](ot.Price)),l[0]&8&&(i.unit=r[3].quoteCurrency),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function hc(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[24](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&16777216&&r.update.call(null,{text:s[24](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function cv(n){let e,t=n[0]===St.Borrow&&hc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[0]===St.Borrow?t?t.p(r,l):(t=hc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function mc(n){let e,t,r=n[24](ot.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[19]),o=S(),c=q(n[14]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[19]),o=C(m),c=D(m,n[14]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&16777216&&r!==(r=f[24](ot.Borrowing)+"")&&N(l,r),d[0]&524288&&N(a,f[19]),d[0]&16384&&N(c,f[14])},d(f){f&&p(e)}}}function _c(n){let e,t,r=n[24](ot.Repaying)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[20]),o=S(),c=q(n[13]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[20]),o=C(m),c=D(m,n[13]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&16777216&&r!==(r=f[24](ot.Repaying)+"")&&N(l,r),d[0]&1048576&&N(a,f[20]),d[0]&8192&&N(c,f[13])},d(f){f&&p(e)}}}function vc(n){let e=n[3].symbol,t,r,l=gc(n);return{c(){l.c(),t=Ke()},l(i){l.l(i),t=Ke()},m(i,s){l.m(i,s),Y(i,t,s),r=!0},p(i,s){s[0]&8&&Fe(e,e=i[3].symbol)?(Ze(),U(l,1,1,Qe),xe(),l=gc(i),l.c(),H(l,1),l.m(t.parentNode,t)):l.p(i,s)},i(i){r||(H(l),r=!0)},o(i){U(l),r=!1},d(i){i&&p(t),l.d(i)}}}function gc(n){let e,t;return e=new Ql({props:{qtyType:n[6],quantityEv:n[7],priceEp:n[5]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&64&&(i.qtyType=r[6]),l[0]&128&&(i.quantityEv=r[7]),l[0]&32&&(i.priceEp=r[5]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function bc(n){let e,t,r;function l(s){n[57](s)}let i={};return n[9]!==void 0&&(i.timeInForce=n[9]),e=new Xl({props:i}),Ue.push(()=>Ge(e,"timeInForce",l)),e.$on("changeAdvancedVisible",n[30]),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};!t&&a[0]&512&&(t=!0,o.timeInForce=s[9],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function fv(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V,$,P,z,F,O,M,L,Q=n[24](n[15]?ot.MaxBuy:ot.MaxSell)+"",j,K,W,Z=nn(n[12],n[3],n[1],n[25])+"",J,R,X=(n[15]?n[3].displayBaseCurrency:n[3].quoteCurrency)+"",te,oe,x,de,G,re,ge,Ee,we,ee,me,Se,qe,Ce=rn(n[1],n[6],n[24],ot)+"",Be,ce,fe,Ve=ln(n[3],n[21],n[6])+"",Ie,be,_e=(n[6]===Me.ByBase?n[3].quoteCurrency:n[3].displayBaseCurrency)+"",ve,ke,Ne,Te,He,ye;function Pe(ze){n[45](ze)}let De={};n[0]!==void 0&&(De.orderMode=n[0]),t=new Ea({props:De}),Ue.push(()=>Ge(t,"orderMode",Pe));function Re(ze){n[46](ze)}function et(ze){n[47](ze)}let he={class:"limit-price",isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[24](ot.TriggerPrice),unit:n[3].quoteCurrency};n[4]!==void 0&&(he.priceEp=n[4]),n[17]!==void 0&&(he.input=n[17]),s=new dn({props:he}),Ue.push(()=>Ge(s,"priceEp",Re)),Ue.push(()=>Ge(s,"input",et));const pe=[uv,ov],ue=[];function Ae(ze,tt){return ze[8]===bt.Market?0:1}d=Ae(n),h=ue[d]=pe[d](n);function nt(ze){n[49](ze)}let lt={options:$r.createConditionalTypeOptions(n[24],ut,bt)};n[8]!==void 0&&(lt.value=n[8]),k=new Bs({props:lt}),Ue.push(()=>Ge(k,"value",nt)),k.$on("change",n[50]);function st(ze){n[51](ze)}function ft(ze){n[52](ze)}function mt(ze){n[53](ze)}function at(ze){n[54](ze)}function pt(ze){n[55](ze)}let Le={isOnlyByBase:!n[15]&&n[22],isOnlyByQuote:n[15]&&n[22],marginPair:n[3]};n[7]!==void 0&&(Le.quantityEv=n[7]),n[6]!==void 0&&(Le.qtyType=n[6]),n[18]!==void 0&&(Le.quantityInput=n[18]),n[11]!==void 0&&(Le.quantityPrecision=n[11]),n[10]!==void 0&&(Le.quantityScale=n[10]),I=new Zl({props:Le}),Ue.push(()=>Ge(I,"quantityEv",st)),Ue.push(()=>Ge(I,"qtyType",ft)),Ue.push(()=>Ge(I,"quantityInput",mt)),Ue.push(()=>Ge(I,"quantityPrecision",at)),Ue.push(()=>Ge(I,"quantityScale",pt)),F=new Wl({props:{currency:n[15]?n[3].quoteCurrency:n[3].baseCurrency,availableValue:n[2].availableBalanceRqForOperator,$$slots:{default:[cv]},$$scope:{ctx:n}}});let Xe=n[0]===St.Borrow&&mc(n),_t=n[0]===St.Repay&&_c(n);function Jt(ze){n[56](ze)}let Ft={type:n[26]};n[16]!==void 0&&(Ft.value=n[16]),re=new or({props:Ft}),Ue.push(()=>Ge(re,"value",Jt)),re.$on("input",n[28]),re.$on("change",n[29]),we=new Na({props:{side:n[1],isPosting:n[23],isMarginText:n[0]===St.Borrow,currency:n[3].displayBaseCurrency}}),we.$on("click",n[27]),Ne=new xl({});let Et=n[8]===bt.Market&&vc(n),Tt=n[8]===bt.Limit&&bc(n);return{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),c=S(),f=g("div"),h.c(),m=S(),v=g("div"),le(k.$$.fragment),T=S(),w=g("div"),le(I.$$.fragment),z=S(),le(F.$$.fragment),O=S(),M=g("div"),L=g("span"),j=q(Q),K=S(),W=g("span"),J=q(Z),R=S(),te=q(X),oe=S(),Xe&&Xe.c(),x=S(),_t&&_t.c(),de=S(),G=g("div"),le(re.$$.fragment),Ee=S(),le(we.$$.fragment),ee=S(),me=g("div"),Se=g("div"),qe=g("span"),Be=q(Ce),ce=S(),fe=g("span"),Ie=q(Ve),be=S(),ve=q(_e),ke=S(),le(Ne.$$.fragment),Te=S(),Et&&Et.c(),He=S(),Tt&&Tt.c(),this.h()},l(ze){e=b(ze,"DIV",{class:!0});var tt=y(e);ae(t.$$.fragment,tt),l=C(tt),i=b(tt,"DIV",{class:!0});var Gt=y(i);ae(s.$$.fragment,Gt),Gt.forEach(p),c=C(tt),f=b(tt,"DIV",{class:!0});var qt=y(f);h.l(qt),m=C(qt),v=b(qt,"DIV",{class:!0});var on=y(v);ae(k.$$.fragment,on),on.forEach(p),qt.forEach(p),T=C(tt),w=b(tt,"DIV",{class:!0});var wn=y(w);ae(I.$$.fragment,wn),wn.forEach(p),z=C(tt),ae(F.$$.fragment,tt),O=C(tt),M=b(tt,"DIV",{class:!0});var Rt=y(M);L=b(Rt,"SPAN",{class:!0});var Ut=y(L);j=D(Ut,Q),Ut.forEach(p),K=C(Rt),W=b(Rt,"SPAN",{class:!0});var Zt=y(W);J=D(Zt,Z),R=C(Zt),te=D(Zt,X),Zt.forEach(p),Rt.forEach(p),oe=C(tt),Xe&&Xe.l(tt),x=C(tt),_t&&_t.l(tt),de=C(tt),G=b(tt,"DIV",{class:!0});var bn=y(G);ae(re.$$.fragment,bn),bn.forEach(p),Ee=C(tt),ae(we.$$.fragment,tt),ee=C(tt),me=b(tt,"DIV",{class:!0});var Hn=y(me);Se=b(Hn,"DIV",{class:!0});var zn=y(Se);qe=b(zn,"SPAN",{class:!0});var Er=y(qe);Be=D(Er,Ce),Er.forEach(p),ce=C(zn),fe=b(zn,"SPAN",{class:!0});var ur=y(fe);Ie=D(ur,Ve),be=C(ur),ve=D(ur,_e),ur.forEach(p),zn.forEach(p),ke=C(Hn),ae(Ne.$$.fragment,Hn),Hn.forEach(p),Te=C(tt),Et&&Et.l(tt),He=C(tt),Tt&&Tt.l(tt),tt.forEach(p),this.h()},h(){_(i,"class","trigger-price H-ehn0mr"),_(v,"class","conditional-type ml8 H-ehn0mr"),_(f,"class","limit-price df aic H-ehn0mr"),_(w,"class","quantity H-ehn0mr"),_(L,"class","T3"),_(W,"class","ml4 T1 wsn"),_(M,"class","df aic mt8 f12"),_(G,"class","slider H-ehn0mr"),_(qe,"class","T3"),_(fe,"class","ml4 T1"),_(Se,"class","cost f12"),_(me,"class","df fdr jcsb aic mt12"),_(e,"class","wrap H-ehn0mr")},m(ze,tt){Y(ze,e,tt),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),u(e,c),u(e,f),ue[d].m(f,null),u(f,m),u(f,v),ie(k,v,null),u(e,T),u(e,w),ie(I,w,null),u(e,z),ie(F,e,null),u(e,O),u(e,M),u(M,L),u(L,j),u(M,K),u(M,W),u(W,J),u(W,R),u(W,te),u(e,oe),Xe&&Xe.m(e,null),u(e,x),_t&&_t.m(e,null),u(e,de),u(e,G),ie(re,G,null),u(e,Ee),ie(we,e,null),u(e,ee),u(e,me),u(me,Se),u(Se,qe),u(qe,Be),u(Se,ce),u(Se,fe),u(fe,Ie),u(fe,be),u(fe,ve),u(me,ke),ie(Ne,me,null),u(e,Te),Et&&Et.m(e,null),u(e,He),Tt&&Tt.m(e,null),ye=!0},p(ze,tt){const Gt={};!r&&tt[0]&1&&(r=!0,Gt.orderMode=ze[0],Ye(()=>r=!1)),t.$set(Gt);const qt={};tt[0]&8&&(qt.factor=ze[3].quoteQtyFactor),tt[0]&8&&(qt.scale=ze[3].quoteQtyScale),tt[0]&8&&(qt.tickSizeEp=ze[3].quoteTickSizeEv),tt[0]&8&&(qt.precision=ze[3].pricePrecision),tt[0]&8&&(qt.minPriceEp=ze[3].quoteTickSizeEv),tt[0]&8&&(qt.maxPriceEp=ze[3].maxOrderValueEv),tt[0]&16777216&&(qt.label=ze[24](ot.TriggerPrice)),tt[0]&8&&(qt.unit=ze[3].quoteCurrency),!a&&tt[0]&16&&(a=!0,qt.priceEp=ze[4],Ye(()=>a=!1)),!o&&tt[0]&131072&&(o=!0,qt.input=ze[17],Ye(()=>o=!1)),s.$set(qt);let on=d;d=Ae(ze),d===on?ue[d].p(ze,tt):(Ze(),U(ue[on],1,1,()=>{ue[on]=null}),xe(),h=ue[d],h?h.p(ze,tt):(h=ue[d]=pe[d](ze),h.c()),H(h,1),h.m(f,m));const wn={};tt[0]&16777216&&(wn.options=$r.createConditionalTypeOptions(ze[24],ut,bt)),!E&&tt[0]&256&&(E=!0,wn.value=ze[8],Ye(()=>E=!1)),k.$set(wn);const Rt={};tt[0]&4227072&&(Rt.isOnlyByBase=!ze[15]&&ze[22]),tt[0]&4227072&&(Rt.isOnlyByQuote=ze[15]&&ze[22]),tt[0]&8&&(Rt.marginPair=ze[3]),!A&&tt[0]&128&&(A=!0,Rt.quantityEv=ze[7],Ye(()=>A=!1)),!B&&tt[0]&64&&(B=!0,Rt.qtyType=ze[6],Ye(()=>B=!1)),!V&&tt[0]&262144&&(V=!0,Rt.quantityInput=ze[18],Ye(()=>V=!1)),!$&&tt[0]&2048&&($=!0,Rt.quantityPrecision=ze[11],Ye(()=>$=!1)),!P&&tt[0]&1024&&(P=!0,Rt.quantityScale=ze[10],Ye(()=>P=!1)),I.$set(Rt);const Ut={};tt[0]&32776&&(Ut.currency=ze[15]?ze[3].quoteCurrency:ze[3].baseCurrency),tt[0]&4&&(Ut.availableValue=ze[2].availableBalanceRqForOperator),tt[0]&16777217|tt[2]&64&&(Ut.$$scope={dirty:tt,ctx:ze}),F.$set(Ut),(!ye||tt[0]&16809984)&&Q!==(Q=ze[24](ze[15]?ot.MaxBuy:ot.MaxSell)+"")&&N(j,Q),(!ye||tt[0]&33558538)&&Z!==(Z=nn(ze[12],ze[3],ze[1],ze[25])+"")&&N(J,Z),(!ye||tt[0]&32776)&&X!==(X=(ze[15]?ze[3].displayBaseCurrency:ze[3].quoteCurrency)+"")&&N(te,X),ze[0]===St.Borrow?Xe?Xe.p(ze,tt):(Xe=mc(ze),Xe.c(),Xe.m(e,x)):Xe&&(Xe.d(1),Xe=null),ze[0]===St.Repay?_t?_t.p(ze,tt):(_t=_c(ze),_t.c(),_t.m(e,de)):_t&&(_t.d(1),_t=null);const Zt={};!ge&&tt[0]&65536&&(ge=!0,Zt.value=ze[16],Ye(()=>ge=!1)),re.$set(Zt);const bn={};tt[0]&2&&(bn.side=ze[1]),tt[0]&8388608&&(bn.isPosting=ze[23]),tt[0]&1&&(bn.isMarginText=ze[0]===St.Borrow),tt[0]&8&&(bn.currency=ze[3].displayBaseCurrency),we.$set(bn),(!ye||tt[0]&16777282)&&Ce!==(Ce=rn(ze[1],ze[6],ze[24],ot)+"")&&N(Be,Ce),(!ye||tt[0]&2097224)&&Ve!==(Ve=ln(ze[3],ze[21],ze[6])+"")&&N(Ie,Ve),(!ye||tt[0]&72)&&_e!==(_e=(ze[6]===Me.ByBase?ze[3].quoteCurrency:ze[3].displayBaseCurrency)+"")&&N(ve,_e),ze[8]===bt.Market?Et?(Et.p(ze,tt),tt[0]&256&&H(Et,1)):(Et=vc(ze),Et.c(),H(Et,1),Et.m(e,He)):Et&&(Ze(),U(Et,1,1,()=>{Et=null}),xe()),ze[8]===bt.Limit?Tt?(Tt.p(ze,tt),tt[0]&256&&H(Tt,1)):(Tt=bc(ze),Tt.c(),H(Tt,1),Tt.m(e,null)):Tt&&(Ze(),U(Tt,1,1,()=>{Tt=null}),xe())},i(ze){ye||(H(t.$$.fragment,ze),H(s.$$.fragment,ze),H(h),H(k.$$.fragment,ze),H(I.$$.fragment,ze),H(F.$$.fragment,ze),H(re.$$.fragment,ze),H(we.$$.fragment,ze),H(Ne.$$.fragment,ze),H(Et),H(Tt),ye=!0)},o(ze){U(t.$$.fragment,ze),U(s.$$.fragment,ze),U(h),U(k.$$.fragment,ze),U(I.$$.fragment,ze),U(F.$$.fragment,ze),U(re.$$.fragment,ze),U(we.$$.fragment,ze),U(Ne.$$.fragment,ze),U(Et),U(Tt),ye=!1},d(ze){ze&&p(e),se(t),se(s),ue[d].d(),se(k),se(I),se(F),Xe&&Xe.d(),_t&&_t.d(),se(re),se(we),se(Ne),Et&&Et.d(),Tt&&Tt.d()}}}function dv(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V,$,P,z;ne(n,it,ue=>t(24,I=ue)),ne(n,gs,ue=>t(40,A=ue)),ne(n,Rl,ue=>t(41,B=ue)),ne(n,Un,ue=>t(42,V=ue)),ne(n,ir,ue=>t(43,$=ue)),ne(n,lr,ue=>t(44,P=ue)),ne(n,tr,ue=>t(25,z=ue));var F;let{side:O}=e,{orderMode:M}=e,{placeOrderAsset:L}=e,{spot:Q=null}=e;const j=rt.Conditional;let K=0,W=0,Z=Me.ByBase,J=0,R=bt.Limit,X=0,te="GoodTillCancel",oe=null,x=null,de,G="0",re="0",ge=0,Ee=0;Ct(()=>vt.subscribe("global","spot-price-click",ue=>{t(4,K=ue.price),t(5,W=ue.price),oe&&oe.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",ue=>{t(7,J=ue.quantity),t(6,Z=ue.type),x&&x.focus()}));function we(ue,Ae,nt){const lt=mr(gn(ue,Tn(Ae)),nt,0),st=un(lt,Tn(Ae));st!==ue&&t(7,J=Number(st))}function ee(ue,Ae,nt){return ue===bt.Market?nt:Ae}function me({orderMode:ue,priceEp:Ae,side:nt,qtyType:lt,quantityEv:st,availableBalanceEv:ft,payCurrencyItem:mt,receiveCurrencyItem:at}){if(!(!mt||!at)){if(ue!==St.Borrow){t(19,G="0");return}t(19,G=Gl({priceEp:Ae,side:nt,qtyType:lt,quantityEv:st,availableBalanceEv:ft,payCurrencyItem:mt,receiveCurrencyItem:at}))}}function Se({orderMode:ue,priceEp:Ae,side:nt,qtyType:lt,quantityEv:st,totalDebtEv:ft,payCurrencyItem:mt,receiveCurrencyItem:at}){if(!(!mt||!at)){if(ue!==St.Repay){t(20,re="0");return}t(20,re=ka({priceEp:Ae,side:nt,qtyType:lt,quantityEv:st,totalDebtEv:ft,payCurrencyItem:mt,receiveCurrencyItem:at}))}}function qe(ue,Ae){ue&&(Ae.isInitPrice||(t(5,W=Ae.priceEp),t(4,K=Ae.triggerPriceEp)),t(7,J=Ae.quantityEv),t(6,Z=Ae.qtyType),t(8,R=Ae.conditionalType),t(9,te=Ae.timeInForce))}async function Ce(){if(await Ie())return;const Ae=R===bt.Market?0:W;await Jl({tradePair:Q,side:O,priceEp:Ae,ordType:de,qtyType:Z,timeInForce:te,quantityEv:J,orderType:j,orderMode:M,payCurrency:v,receiveCurrency:k,borrowing:G,repaying:re,triggerPriceEp:K,direction:c},M===St.Repay)}function Be(ue,Ae,nt){if(Ae){if(nt===bt.Limit){de=ue>0?"StopLimit":"LimitIfTouched";return}if(nt===bt.Market){de=ue>0?"Stop":"MarketIfTouched";return}}if(nt===bt.Limit){de=ue>0?"LimitIfTouched":"StopLimit";return}if(nt===bt.Market){de=ue>0?"MarketIfTouched":"Stop";return}}function ce(ue){if(m<=0){t(7,J=0);return}t(7,J=m*Number(ue.detail)/100)}function fe(){x&&x.focus()}function Ve(ue,Ae){if(Ae<=0){t(16,X=0);return}if(ue>Ae){t(16,X=100);return}t(16,X=parseInt(String(ue/Ae*100)))}async function Ie(){const ue={quantityEv:J,priceEp:W,triggerPriceEp:K},Ae={orderType:rt.Conditional,orderMode:M,qtyType:Z,side:O,maxAmountEv:d,availableBalanceEv:L.availableBalanceEvForOperator,costEv:h,spot:Q,lastPriceEp:a,conditionalType:R,borrowing:G},nt=await Yl(I,ue,Ae);return nt?(vt.send("toast","info",{message:nt}),!0):!1}function be(ue){const Ae=ue.detail;bs.updateMarginStorage({advancedIsShow:Ae})}function _e(ue){M=ue,t(0,M)}function ve(ue){K=ue,t(4,K)}function ke(ue){oe=ue,t(17,oe)}function Ne(ue){W=ue,t(5,W)}function Te(ue){R=ue,t(8,R)}function He(ue){rr.call(this,n,ue)}function ye(ue){J=ue,t(7,J)}function Pe(ue){Z=ue,t(6,Z)}function De(ue){x=ue,t(18,x)}function Re(ue){Ee=ue,t(11,Ee)}function et(ue){ge=ue,t(10,ge)}function he(ue){X=ue,t(16,X)}function pe(ue){te=ue,t(9,te)}return n.$$set=ue=>{"side"in ue&&t(1,O=ue.side),"orderMode"in ue&&t(0,M=ue.orderMode),"placeOrderAsset"in ue&&t(2,L=ue.placeOrderAsset),"spot"in ue&&t(3,Q=ue.spot)},n.$$.update=()=>{n.$$.dirty[1]&8192&&t(23,r=P),n.$$.dirty[1]&4096&&t(39,l=$),n.$$.dirty[0]&2&&t(15,i=O===Oe.Buy),n.$$.dirty[0]&10|n.$$.dirty[1]&256&&t(37,s=sr(Q,l,O,j)),n.$$.dirty[1]&2048&&t(32,a=V.closeEp),n.$$.dirty[1]&320&&qe(s,l),n.$$.dirty[0]&16|n.$$.dirty[1]&2&&t(38,o=ga(K,a)),n.$$.dirty[1]&128&&(c=ba(o)),n.$$.dirty[0]&257&&t(22,f=R===bt.Market&&M===St.Borrow),n.$$.dirty[0]&46&&t(12,d=cn({availableBalanceEv:L.availableBalanceEvForOperator},Q,W,O)),n.$$.dirty[0]&232&&t(21,h=Vn(Q,rt.Limit,W,Z,J)),n.$$.dirty[0]&4166&&t(33,m=fn({availableBalanceEv:L.availableBalanceEvForOperator},O,Z,d)),n.$$.dirty[0]&33024|n.$$.dirty[1]&128&&Be(o,i,R),n.$$.dirty[0]&1008|n.$$.dirty[1]&64&&ar(s,{priceEp:W,quantityEv:J,qtyType:Z,triggerPriceEp:K,conditionalType:R,timeInForce:te}),n.$$.dirty[0]&128|n.$$.dirty[1]&4&&Ve(J,m),n.$$.dirty[0]&32776&&t(14,v=i?Q.quoteCurrency:Q.displayBaseCurrency),n.$$.dirty[0]&32776&&t(13,k=i?Q.displayBaseCurrency:Q.quoteCurrency),n.$$.dirty[0]&16384|n.$$.dirty[1]&1024&&t(35,E=B(v)),n.$$.dirty[0]&8192|n.$$.dirty[1]&1024&&t(34,T=B(k)),n.$$.dirty[0]&487|n.$$.dirty[1]&26&&me({orderMode:M,priceEp:ee(R,W,a),side:O,qtyType:Z,quantityEv:J,availableBalanceEv:L.availableBalanceEv,payCurrencyItem:E,receiveCurrencyItem:T}),n.$$.dirty[0]&8192|n.$$.dirty[1]&513&&t(36,w=(t(31,F=A(k))===null||F===void 0?void 0:F.totalDebtEv)||"0"),n.$$.dirty[0]&483|n.$$.dirty[1]&58&&Se({orderMode:M,priceEp:ee(R,W,a),side:O,qtyType:Z,quantityEv:J,totalDebtEv:w,payCurrencyItem:E,receiveCurrencyItem:T}),n.$$.dirty[0]&3200&&we(J,ge,Ee)},[M,O,L,Q,K,W,Z,J,R,te,ge,Ee,d,k,v,i,X,oe,x,G,re,h,f,r,I,z,j,Ce,ce,fe,be,F,a,m,T,E,w,s,o,l,A,B,V,$,P,_e,ve,ke,Ne,Te,He,ye,Pe,De,Re,et,he,pe]}let pv=class extends je{constructor(e){super(),We(this,e,dv,fv,Fe,{side:1,orderMode:0,placeOrderAsset:2,spot:3},null,[-1,-1,-1])}};function hv(n){let e,t,r;function l(s){n[13](s)}let i={side:n[1],spot:n[3],placeOrderAsset:n[4]};return n[0]!==void 0&&(i.orderMode=n[0]),e=new rv({props:i}),Ue.push(()=>Ge(e,"orderMode",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a&2&&(o.side=s[1]),a&8&&(o.spot=s[3]),a&16&&(o.placeOrderAsset=s[4]),!t&&a&1&&(t=!0,o.orderMode=s[0],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function mv(n){let e,t,r;function l(s){n[14](s)}let i={side:n[1],spot:n[3],placeOrderAsset:n[4]};return n[0]!==void 0&&(i.orderMode=n[0]),e=new av({props:i}),Ue.push(()=>Ge(e,"orderMode",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a&2&&(o.side=s[1]),a&8&&(o.spot=s[3]),a&16&&(o.placeOrderAsset=s[4]),!t&&a&1&&(t=!0,o.orderMode=s[0],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function _v(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function vv(n){let e,t,r,l;const i=[_v,mv],s=[];function a(o,c){return o[6]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function gv(n){let e,t,r;function l(s){n[15](s)}let i={side:n[1],spot:n[3],placeOrderAsset:n[4]};return n[0]!==void 0&&(i.orderMode=n[0]),e=new pv({props:i}),Ue.push(()=>Ge(e,"orderMode",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a&2&&(o.side=s[1]),a&8&&(o.spot=s[3]),a&16&&(o.placeOrderAsset=s[4]),!t&&a&1&&(t=!0,o.orderMode=s[0],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function bv(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function yv(n){let e,t,r,l;const i=[bv,gv],s=[];function a(o,c){return o[6]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Ev(n){let e,t,r,l,i,s,a=n[5](ot.Limit)+"",o,c,f,d=n[5](ot.Market)+"",h,m,v,k=n[5](ot.Conditional)+"",E,T,w,I,A,B,V,$,P,z,F;return r=new Da({props:{side:n[1]}}),r.$on("changeSideType",n[8]),I=new xt({props:{active:n[2]===rt.Limit,$$slots:{default:[hv]},$$scope:{ctx:n}}}),B=new xt({props:{active:n[2]===rt.Market,$$slots:{default:[vv]},$$scope:{ctx:n}}}),$=new xt({props:{active:n[2]===rt.Conditional,$$slots:{default:[yv]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),i=g("div"),s=g("span"),o=q(a),c=S(),f=g("span"),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),w=g("div"),le(I.$$.fragment),A=S(),le(B.$$.fragment),V=S(),le($.$$.fragment),this.h()},l(O){e=b(O,"DIV",{class:!0});var M=y(e);t=b(M,"DIV",{class:!0});var L=y(t);ae(r.$$.fragment,L),l=C(L),i=b(L,"DIV",{class:!0});var Q=y(i);s=b(Q,"SPAN",{class:!0});var j=y(s);o=D(j,a),j.forEach(p),c=C(Q),f=b(Q,"SPAN",{class:!0});var K=y(f);h=D(K,d),K.forEach(p),m=C(Q),v=b(Q,"SPAN",{class:!0});var W=y(v);E=D(W,k),W.forEach(p),Q.forEach(p),T=C(L),w=b(L,"DIV",{class:!0});var Z=y(w);ae(I.$$.fragment,Z),A=C(Z),ae(B.$$.fragment,Z),V=C(Z),ae($.$$.fragment,Z),Z.forEach(p),L.forEach(p),M.forEach(p),this.h()},h(){_(s,"class","tab limit H-1g0klj0"),$e(s,"active",n[2]===rt.Limit),_(f,"class","tab market H-1g0klj0"),$e(f,"active",n[2]===rt.Market),_(v,"class","tab conditional H-1g0klj0"),$e(v,"active",n[2]===rt.Conditional),_(i,"class","tab-wrap df T2 cp f12 H-1g0klj0"),_(w,"class","main H-1g0klj0"),_(t,"class","body"),_(e,"class","wrap ph12 H-1g0klj0")},m(O,M){Y(O,e,M),u(e,t),ie(r,t,null),u(t,l),u(t,i),u(i,s),u(s,o),u(i,c),u(i,f),u(f,h),u(i,m),u(i,v),u(v,E),u(t,T),u(t,w),ie(I,w,null),u(w,A),ie(B,w,null),u(w,V),ie($,w,null),P=!0,z||(F=[Je(s,"click",n[7](rt.Limit)),Je(f,"click",n[7](rt.Market)),Je(v,"click",n[7](rt.Conditional))],z=!0)},p(O,[M]){const L={};M&2&&(L.side=O[1]),r.$set(L),(!P||M&32)&&a!==(a=O[5](ot.Limit)+"")&&N(o,a),(!P||M&4)&&$e(s,"active",O[2]===rt.Limit),(!P||M&32)&&d!==(d=O[5](ot.Market)+"")&&N(h,d),(!P||M&4)&&$e(f,"active",O[2]===rt.Market),(!P||M&32)&&k!==(k=O[5](ot.Conditional)+"")&&N(E,k),(!P||M&4)&&$e(v,"active",O[2]===rt.Conditional);const Q={};M&4&&(Q.active=O[2]===rt.Limit),M&65563&&(Q.$$scope={dirty:M,ctx:O}),I.$set(Q);const j={};M&4&&(j.active=O[2]===rt.Market),M&65627&&(j.$$scope={dirty:M,ctx:O}),B.$set(j);const K={};M&4&&(K.active=O[2]===rt.Conditional),M&65627&&(K.$$scope={dirty:M,ctx:O}),$.$set(K)},i(O){P||(H(r.$$.fragment,O),H(I.$$.fragment,O),H(B.$$.fragment,O),H($.$$.fragment,O),P=!0)},o(O){U(r.$$.fragment,O),U(I.$$.fragment,O),U(B.$$.fragment,O),U($.$$.fragment,O),P=!1},d(O){O&&p(e),se(r),se(I),se(B),se($),z=!1,an(F)}}}function kv(n,e,t){let r,l,i,s,a,o,c,f,d,h;ne(n,Ba,I=>t(9,a=I)),ne(n,Ad,I=>t(10,o=I)),ne(n,Ci,I=>t(11,c=I)),ne(n,Ht,I=>t(12,f=I)),ne(n,it,I=>t(5,d=I)),ne(n,br,I=>t(6,h=I));let m=St.Borrow;function v(I){return function(){Ds.next(I)}}function k(I){qs.next(I.detail)}function E(I){m=I,t(0,m)}function T(I){m=I,t(0,m)}function w(I){m=I,t(0,m)}return n.$$.update=()=>{n.$$.dirty&4096&&t(3,r=f),n.$$.dirty&512&&t(1,i=a.sideType),n.$$.dirty&3083&&t(4,l=Kd({accounts:c,spot:r,side:i,orderMode:m,userRemainingBorrowRqAction:o})),n.$$.dirty&512&&t(2,s=a.orderType),n.$$.dirty&6&&ya({orderType:s,side:i})},[m,i,s,r,l,d,h,v,k,a,o,c,f,E,T,w]}let wv=class extends je{constructor(e){super(),We(this,e,kv,Ev,Fe,{})}};const rs={Assets:"f5866e",TotalAssets:"419d9b",Upgrade:"5d739c"};function yc(n){let e,t,r,l,i,s,a;return t=new Nt({props:{class:"btn f1 ooo",$$slots:{default:[$v]},$$scope:{ctx:n}}}),t.$on("click",n[6]),l=new Nt({props:{class:"btn f1 ooo",$$slots:{default:[Sv]},$$scope:{ctx:n}}}),l.$on("click",n[7]),s=new Nt({props:{class:"btn f1 ooo",$$slots:{default:[Cv]},$$scope:{ctx:n}}}),s.$on("click",n[8]),{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),i=S(),le(s.$$.fragment),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);ae(t.$$.fragment,c),r=C(c),ae(l.$$.fragment,c),i=C(c),ae(s.$$.fragment,c),c.forEach(p),this.h()},h(){_(e,"class","tools df aic mt12 ph12 H-14rqe3y")},m(o,c){Y(o,e,c),ie(t,e,null),u(e,r),ie(l,e,null),u(e,i),ie(s,e,null),a=!0},p(o,c){const f={};c&65568&&(f.$$scope={dirty:c,ctx:o}),t.$set(f);const d={};c&65568&&(d.$$scope={dirty:c,ctx:o}),l.$set(d);const h={};c&65568&&(h.$$scope={dirty:c,ctx:o}),s.$set(h)},i(o){a||(H(t.$$.fragment,o),H(l.$$.fragment,o),H(s.$$.fragment,o),a=!0)},o(o){U(t.$$.fragment,o),U(l.$$.fragment,o),U(s.$$.fragment,o),a=!1},d(o){o&&p(e),se(t),se(l),se(s)}}}function $v(n){let e=n[5](Ol.Borrow)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&32&&e!==(e=r[5](Ol.Borrow)+"")&&N(t,e)},d(r){r&&p(t)}}}function Sv(n){let e=n[5](Ol.Repay)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&32&&e!==(e=r[5](Ol.Repay)+"")&&N(t,e)},d(r){r&&p(t)}}}function Cv(n){let e=n[5](su.Transfer)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&32&&e!==(e=r[5](su.Transfer)+"")&&N(t,e)},d(r){r&&p(t)}}}function Tv(n){let e,t,r,l=n[5](rs.Assets)+"",i,s,a,o=n[5](Zn.More)+"",c,f,d,h,m,v,k,E=n[5](Ol.Coin)+"",T,w,I,A=n[5](rs.TotalAssets)+"",B,V,$,P,z=n[0].displayBaseCurrency+"",F,O,M,L=(n[1]?n[1].availableBalance:"--")+"",Q,j,K,W,Z=n[0].quoteCurrency+"",J,R,X,te=(n[2]?n[2].availableBalance:"--")+"",oe,x,de=n[3]&&yc(n);return{c(){e=g("div"),t=g("div"),r=g("h2"),i=q(l),s=S(),a=g("a"),c=q(o),d=S(),de&&de.c(),h=S(),m=g("div"),v=g("div"),k=g("p"),T=q(E),w=S(),I=g("p"),B=q(A),V=S(),$=g("div"),P=g("span"),F=q(z),O=S(),M=g("p"),Q=q(L),j=S(),K=g("div"),W=g("span"),J=q(Z),R=S(),X=g("p"),oe=q(te),this.h()},l(G){e=b(G,"DIV",{class:!0});var re=y(e);t=b(re,"DIV",{class:!0});var ge=y(t);r=b(ge,"H2",{class:!0});var Ee=y(r);i=D(Ee,l),Ee.forEach(p),s=C(ge),a=b(ge,"A",{class:!0,href:!0});var we=y(a);c=D(we,o),we.forEach(p),ge.forEach(p),d=C(re),de&&de.l(re),h=C(re),m=b(re,"DIV",{class:!0});var ee=y(m);v=b(ee,"DIV",{class:!0});var me=y(v);k=b(me,"P",{class:!0});var Se=y(k);T=D(Se,E),Se.forEach(p),w=C(me),I=b(me,"P",{class:!0});var qe=y(I);B=D(qe,A),qe.forEach(p),me.forEach(p),V=C(ee),$=b(ee,"DIV",{class:!0});var Ce=y($);P=b(Ce,"SPAN",{class:!0});var Be=y(P);F=D(Be,z),Be.forEach(p),O=C(Ce),M=b(Ce,"P",{class:!0});var ce=y(M);Q=D(ce,L),ce.forEach(p),Ce.forEach(p),j=C(ee),K=b(ee,"DIV",{class:!0});var fe=y(K);W=b(fe,"SPAN",{class:!0});var Ve=y(W);J=D(Ve,Z),Ve.forEach(p),R=C(fe),X=b(fe,"P",{class:!0});var Ie=y(X);oe=D(Ie,te),Ie.forEach(p),fe.forEach(p),ee.forEach(p),re.forEach(p),this.h()},h(){_(r,"class","f1 lh16 f14 H-14rqe3y"),_(a,"class","lh14 f12"),_(a,"href",f=n[4](Dt.ASSETS_OVERVIEW)+"?tab=spot"),_(t,"class","df jcsb aie ph12"),_(k,"class","H-14rqe3y"),_(I,"class","H-14rqe3y"),_(v,"class","df jcsb aic lh24 f12 T3"),_(P,"class","T3"),_(M,"class","fw2 T1 H-14rqe3y"),_($,"class","df jcsb aic lh24 f12 T3"),_(W,"class","T3"),_(X,"class","fw2 T1 H-14rqe3y"),_(K,"class","df jcsb aic lh24 f12 T3"),_(m,"class","mt16 ph12"),_(e,"class","wrap H-14rqe3y")},m(G,re){Y(G,e,re),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a),u(a,c),u(e,d),de&&de.m(e,null),u(e,h),u(e,m),u(m,v),u(v,k),u(k,T),u(v,w),u(v,I),u(I,B),u(m,V),u(m,$),u($,P),u(P,F),u($,O),u($,M),u(M,Q),u(m,j),u(m,K),u(K,W),u(W,J),u(K,R),u(K,X),u(X,oe),x=!0},p(G,[re]){(!x||re&32)&&l!==(l=G[5](rs.Assets)+"")&&N(i,l),(!x||re&32)&&o!==(o=G[5](Zn.More)+"")&&N(c,o),(!x||re&16&&f!==(f=G[4](Dt.ASSETS_OVERVIEW)+"?tab=spot"))&&_(a,"href",f),G[3]?de?(de.p(G,re),re&8&&H(de,1)):(de=yc(G),de.c(),H(de,1),de.m(e,h)):de&&(Ze(),U(de,1,1,()=>{de=null}),xe()),(!x||re&32)&&E!==(E=G[5](Ol.Coin)+"")&&N(T,E),(!x||re&32)&&A!==(A=G[5](rs.TotalAssets)+"")&&N(B,A),(!x||re&1)&&z!==(z=G[0].displayBaseCurrency+"")&&N(F,z),(!x||re&2)&&L!==(L=(G[1]?G[1].availableBalance:"--")+"")&&N(Q,L),(!x||re&1)&&Z!==(Z=G[0].quoteCurrency+"")&&N(J,Z),(!x||re&4)&&te!==(te=(G[2]?G[2].availableBalance:"--")+"")&&N(oe,te)},i(G){x||(H(de),x=!0)},o(G){U(de),x=!1},d(G){G&&p(e),de&&de.d()}}}function Iv(n,e,t){let r,l,i,s,a,o,c,f,d;ne(n,er,I=>t(4,i=I)),ne(n,ys,I=>t(11,s=I)),ne(n,Nn,I=>t(12,a=I)),ne(n,pn,I=>t(13,o=I)),ne(n,Ci,I=>t(10,c=I)),ne(n,Ht,I=>t(0,f=I)),ne(n,it,I=>t(5,d=I));let h,m;function v(I,A){const{baseCurrency:B,quoteCurrency:V}=I;t(1,h=A.find($=>$.currency==B)),t(2,m=A.find($=>$.currency==V))}function k(){w()&&It.create(Vl,{content:{tabType:Hl.Borrow}})}function E(){w()&&It.create(Vl,{content:{tabType:Hl.Repay}})}function T(){if(w()){const I=o;It.create(Ta,{fromAccount:I?Xt.UtaFundAccount:Xt.SpotWallet,toAccount:I?Xt.UtaTradingAccount:Xt.MarginTradeAccount,hideConvertView:I,currency:r.quoteCurrency,convertType:I?Xn.FundAccount:Xn.SpotWallet})}}function w(){return a==="Login"?s||r.mode==="Spot"?!0:(It.create(Yd),!1):(os.gotoLogin(i(da()?Dt.LOGIN:Dt.REGISTER)),!1)}return n.$$.update=()=>{n.$$.dirty&1&&t(9,r=f),n.$$.dirty&1536&&v(r,c),n.$$.dirty&512&&t(3,l=r.baseCurrencyCanBorrow||r.quoteCurrencyCanBorrow)},[f,h,m,l,i,d,k,E,T,r,c]}let Ua=class extends je{constructor(e){super(),We(this,e,Iv,Tv,Fe,{})}};const Dn={MarginAccount:"d128a5",TotalEquity:"d8b425",TotalBalance:"096388",TotalDebt:"581b17",AvailableBalance:"ffbff5"};function Pv(n){let e,t=n[1](Dn.MarginAccount)+"",r,l,i,s,a,o;return{c(){e=g("span"),r=q(t),l=S(),i=g("span"),s=q(" "),a=q(n[2]),o=q("X"),this.h()},l(c){e=b(c,"SPAN",{});var f=y(e);r=D(f,t),f.forEach(p),l=C(c),i=b(c,"SPAN",{class:!0});var d=y(i);s=D(d," "),a=D(d,n[2]),o=D(d,"X"),d.forEach(p),this.h()},h(){_(i,"class","BLUE")},m(c,f){Y(c,e,f),u(e,r),Y(c,l,f),Y(c,i,f),u(i,s),u(i,a),u(i,o)},p(c,f){f&2&&t!==(t=c[1](Dn.MarginAccount)+"")&&N(r,t),f&4&&N(a,c[2])},d(c){c&&p(e),c&&p(l),c&&p(i)}}}function Bv(n){let e,t,r,l,i,s,a,o=n[1](cs.MarginLevel)+"",c,f,d,h,m,v,k=n[1](Dn.TotalBalance)+"",E,T,w,I,A=(n[0]?n[0].totalEquityUsd:"--")+"",B,V,$,P,z=n[1](Dn.TotalDebt)+"",F,O,M,L,Q=(n[0]?n[0].totalDebtUsd:"--")+"",j,K;return t=new $a({props:{style:"background: transparent; padding: 0",$$slots:{default:[Pv]},$$scope:{ctx:n}}}),d=new Xd({props:{riskLevel:n[3]}}),{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div"),i=g("div"),s=g("div"),a=g("span"),c=q(o),f=S(),le(d.$$.fragment),h=S(),m=g("div"),v=g("span"),E=q(k),T=q(" (USD)"),w=S(),I=g("span"),B=q(A),V=S(),$=g("div"),P=g("span"),F=q(z),O=q(" (USD)"),M=S(),L=g("span"),j=q(Q),this.h()},l(W){e=b(W,"DIV",{class:!0});var Z=y(e);ae(t.$$.fragment,Z),r=C(Z),l=b(Z,"DIV",{class:!0});var J=y(l);i=b(J,"DIV",{class:!0});var R=y(i);s=b(R,"DIV",{class:!0});var X=y(s);a=b(X,"SPAN",{});var te=y(a);c=D(te,o),te.forEach(p),f=C(X),ae(d.$$.fragment,X),X.forEach(p),h=C(R),m=b(R,"DIV",{class:!0});var oe=y(m);v=b(oe,"SPAN",{class:!0});var x=y(v);E=D(x,k),T=D(x," (USD)"),x.forEach(p),w=C(oe),I=b(oe,"SPAN",{class:!0});var de=y(I);B=D(de,A),de.forEach(p),oe.forEach(p),V=C(R),$=b(R,"DIV",{class:!0});var G=y($);P=b(G,"SPAN",{class:!0});var re=y(P);F=D(re,z),O=D(re," (USD)"),re.forEach(p),M=C(G),L=b(G,"SPAN",{class:!0});var ge=y(L);j=D(ge,Q),ge.forEach(p),G.forEach(p),R.forEach(p),J.forEach(p),Z.forEach(p),this.h()},h(){_(s,"class","df aic jcsb lh24 f12 T3"),_(v,"class","T3"),_(I,"class","T1"),_(m,"class","df aic jcsb lh24 f12 T2"),_(P,"class","T3"),_(L,"class","T1"),_($,"class","df aic jcsb lh24 f12 T2"),_(i,"class","mt8"),_(l,"class","body H-xjk6m5"),_(e,"class","wrap ph12 H-xjk6m5")},m(W,Z){Y(W,e,Z),ie(t,e,null),u(e,r),u(e,l),u(l,i),u(i,s),u(s,a),u(a,c),u(s,f),ie(d,s,null),u(i,h),u(i,m),u(m,v),u(v,E),u(v,T),u(m,w),u(m,I),u(I,B),u(i,V),u(i,$),u($,P),u(P,F),u(P,O),u($,M),u($,L),u(L,j),K=!0},p(W,[Z]){const J={};Z&38&&(J.$$scope={dirty:Z,ctx:W}),t.$set(J),(!K||Z&2)&&o!==(o=W[1](cs.MarginLevel)+"")&&N(c,o);const R={};Z&8&&(R.riskLevel=W[3]),d.$set(R),(!K||Z&2)&&k!==(k=W[1](Dn.TotalBalance)+"")&&N(E,k),(!K||Z&1)&&A!==(A=(W[0]?W[0].totalEquityUsd:"--")+"")&&N(B,A),(!K||Z&2)&&z!==(z=W[1](Dn.TotalDebt)+"")&&N(F,z),(!K||Z&1)&&Q!==(Q=(W[0]?W[0].totalDebtUsd:"--")+"")&&N(j,Q)},i(W){K||(H(t.$$.fragment,W),H(d.$$.fragment,W),K=!0)},o(W){U(t.$$.fragment,W),U(d.$$.fragment,W),K=!1},d(W){W&&p(e),se(t),se(d)}}}function qv(n,e,t){let r,l,i,s;ne(n,pa,o=>t(4,r=o)),ne(n,it,o=>t(1,l=o)),ne(n,Vd,o=>t(2,i=o)),ne(n,Hd,o=>t(3,s=o));let a;return n.$$.update=()=>{n.$$.dirty&16&&t(0,a=r)},[a,l,i,s,r]}let Dv=class extends je{constructor(e){super(),We(this,e,qv,Bv,Fe,{})}};const ls={MarginMode:"446720",MultiCurrencyMargin:"a3f2ee",RegularUser:"3229cc",CrossCurrency:"1aedd6",SingleCurrencyMargin:"2225c2",NonProfessionalTraders:"50f756",CurrentAccountMode:"8013b2",Settings:"d3fb4d",Supports:"e0caf2",Spot:"e9559b",Margin:"88386b",Perpetual:"2d240f",OneWay:"0d1169",OnlyForPerpetual:"13bc4a",HedgeOnlyForUsdtPerp:"68af8d",PositionMode:"bd14f9",MultiCurrencyCross:"738f56",IsolatedOnlyForPerpetual:"bc5af0",RiskManagement:"0b26da",EnablesTradingOfDerivativesWithUsdt:"2ecee5",ValueOfMultiAsset:"b49189",SingleCurrencyCross:"43dd01",TradeUsdtPerpWithUsdt:"e3cfcc",Collateral:"484c69"};function Av(n){let e,t=n[1](Jn.UnifiedTradingAccount)+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1](Jn.UnifiedTradingAccount)+"")&&N(r,t)},d(l){l&&p(e)}}}function Vv(n){let e,t,r,l,i,s,a,o=n[1](ls.MarginMode)+"",c,f,d,h=n[1](ls.CrossCurrency)+"",m,v,k,E,T=n[1](cs.MarginLevel)+"",w,I,A,B,V,$,P=n[1](Dn.TotalBalance)+"",z,F,O,M=n[0]?n[0].totalEquityUsd+" USD":"--",L,Q,j,K,W=n[1](Jn.TotalMarginBalance)+"",Z,J,R,X=n[0]?n[0].totalMarginUsd+" USD":"--",te,oe,x,de,G=n[1](Dn.TotalDebt)+"",re,ge,Ee,we=n[0]?n[0].totalDebtUsd+" USD":"--",ee,me,Se,qe,Ce=n[1](Dn.AvailableBalance)+"",Be,ce,fe,Ve=n[0]?n[0].totalAvailableUsd+" USD":"--",Ie,be,_e,ve,ke=n[1](Jn.FrozenMargin)+"",Ne,Te,He,ye=n[0]?n[0].totalFreezeUsd+" USD":"--",Pe,De;return t=new $a({props:{style:"background: transparent;",$$slots:{default:[Av]},$$scope:{ctx:n}}}),A=new Xd({props:{riskLevel:n[2]}}),{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div"),i=g("div"),s=g("div"),a=g("span"),c=q(o),f=S(),d=g("span"),m=q(h),v=S(),k=g("div"),E=g("span"),w=q(T),I=S(),le(A.$$.fragment),B=S(),V=g("div"),$=g("span"),z=q(P),F=S(),O=g("span"),L=q(M),Q=S(),j=g("div"),K=g("span"),Z=q(W),J=S(),R=g("span"),te=q(X),oe=S(),x=g("div"),de=g("span"),re=q(G),ge=S(),Ee=g("span"),ee=q(we),me=S(),Se=g("div"),qe=g("span"),Be=q(Ce),ce=S(),fe=g("span"),Ie=q(Ve),be=S(),_e=g("div"),ve=g("span"),Ne=q(ke),Te=S(),He=g("span"),Pe=q(ye),this.h()},l(Re){e=b(Re,"DIV",{class:!0});var et=y(e);ae(t.$$.fragment,et),r=C(et),l=b(et,"DIV",{class:!0});var he=y(l);i=b(he,"DIV",{class:!0});var pe=y(i);s=b(pe,"DIV",{class:!0});var ue=y(s);a=b(ue,"SPAN",{class:!0});var Ae=y(a);c=D(Ae,o),Ae.forEach(p),f=C(ue),d=b(ue,"SPAN",{class:!0});var nt=y(d);m=D(nt,h),nt.forEach(p),ue.forEach(p),v=C(pe),k=b(pe,"DIV",{class:!0});var lt=y(k);E=b(lt,"SPAN",{});var st=y(E);w=D(st,T),st.forEach(p),I=C(lt),ae(A.$$.fragment,lt),lt.forEach(p),B=C(pe),V=b(pe,"DIV",{class:!0});var ft=y(V);$=b(ft,"SPAN",{class:!0});var mt=y($);z=D(mt,P),mt.forEach(p),F=C(ft),O=b(ft,"SPAN",{class:!0});var at=y(O);L=D(at,M),at.forEach(p),ft.forEach(p),Q=C(pe),j=b(pe,"DIV",{class:!0});var pt=y(j);K=b(pt,"SPAN",{class:!0});var Le=y(K);Z=D(Le,W),Le.forEach(p),J=C(pt),R=b(pt,"SPAN",{class:!0});var Xe=y(R);te=D(Xe,X),Xe.forEach(p),pt.forEach(p),oe=C(pe),x=b(pe,"DIV",{class:!0});var _t=y(x);de=b(_t,"SPAN",{class:!0});var Jt=y(de);re=D(Jt,G),Jt.forEach(p),ge=C(_t),Ee=b(_t,"SPAN",{class:!0});var Ft=y(Ee);ee=D(Ft,we),Ft.forEach(p),_t.forEach(p),me=C(pe),Se=b(pe,"DIV",{class:!0});var Et=y(Se);qe=b(Et,"SPAN",{class:!0});var Tt=y(qe);Be=D(Tt,Ce),Tt.forEach(p),ce=C(Et),fe=b(Et,"SPAN",{class:!0});var ze=y(fe);Ie=D(ze,Ve),ze.forEach(p),Et.forEach(p),be=C(pe),_e=b(pe,"DIV",{class:!0});var tt=y(_e);ve=b(tt,"SPAN",{class:!0});var Gt=y(ve);Ne=D(Gt,ke),Gt.forEach(p),Te=C(tt),He=b(tt,"SPAN",{class:!0});var qt=y(He);Pe=D(qt,ye),qt.forEach(p),tt.forEach(p),pe.forEach(p),he.forEach(p),et.forEach(p),this.h()},h(){_(a,"class","T3"),_(d,"class","fw2 cp"),_(s,"class","df aic jcsb lh22 f12 T1"),_(k,"class","df aic jcsb lh22 f12 T3"),_($,"class","T3"),_(O,"class","fw2"),_(V,"class","df aic jcsb lh22 f12 T1"),_(K,"class","T3"),_(R,"class","fw2"),_(j,"class","df aic jcsb lh22 f12 T1"),_(de,"class","T3"),_(Ee,"class","fw2"),_(x,"class","df aic jcsb lh22 f12 T1"),_(qe,"class","T3"),_(fe,"class","fw2"),_(Se,"class","df aic jcsb lh22 f12 T1"),_(ve,"class","T3"),_(He,"class","fw2"),_(_e,"class","df aic jcsb lh22 f12 T1"),_(i,"class","mt8"),_(l,"class","body ph12 H-1ax91ip"),_(e,"class","wrap H-1ax91ip")},m(Re,et){Y(Re,e,et),ie(t,e,null),u(e,r),u(e,l),u(l,i),u(i,s),u(s,a),u(a,c),u(s,f),u(s,d),u(d,m),u(i,v),u(i,k),u(k,E),u(E,w),u(k,I),ie(A,k,null),u(i,B),u(i,V),u(V,$),u($,z),u(V,F),u(V,O),u(O,L),u(i,Q),u(i,j),u(j,K),u(K,Z),u(j,J),u(j,R),u(R,te),u(i,oe),u(i,x),u(x,de),u(de,re),u(x,ge),u(x,Ee),u(Ee,ee),u(i,me),u(i,Se),u(Se,qe),u(qe,Be),u(Se,ce),u(Se,fe),u(fe,Ie),u(i,be),u(i,_e),u(_e,ve),u(ve,Ne),u(_e,Te),u(_e,He),u(He,Pe),De=!0},p(Re,[et]){const he={};et&18&&(he.$$scope={dirty:et,ctx:Re}),t.$set(he),(!De||et&2)&&o!==(o=Re[1](ls.MarginMode)+"")&&N(c,o),(!De||et&2)&&h!==(h=Re[1](ls.CrossCurrency)+"")&&N(m,h),(!De||et&2)&&T!==(T=Re[1](cs.MarginLevel)+"")&&N(w,T);const pe={};et&4&&(pe.riskLevel=Re[2]),A.$set(pe),(!De||et&2)&&P!==(P=Re[1](Dn.TotalBalance)+"")&&N(z,P),(!De||et&1)&&M!==(M=Re[0]?Re[0].totalEquityUsd+" USD":"--")&&N(L,M),(!De||et&2)&&W!==(W=Re[1](Jn.TotalMarginBalance)+"")&&N(Z,W),(!De||et&1)&&X!==(X=Re[0]?Re[0].totalMarginUsd+" USD":"--")&&N(te,X),(!De||et&2)&&G!==(G=Re[1](Dn.TotalDebt)+"")&&N(re,G),(!De||et&1)&&we!==(we=Re[0]?Re[0].totalDebtUsd+" USD":"--")&&N(ee,we),(!De||et&2)&&Ce!==(Ce=Re[1](Dn.AvailableBalance)+"")&&N(Be,Ce),(!De||et&1)&&Ve!==(Ve=Re[0]?Re[0].totalAvailableUsd+" USD":"--")&&N(Ie,Ve),(!De||et&2)&&ke!==(ke=Re[1](Jn.FrozenMargin)+"")&&N(Ne,ke),(!De||et&1)&&ye!==(ye=Re[0]?Re[0].totalFreezeUsd+" USD":"--")&&N(Pe,ye)},i(Re){De||(H(t.$$.fragment,Re),H(A.$$.fragment,Re),De=!0)},o(Re){U(t.$$.fragment,Re),U(A.$$.fragment,Re),De=!1},d(Re){Re&&p(e),se(t),se(A)}}}function Hv(n,e,t){let r,l,i;ne(n,pa,a=>t(3,r=a)),ne(n,it,a=>t(1,l=a)),ne(n,Hd,a=>t(2,i=a));let s;return n.$$.update=()=>{n.$$.dirty&8&&t(0,s=r)},[s,l,i,r]}let pp=class extends je{constructor(e){super(),We(this,e,Hv,Vv,Fe,{})}};function Ov(n){let e,t,r,l;return e=new Ua({}),r=new Dv({}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment)},l(i){ae(e.$$.fragment,i),t=C(i),ae(r.$$.fragment,i)},m(i,s){ie(e,i,s),Y(i,t,s),ie(r,i,s),l=!0},i(i){l||(H(e.$$.fragment,i),H(r.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),U(r.$$.fragment,i),l=!1},d(i){se(e,i),i&&p(t),se(r,i)}}}function Mv(n){let e,t,r,l;return e=new pp({}),r=new Ua({}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment)},l(i){ae(e.$$.fragment,i),t=C(i),ae(r.$$.fragment,i)},m(i,s){ie(e,i,s),Y(i,t,s),ie(r,i,s),l=!0},i(i){l||(H(e.$$.fragment,i),H(r.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),U(r.$$.fragment,i),l=!1},d(i){se(e,i),i&&p(t),se(r,i)}}}function Ec(n){let e,t;return e=new ip({props:{processing:n[2]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&4&&(i.processing=r[2]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Lv(n){let e,t,r,l,i,s,a,o,c;t=new wv({}),l=new cp({});const f=[Mv,Ov],d=[];function h(v,k){return v[0]?0:1}s=h(n),a=d[s]=f[s](n);let m=n[1]&&Ec(n);return{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),i=S(),a.c(),o=S(),m&&m.c(),this.h()},l(v){e=b(v,"DIV",{class:!0});var k=y(e);ae(t.$$.fragment,k),r=C(k),ae(l.$$.fragment,k),i=C(k),a.l(k),o=C(k),m&&m.l(k),k.forEach(p),this.h()},h(){_(e,"class","pr")},m(v,k){Y(v,e,k),ie(t,e,null),u(e,r),ie(l,e,null),u(e,i),d[s].m(e,null),u(e,o),m&&m.m(e,null),c=!0},p(v,[k]){let E=s;s=h(v),s!==E&&(Ze(),U(d[E],1,1,()=>{d[E]=null}),xe(),a=d[s],a||(a=d[s]=f[s](v),a.c()),H(a,1),a.m(e,o)),v[1]?m?(m.p(v,k),k&2&&H(m,1)):(m=Ec(v),m.c(),H(m,1),m.m(e,null)):m&&(Ze(),U(m,1,1,()=>{m=null}),xe())},i(v){c||(H(t.$$.fragment,v),H(l.$$.fragment,v),H(a),H(m),c=!0)},o(v){U(t.$$.fragment,v),U(l.$$.fragment,v),U(a),U(m),c=!1},d(v){v&&p(e),se(t),se(l),d[s].d(),m&&m.d()}}}function Nv(n,e,t){let r,l,i;return ne(n,pn,s=>t(0,r=s)),ne(n,Od,s=>t(1,l=s)),ne(n,Ia,s=>t(2,i=s)),[r,l,i]}let Uv=class extends je{constructor(e){super(),We(this,e,Nv,Lv,Fe,{})}};const $t={PlaceOrder:"4c87db",Fees:"609454",Limit:"64deca",Market:"cf5e64",Conditional:"ab883a",LimitPrice:"65d7b3",OrderValue:"228974",AvailableBalance:"141c13",Buy:"0f8969",Sell:"f9ca02",Cost:"1a0339",ReduceOnly:"53badd",CloseOnTrigger:"b3f985",GTC:"0f9cfe",IOC:"a12a40",FOK:"729f0a",TriggerBy:"f0a0c5",TriggerPrice:"6eca31",WelcomeToPhemex:"08e49b",TryDemoTrading:"be3da5",GetAmount:"c97195",SpendAmount:"6fa437",MaxBuy:"925a62",MaxSell:"4e2641",Trigger:"770ade",RegisterNow:"a35b2f",Get:"ae2ace",Suspend:"d59653",QuantityError:"f0d703",AvailableBalanceError:"a41c71",PriceError:"4484c8",TransactionAmountCannot:"ea7fb1",TriggerPriceError:"46d310",TriggerPriceEqualLastPriceError:"0694ba",TheNumberOfOrders:"082d9e",Advanced:"21c82c",Price:"e9ade6",Available:"a48029",LimitOrder:"c9346a",MarketOrder:"e59bae",ConditionalOrder:"68470c",PostOnly:"902830",Discount:"c48a5b",EnjoyZeroFee:"c69531",EnableMarginTrading:"f6b60c",Borrowing:"ba0a24",Repaying:"fcfdfe",OrderConfirm:"f8490c",BorrowIntro:"ba364f",RepayIntro:"2943e7",InterestHourlyAnnual:"abf40b"};function zv(n){let e,t;return e=new Sa({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Fv(n){let e,t,r=n[5](n[6][n[0]],{Currency:n[2]})+"",l,i,s,a,o=n[1]&&kc();return{c(){e=g("div"),o&&o.c(),t=S(),l=q(r),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);o&&o.l(f),t=C(f),l=D(f,r),f.forEach(p),this.h()},h(){_(e,"class","wrap df aic jcc br4 lh40 cp H-uck1op"),$e(e,"btn-buy",n[0]===Oe.Buy),$e(e,"btn-sell",n[0]===Oe.Sell),$e(e,"disabled",n[1]||n[3].status!=="Listed")},m(c,f){Y(c,e,f),o&&o.m(e,null),u(e,t),u(e,l),i=!0,s||(a=Je(e,"click",n[7]),s=!0)},p(c,f){c[1]?o?f&2&&H(o,1):(o=kc(),o.c(),H(o,1),o.m(e,t)):o&&(Ze(),U(o,1,1,()=>{o=null}),xe()),(!i||f&37)&&r!==(r=c[5](c[6][c[0]],{Currency:c[2]})+"")&&N(l,r),(!i||f&1)&&$e(e,"btn-buy",c[0]===Oe.Buy),(!i||f&1)&&$e(e,"btn-sell",c[0]===Oe.Sell),(!i||f&10)&&$e(e,"disabled",c[1]||c[3].status!=="Listed")},i(c){i||(H(o),i=!0)},o(c){U(o),i=!1},d(c){c&&p(e),o&&o.d(),s=!1,a()}}}function kc(n){let e,t;return e=new Ca({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Rv(n){let e,t,r,l;const i=[Fv,zv],s=[];function a(o,c){return o[4]==="Login"?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,[c]){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function Qv(n,e,t){let r,l,i,s,a;ne(n,Si,v=>t(8,r=v)),ne(n,ws,v=>t(9,l=v)),ne(n,Ht,v=>t(3,i=v)),ne(n,Nn,v=>t(4,s=v)),ne(n,it,v=>t(5,a=v));let{side:o=Oe.Buy}=e,{isPosting:c=!1}=e,{currency:f=""}=e;const d={[Oe.Buy]:$t.Buy,[Oe.Sell]:$t.Sell},h=Lt();function m(){if(l&&$s(i,l,r)){It.create(r.isSub?Ss:Cs);return}h("click")}return n.$$set=v=>{"side"in v&&t(0,o=v.side),"isPosting"in v&&t(1,c=v.isPosting),"currency"in v&&t(2,f=v.currency)},[o,c,f,i,s,a,d,m]}let za=class extends je{constructor(e){super(),We(this,e,Qv,Rv,Fe,{side:0,isPosting:1,currency:2})}};function wc(n){let e,t=n[20](ut.ThePriceCannot,Al(n[1]))+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","price-limit-tips mt8 f12 H-vgifnm")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i[0]&1048578&&t!==(t=l[20](ut.ThePriceCannot,Al(l[1]))+"")&&N(r,t)},d(l){l&&p(e)}}}function $c(n){let e,t,r=n[20]($t.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[8]),o=S(),c=q(n[13]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[8]),o=C(m),c=D(m,n[13]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&1048576&&r!==(r=f[20]($t.Borrowing)+"")&&N(l,r),d[0]&256&&N(a,f[8]),d[0]&8192&&N(c,f[13])},d(f){f&&p(e)}}}function Sc(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[20](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&1048576&&r.update.call(null,{text:s[20](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function jv(n){let e,t=n[3]&&Sc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[3]?t?t.p(r,l):(t=Sc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function Wv(n){let e,t,r,l,i,s=n[21]&&Dl(n[4],n[1]),a,o,c,f,d,h,m,v,k,E,T,w=n[20](n[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"",I,A,B,V=nn(n[11],n[1],n[0],n[22])+"",$,P,z,F,O,M,L,Q,j,K,W,Z,J,R,X=rn(n[0],n[5],n[20],$t)+"",te,oe,x,de=ln(n[1],n[17],n[5])+"",G,re,ge=(n[5]===Me.ByBase?n[1].quoteCurrency:n[1].displayBaseCurrency)+"",Ee,we,ee,me,Se,qe,Ce,Be,ce;function fe(he){n[37](he)}function Ve(he){n[38](he)}let Ie={class:"limit-price",isInline:!1,operation:!1,factor:n[1].quoteQtyFactor,scale:n[1].quoteQtyScale,tickSizeEp:n[1].quoteTickSizeEv,precision:n[1].pricePrecision,minPriceEp:n[1].quoteTickSizeEv,maxPriceEp:n[1].maxOrderValueEv,label:n[20]($t.Price),unit:n[1].quoteCurrency};n[4]!==void 0&&(Ie.priceEp=n[4]),n[15]!==void 0&&(Ie.input=n[15]),t=new dn({props:Ie}),Ue.push(()=>Ge(t,"priceEp",fe)),Ue.push(()=>Ge(t,"input",Ve));let be=s&&wc(n);function _e(he){n[39](he)}function ve(he){n[40](he)}function ke(he){n[41](he)}function Ne(he){n[42](he)}function Te(he){n[43](he)}let He={marginPair:n[1]};n[6]!==void 0&&(He.quantityEv=n[6]),n[5]!==void 0&&(He.qtyType=n[5]),n[16]!==void 0&&(He.quantityInput=n[16]),n[10]!==void 0&&(He.quantityPrecision=n[10]),n[9]!==void 0&&(He.quantityScale=n[9]),c=new Zl({props:He}),Ue.push(()=>Ge(c,"quantityEv",_e)),Ue.push(()=>Ge(c,"qtyType",ve)),Ue.push(()=>Ge(c,"quantityInput",ke)),Ue.push(()=>Ge(c,"quantityPrecision",Ne)),Ue.push(()=>Ge(c,"quantityScale",Te));let ye=n[3]&&n[18]&&$c(n);function Pe(he){n[44](he)}let De={type:n[23]};n[14]!==void 0&&(De.value=n[14]),L=new or({props:De}),Ue.push(()=>Ge(L,"value",Pe)),L.$on("input",n[25]),L.$on("change",n[26]),K=new za({props:{side:n[0],isPosting:n[19],currency:n[1].displayBaseCurrency}}),K.$on("click",n[24]),ee=new xl({}),Se=new Wl({props:{currency:n[13],availableValue:n[2].availableBalanceRqForOperator,$$slots:{default:[jv]},$$scope:{ctx:n}}});function Re(he){n[45](he)}let et={};return n[7]!==void 0&&(et.timeInForce=n[7]),Ce=new Xl({props:et}),Ue.push(()=>Ge(Ce,"timeInForce",Re)),Ce.$on("changeAdvancedVisible",n[27]),{c(){e=g("div"),le(t.$$.fragment),i=S(),be&&be.c(),a=S(),o=g("div"),le(c.$$.fragment),k=S(),E=g("div"),T=g("span"),I=q(w),A=S(),B=g("span"),$=q(V),P=S(),z=q(n[12]),F=S(),ye&&ye.c(),O=S(),M=g("div"),le(L.$$.fragment),j=S(),le(K.$$.fragment),W=S(),Z=g("div"),J=g("div"),R=g("span"),te=q(X),oe=S(),x=g("span"),G=q(de),re=S(),Ee=q(ge),we=S(),le(ee.$$.fragment),me=S(),le(Se.$$.fragment),qe=S(),le(Ce.$$.fragment),this.h()},l(he){e=b(he,"DIV",{class:!0});var pe=y(e);ae(t.$$.fragment,pe),i=C(pe),be&&be.l(pe),a=C(pe),o=b(pe,"DIV",{class:!0});var ue=y(o);ae(c.$$.fragment,ue),ue.forEach(p),k=C(pe),E=b(pe,"DIV",{class:!0});var Ae=y(E);T=b(Ae,"SPAN",{class:!0});var nt=y(T);I=D(nt,w),nt.forEach(p),A=C(Ae),B=b(Ae,"SPAN",{class:!0});var lt=y(B);$=D(lt,V),P=C(lt),z=D(lt,n[12]),lt.forEach(p),Ae.forEach(p),F=C(pe),ye&&ye.l(pe),O=C(pe),M=b(pe,"DIV",{class:!0});var st=y(M);ae(L.$$.fragment,st),st.forEach(p),j=C(pe),ae(K.$$.fragment,pe),W=C(pe),Z=b(pe,"DIV",{class:!0});var ft=y(Z);J=b(ft,"DIV",{class:!0});var mt=y(J);R=b(mt,"SPAN",{class:!0});var at=y(R);te=D(at,X),at.forEach(p),oe=C(mt),x=b(mt,"SPAN",{class:!0});var pt=y(x);G=D(pt,de),re=C(pt),Ee=D(pt,ge),pt.forEach(p),mt.forEach(p),we=C(ft),ae(ee.$$.fragment,ft),ft.forEach(p),me=C(pe),ae(Se.$$.fragment,pe),qe=C(pe),ae(Ce.$$.fragment,pe),pe.forEach(p),this.h()},h(){_(o,"class","mt12"),_(T,"class","T3"),_(B,"class","ml4 T1 wsn"),_(E,"class","df aic mt8 f12"),_(M,"class","slider H-vgifnm"),_(R,"class","T3"),_(x,"class","ml4 T1"),_(J,"class","cost f12"),_(Z,"class","df jcsb aic mt8"),_(e,"class","mt12")},m(he,pe){Y(he,e,pe),ie(t,e,null),u(e,i),be&&be.m(e,null),u(e,a),u(e,o),ie(c,o,null),u(e,k),u(e,E),u(E,T),u(T,I),u(E,A),u(E,B),u(B,$),u(B,P),u(B,z),u(e,F),ye&&ye.m(e,null),u(e,O),u(e,M),ie(L,M,null),u(e,j),ie(K,e,null),u(e,W),u(e,Z),u(Z,J),u(J,R),u(R,te),u(J,oe),u(J,x),u(x,G),u(x,re),u(x,Ee),u(Z,we),ie(ee,Z,null),u(e,me),ie(Se,e,null),u(e,qe),ie(Ce,e,null),ce=!0},p(he,pe){const ue={};pe[0]&2&&(ue.factor=he[1].quoteQtyFactor),pe[0]&2&&(ue.scale=he[1].quoteQtyScale),pe[0]&2&&(ue.tickSizeEp=he[1].quoteTickSizeEv),pe[0]&2&&(ue.precision=he[1].pricePrecision),pe[0]&2&&(ue.minPriceEp=he[1].quoteTickSizeEv),pe[0]&2&&(ue.maxPriceEp=he[1].maxOrderValueEv),pe[0]&1048576&&(ue.label=he[20]($t.Price)),pe[0]&2&&(ue.unit=he[1].quoteCurrency),!r&&pe[0]&16&&(r=!0,ue.priceEp=he[4],Ye(()=>r=!1)),!l&&pe[0]&32768&&(l=!0,ue.input=he[15],Ye(()=>l=!1)),t.$set(ue),pe[0]&2097170&&(s=he[21]&&Dl(he[4],he[1])),s?be?be.p(he,pe):(be=wc(he),be.c(),be.m(e,a)):be&&(be.d(1),be=null);const Ae={};pe[0]&2&&(Ae.marginPair=he[1]),!f&&pe[0]&64&&(f=!0,Ae.quantityEv=he[6],Ye(()=>f=!1)),!d&&pe[0]&32&&(d=!0,Ae.qtyType=he[5],Ye(()=>d=!1)),!h&&pe[0]&65536&&(h=!0,Ae.quantityInput=he[16],Ye(()=>h=!1)),!m&&pe[0]&1024&&(m=!0,Ae.quantityPrecision=he[10],Ye(()=>m=!1)),!v&&pe[0]&512&&(v=!0,Ae.quantityScale=he[9],Ye(()=>v=!1)),c.$set(Ae),(!ce||pe[0]&1048577)&&w!==(w=he[20](he[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"")&&N(I,w),(!ce||pe[0]&4196355)&&V!==(V=nn(he[11],he[1],he[0],he[22])+"")&&N($,V),(!ce||pe[0]&4096)&&N(z,he[12]),he[3]&&he[18]?ye?ye.p(he,pe):(ye=$c(he),ye.c(),ye.m(e,O)):ye&&(ye.d(1),ye=null);const nt={};!Q&&pe[0]&16384&&(Q=!0,nt.value=he[14],Ye(()=>Q=!1)),L.$set(nt);const lt={};pe[0]&1&&(lt.side=he[0]),pe[0]&524288&&(lt.isPosting=he[19]),pe[0]&2&&(lt.currency=he[1].displayBaseCurrency),K.$set(lt),(!ce||pe[0]&1048609)&&X!==(X=rn(he[0],he[5],he[20],$t)+"")&&N(te,X),(!ce||pe[0]&131106)&&de!==(de=ln(he[1],he[17],he[5])+"")&&N(G,de),(!ce||pe[0]&34)&&ge!==(ge=(he[5]===Me.ByBase?he[1].quoteCurrency:he[1].displayBaseCurrency)+"")&&N(Ee,ge);const st={};pe[0]&8192&&(st.currency=he[13]),pe[0]&4&&(st.availableValue=he[2].availableBalanceRqForOperator),pe[0]&1048584|pe[1]&1048576&&(st.$$scope={dirty:pe,ctx:he}),Se.$set(st);const ft={};!Be&&pe[0]&128&&(Be=!0,ft.timeInForce=he[7],Ye(()=>Be=!1)),Ce.$set(ft)},i(he){ce||(H(t.$$.fragment,he),H(c.$$.fragment,he),H(L.$$.fragment,he),H(K.$$.fragment,he),H(ee.$$.fragment,he),H(Se.$$.fragment,he),H(Ce.$$.fragment,he),ce=!0)},o(he){U(t.$$.fragment,he),U(c.$$.fragment,he),U(L.$$.fragment,he),U(K.$$.fragment,he),U(ee.$$.fragment,he),U(Se.$$.fragment,he),U(Ce.$$.fragment,he),ce=!1},d(he){he&&p(e),se(t),be&&be.d(),se(c),ye&&ye.d(),se(L),se(K),se(ee),se(Se),se(Ce)}}}function Gv(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A;ne(n,it,fe=>t(20,k=fe)),ne(n,Rl,fe=>t(34,E=fe)),ne(n,ir,fe=>t(35,T=fe)),ne(n,lr,fe=>t(36,w=fe)),ne(n,br,fe=>t(21,I=fe)),ne(n,tr,fe=>t(22,A=fe));let{side:B=Oe.Buy}=e,{spot:V=null}=e,{placeOrderAsset:$}=e,{isAllowBorrow:P=!1}=e;const z=rt.Limit;let F=0,O=Me.ByBase,M=0,L=0,Q="GoodTillCancel",j=null,K=null,W="0",Z=0,J=0;Ct(()=>vt.subscribe("global","spot-price-click",fe=>{t(4,F=fe.price),j&&j.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",fe=>{t(6,M=fe.quantity),t(5,O=fe.type),K&&K.focus()}));function R(fe,Ve,Ie){const be=mr(gn(fe,Tn(Ve)),Ie,0),_e=un(be,Tn(Ve));_e!==fe&&t(6,M=Number(_e))}function X(fe,{priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,availableBalanceEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}){if(!(!ke||!Ne)){if(!fe){t(8,W="0");return}t(8,W=Gl({priceEp:Ve,side:Ie,qtyType:be,quantityEv:_e,availableBalanceEv:ve,payCurrencyItem:ke,receiveCurrencyItem:Ne}))}}function te(fe,Ve){fe&&(Ve.isInitPrice||t(4,F=Ve.priceEp),t(7,Q=Ve.timeInForce),t(6,M=Ve.quantityEv),t(5,O=Ve.qtyType))}async function oe(){if(await re())return;await Jl({tradePair:V,qtyType:O,side:B,quantityEv:M,priceEp:F,orderType:z,ordType:"Limit",timeInForce:Q,payCurrency:a,receiveCurrency:o,borrowing:W})}function x(fe){if(h<=0){t(6,M=0);return}t(6,M=h*Number(fe.detail)/100)}function de(){K&&K.focus()}function G(fe,Ve){if(Ve<=0){t(14,L=0);return}if(fe>Ve){t(14,L=100);return}t(14,L=parseInt(String(fe/Ve*100)))}async function re(){const fe={quantityEv:M,priceEp:F},Ve={orderType:rt.Limit,qtyType:O,side:B,maxAmountEv:d,availableBalanceEv:$.availableBalanceEvForOperator,costEv:m,spot:V,borrowing:W},Ie=await Yl(k,fe,Ve);return Ie?(vt.send("toast","info",{message:Ie}),!0):!1}function ge(fe){Bl.updateSpotStorage({advancedIsShow:fe.detail})}function Ee(fe){F=fe,t(4,F)}function we(fe){j=fe,t(15,j)}function ee(fe){M=fe,t(6,M)}function me(fe){O=fe,t(5,O)}function Se(fe){K=fe,t(16,K)}function qe(fe){J=fe,t(10,J)}function Ce(fe){Z=fe,t(9,Z)}function Be(fe){L=fe,t(14,L)}function ce(fe){Q=fe,t(7,Q)}return n.$$set=fe=>{"side"in fe&&t(0,B=fe.side),"spot"in fe&&t(1,V=fe.spot),"placeOrderAsset"in fe&&t(2,$=fe.placeOrderAsset),"isAllowBorrow"in fe&&t(3,P=fe.isAllowBorrow)},n.$$.update=()=>{n.$$.dirty[1]&32&&t(19,r=w),n.$$.dirty[1]&16&&t(33,l=T),n.$$.dirty[1]&8&&t(32,i=E),n.$$.dirty[0]&3|n.$$.dirty[1]&4&&t(31,s=sr(V,l,B,z)),n.$$.dirty[1]&5&&te(s,l),n.$$.dirty[0]&3&&t(13,a=B===Oe.Buy?V.quoteCurrency:V.displayBaseCurrency),n.$$.dirty[0]&3&&t(12,o=B===Oe.Buy?V.displayBaseCurrency:V.quoteCurrency),n.$$.dirty[0]&8192|n.$$.dirty[1]&2&&t(30,c=i(a)),n.$$.dirty[0]&4096|n.$$.dirty[1]&2&&t(29,f=i(o)),n.$$.dirty[0]&23&&t(11,d=cn({availableBalanceEv:$.availableBalanceEvForOperator},V,F,B)),n.$$.dirty[0]&2085&&t(28,h=fn({availableBalanceEv:$.availableBalanceEvForOperator},B,O,d)),n.$$.dirty[0]&1600&&R(M,Z,J),n.$$.dirty[0]&268435520&&G(M,h),n.$$.dirty[0]&114&&t(17,m=Vn(V,rt.Limit,F,O,M)),n.$$.dirty[0]&240|n.$$.dirty[1]&1&&ar(s,{priceEp:F,quantityEv:M,qtyType:O,timeInForce:Q}),n.$$.dirty[0]&1610612861&&X(P,{priceEp:F,side:B,qtyType:O,quantityEv:M,availableBalanceEv:$.availableBalanceEv,payCurrencyItem:c,receiveCurrencyItem:f}),n.$$.dirty[0]&256&&t(18,v=vn(W||0,0))},[B,V,$,P,F,O,M,Q,W,Z,J,d,o,a,L,j,K,m,v,r,k,I,A,z,oe,x,de,ge,h,f,c,s,i,l,E,T,w,Ee,we,ee,me,Se,qe,Ce,Be,ce]}let Yv=class extends je{constructor(e){super(),We(this,e,Gv,Wv,Fe,{side:0,spot:1,placeOrderAsset:2,isAllowBorrow:3},null,[-1,-1])}};function Cc(n){let e,t,r=n[18]($t.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[6]),o=S(),c=q(n[12]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[6]),o=C(m),c=D(m,n[12]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&262144&&r!==(r=f[18]($t.Borrowing)+"")&&N(l,r),d[0]&64&&N(a,f[6]),d[0]&4096&&N(c,f[12])},d(f){f&&p(e)}}}function Tc(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[18](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&262144&&r.update.call(null,{text:s[18](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function Kv(n){let e,t=n[3]&&Tc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[3]?t?t.p(r,l):(t=Tc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function Ic(n){let e,t;return e=new Ql({props:{qtyType:n[4],quantityEv:n[5],priceEp:n[10]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&16&&(i.qtyType=r[4]),l[0]&32&&(i.quantityEv=r[5]),l[0]&1024&&(i.priceEp=r[10]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Xv(n){let e,t,r,l,i,s,a,o,c,f,d=n[18](n[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"",h,m,v,k=nn(n[9],n[2],n[0],n[19])+"",E,T,w,I,A,B,V,$,P,z,F,O,M,L,Q=rn(n[0],n[4],n[18],$t)+"",j,K,W,Z=ln(n[2],n[15],n[4])+"",J,R,X=(n[4]===Me.ByBase?n[2].quoteCurrency:n[2].displayBaseCurrency)+"",te,oe,x,de,G,re,ge,Ee,we,ee,me=n[2].symbol,Se,qe,Ce;function Be(Te){n[33](Te)}function ce(Te){n[34](Te)}function fe(Te){n[35](Te)}function Ve(Te){n[36](Te)}function Ie(Te){n[37](Te)}let be={marginPair:n[2]};n[5]!==void 0&&(be.quantityEv=n[5]),n[4]!==void 0&&(be.qtyType=n[4]),n[14]!==void 0&&(be.quantityInput=n[14]),n[8]!==void 0&&(be.quantityPrecision=n[8]),n[7]!==void 0&&(be.quantityScale=n[7]),t=new Zl({props:be}),Ue.push(()=>Ge(t,"quantityEv",Be)),Ue.push(()=>Ge(t,"qtyType",ce)),Ue.push(()=>Ge(t,"quantityInput",fe)),Ue.push(()=>Ge(t,"quantityPrecision",Ve)),Ue.push(()=>Ge(t,"quantityScale",Ie));let _e=n[3]&&n[16]&&Cc(n);function ve(Te){n[38](Te)}let ke={type:n[20]};n[13]!==void 0&&(ke.value=n[13]),V=new or({props:ke}),Ue.push(()=>Ge(V,"value",ve)),V.$on("input",n[22]),V.$on("change",n[23]),z=new za({props:{side:n[0],isPosting:n[17],currency:n[2].displayBaseCurrency}}),z.$on("click",n[21]),ge=new xl({}),we=new Wl({props:{currency:n[12],availableValue:n[1].availableBalanceRqForOperator,$$slots:{default:[Kv]},$$scope:{ctx:n}}});let Ne=Ic(n);return{c(){e=g("div"),le(t.$$.fragment),o=S(),c=g("div"),f=g("span"),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),w=q(n[11]),I=S(),_e&&_e.c(),A=S(),B=g("div"),le(V.$$.fragment),P=S(),le(z.$$.fragment),F=S(),O=g("div"),M=g("div"),L=g("span"),j=q(Q),K=S(),W=g("span"),J=q(Z),R=S(),te=q(X),oe=S(),x=g("i"),de=q(""),re=S(),le(ge.$$.fragment),Ee=S(),le(we.$$.fragment),ee=S(),Ne.c(),this.h()},l(Te){e=b(Te,"DIV",{class:!0});var He=y(e);ae(t.$$.fragment,He),o=C(He),c=b(He,"DIV",{class:!0});var ye=y(c);f=b(ye,"SPAN",{class:!0});var Pe=y(f);h=D(Pe,d),Pe.forEach(p),m=C(ye),v=b(ye,"SPAN",{class:!0});var De=y(v);E=D(De,k),T=C(De),w=D(De,n[11]),De.forEach(p),ye.forEach(p),I=C(He),_e&&_e.l(He),A=C(He),B=b(He,"DIV",{class:!0});var Re=y(B);ae(V.$$.fragment,Re),Re.forEach(p),P=C(He),ae(z.$$.fragment,He),F=C(He),O=b(He,"DIV",{class:!0});var et=y(O);M=b(et,"DIV",{class:!0});var he=y(M);L=b(he,"SPAN",{class:!0});var pe=y(L);j=D(pe,Q),pe.forEach(p),K=C(he),W=b(he,"SPAN",{class:!0});var ue=y(W);J=D(ue,Z),R=C(ue),te=D(ue,X),ue.forEach(p),oe=C(he),x=b(he,"I",{class:!0});var Ae=y(x);de=D(Ae,""),Ae.forEach(p),he.forEach(p),re=C(et),ae(ge.$$.fragment,et),et.forEach(p),Ee=C(He),ae(we.$$.fragment,He),ee=C(He),Ne.l(He),He.forEach(p),this.h()},h(){_(f,"class","T3"),_(v,"class","ml4 T1 wsn"),_(c,"class","df aic mt8 f12"),_(B,"class","slider H-19y5w9f"),_(L,"class","T3"),_(W,"class","ml4 T1"),_(x,"class","iconfont ml4 f12 cp T4"),_(M,"class","cost f12"),_(O,"class","df fdr jcsb aic mt8"),_(e,"class","mt12")},m(Te,He){Y(Te,e,He),ie(t,e,null),u(e,o),u(e,c),u(c,f),u(f,h),u(c,m),u(c,v),u(v,E),u(v,T),u(v,w),u(e,I),_e&&_e.m(e,null),u(e,A),u(e,B),ie(V,B,null),u(e,P),ie(z,e,null),u(e,F),u(e,O),u(O,M),u(M,L),u(L,j),u(M,K),u(M,W),u(W,J),u(W,R),u(W,te),u(M,oe),u(M,x),u(x,de),u(O,re),ie(ge,O,null),u(e,Ee),ie(we,e,null),u(e,ee),Ne.m(e,null),Se=!0,qe||(Ce=En(G=kn.call(null,x,{text:n[18](ut.PlaceMarketOrder)})),qe=!0)},p(Te,He){const ye={};He[0]&4&&(ye.marginPair=Te[2]),!r&&He[0]&32&&(r=!0,ye.quantityEv=Te[5],Ye(()=>r=!1)),!l&&He[0]&16&&(l=!0,ye.qtyType=Te[4],Ye(()=>l=!1)),!i&&He[0]&16384&&(i=!0,ye.quantityInput=Te[14],Ye(()=>i=!1)),!s&&He[0]&256&&(s=!0,ye.quantityPrecision=Te[8],Ye(()=>s=!1)),!a&&He[0]&128&&(a=!0,ye.quantityScale=Te[7],Ye(()=>a=!1)),t.$set(ye),(!Se||He[0]&262145)&&d!==(d=Te[18](Te[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"")&&N(h,d),(!Se||He[0]&524805)&&k!==(k=nn(Te[9],Te[2],Te[0],Te[19])+"")&&N(E,k),(!Se||He[0]&2048)&&N(w,Te[11]),Te[3]&&Te[16]?_e?_e.p(Te,He):(_e=Cc(Te),_e.c(),_e.m(e,A)):_e&&(_e.d(1),_e=null);const Pe={};!$&&He[0]&8192&&($=!0,Pe.value=Te[13],Ye(()=>$=!1)),V.$set(Pe);const De={};He[0]&1&&(De.side=Te[0]),He[0]&131072&&(De.isPosting=Te[17]),He[0]&4&&(De.currency=Te[2].displayBaseCurrency),z.$set(De),(!Se||He[0]&262161)&&Q!==(Q=rn(Te[0],Te[4],Te[18],$t)+"")&&N(j,Q),(!Se||He[0]&32788)&&Z!==(Z=ln(Te[2],Te[15],Te[4])+"")&&N(J,Z),(!Se||He[0]&20)&&X!==(X=(Te[4]===Me.ByBase?Te[2].quoteCurrency:Te[2].displayBaseCurrency)+"")&&N(te,X),G&&Bt(G.update)&&He[0]&262144&&G.update.call(null,{text:Te[18](ut.PlaceMarketOrder)});const Re={};He[0]&4096&&(Re.currency=Te[12]),He[0]&2&&(Re.availableValue=Te[1].availableBalanceRqForOperator),He[0]&262152|He[1]&8192&&(Re.$$scope={dirty:He,ctx:Te}),we.$set(Re),He[0]&4&&Fe(me,me=Te[2].symbol)?(Ze(),U(Ne,1,1,Qe),xe(),Ne=Ic(Te),Ne.c(),H(Ne,1),Ne.m(e,null)):Ne.p(Te,He)},i(Te){Se||(H(t.$$.fragment,Te),H(V.$$.fragment,Te),H(z.$$.fragment,Te),H(ge.$$.fragment,Te),H(we.$$.fragment,Te),H(Ne),Se=!0)},o(Te){U(t.$$.fragment,Te),U(V.$$.fragment,Te),U(z.$$.fragment,Te),U(ge.$$.fragment,Te),U(we.$$.fragment,Te),U(Ne),Se=!1},d(Te){Te&&p(e),se(t),_e&&_e.d(),se(V),se(z),se(ge),se(we),Ne.d(Te),qe=!1,Ce()}}}function Jv(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A;ne(n,it,ee=>t(18,k=ee)),ne(n,Rl,ee=>t(29,E=ee)),ne(n,Un,ee=>t(30,T=ee)),ne(n,ir,ee=>t(31,w=ee)),ne(n,lr,ee=>t(32,I=ee)),ne(n,tr,ee=>t(19,A=ee));let{side:B=Oe.Buy}=e,{placeOrderAsset:V}=e,{spot:$=null}=e,{isAllowBorrow:P=!1}=e;const z=rt.Market;let F=Me.ByBase,O=0,M=0,L,Q="0",j=0,K=0;Ct(()=>vt.subscribe("global","spot-quantity-click",ee=>{t(5,O=ee.quantity),t(4,F=ee.type),L&&L.focus()}));function W(ee,me,Se){const qe=mr(gn(ee,Tn(me)),Se,0),Ce=un(qe,Tn(me));Ce!==ee&&t(5,O=Number(Ce))}function Z(ee,{priceEp:me,side:Se,qtyType:qe,quantityEv:Ce,availableBalanceEv:Be,payCurrencyItem:ce,receiveCurrencyItem:fe}){if(!(!ce||!fe)){if(!ee){t(6,Q="0");return}t(6,Q=Gl({priceEp:me,side:Se,qtyType:qe,quantityEv:Ce,availableBalanceEv:Be,payCurrencyItem:ce,receiveCurrencyItem:fe}))}}function J(ee,me){ee&&(t(5,O=me.quantityEv),t(4,F=me.qtyType))}async function R(){if(await x())return;await Jl({tradePair:$,qtyType:F,side:B,quantityEv:O,priceEp:0,orderType:z,ordType:"Market",timeInForce:"ImmediateOrCancel",payCurrency:f,receiveCurrency:d,borrowing:Q})}function X(ee){if(o<=0){t(5,O=0);return}t(5,O=o*Number(ee.detail)/100)}function te(){L&&L.focus()}function oe(ee,me){if(me<=0){t(13,M=0);return}if(ee>me){t(13,M=100);return}t(13,M=parseInt(String(ee/me*100)))}async function x(){const ee={quantityEv:O,priceEp:s},me={orderType:z,qtyType:F,side:B,maxAmountEv:a,availableBalanceEv:V.availableBalanceEvForOperator,costEv:c,spot:$,borrowing:Q},Se=await Yl(k,ee,me);return Se?(vt.send("toast","info",{message:Se}),!0):!1}function de(ee){O=ee,t(5,O)}function G(ee){F=ee,t(4,F)}function re(ee){L=ee,t(14,L)}function ge(ee){K=ee,t(8,K)}function Ee(ee){j=ee,t(7,j)}function we(ee){M=ee,t(13,M)}return n.$$set=ee=>{"side"in ee&&t(0,B=ee.side),"placeOrderAsset"in ee&&t(1,V=ee.placeOrderAsset),"spot"in ee&&t(2,$=ee.spot),"isAllowBorrow"in ee&&t(3,P=ee.isAllowBorrow)},n.$$.update=()=>{n.$$.dirty[1]&2&&t(17,r=I),n.$$.dirty[1]&1&&t(28,l=w),n.$$.dirty[0]&268435461&&t(27,i=sr($,l,B,z)),n.$$.dirty[0]&1073741824&&t(10,s=T.closeEp),n.$$.dirty[0]&402653184&&J(i,l),n.$$.dirty[0]&1031&&t(9,a=cn({availableBalanceEv:V.availableBalanceEvForOperator},$,s,B)),n.$$.dirty[0]&531&&t(24,o=fn({availableBalanceEv:V.availableBalanceEvForOperator},B,F,a)),n.$$.dirty[0]&1076&&t(15,c=Vn($,rt.Limit,s,F,O)),n.$$.dirty[0]&16777248&&oe(O,o),n.$$.dirty[0]&134217776&&ar(i,{quantityEv:O,qtyType:F}),n.$$.dirty[0]&5&&t(12,f=B===Oe.Buy?$.quoteCurrency:$.displayBaseCurrency),n.$$.dirty[0]&5&&t(11,d=B===Oe.Buy?$.displayBaseCurrency:$.quoteCurrency),n.$$.dirty[0]&536875008&&t(26,h=E(f)),n.$$.dirty[0]&536872960&&t(25,m=E(d)),n.$$.dirty[0]&100664379&&Z(P,{priceEp:s,side:B,qtyType:F,quantityEv:O,availableBalanceEv:V.availableBalanceEv,payCurrencyItem:h,receiveCurrencyItem:m}),n.$$.dirty[0]&64&&t(16,v=vn(Q||0,0)),n.$$.dirty[0]&416&&W(O,j,K)},[B,V,$,P,F,O,Q,j,K,a,s,d,f,M,L,c,v,r,k,A,z,R,X,te,o,m,h,i,l,E,T,w,I,de,G,re,ge,Ee,we]}let Zv=class extends je{constructor(e){super(),We(this,e,Jv,Xv,Fe,{side:0,placeOrderAsset:1,spot:2,isAllowBorrow:3},null,[-1,-1])}};function xv(n){let e,t,r;function l(s){n[42](s)}let i={class:"limit-price f1",isInline:!1,operation:!1,factor:n[2].quoteQtyFactor,scale:n[2].quoteQtyScale,tickSizeEp:n[2].quoteTickSizeEv,precision:n[2].pricePrecision,minPriceEp:n[2].quoteTickSizeEv,maxPriceEp:n[2].maxOrderValueEv,label:n[21]($t.Price),unit:n[2].quoteCurrency};return n[5]!==void 0&&(i.priceEp=n[5]),e=new dn({props:i}),Ue.push(()=>Ge(e,"priceEp",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a[0]&4&&(o.factor=s[2].quoteQtyFactor),a[0]&4&&(o.scale=s[2].quoteQtyScale),a[0]&4&&(o.tickSizeEp=s[2].quoteTickSizeEv),a[0]&4&&(o.precision=s[2].pricePrecision),a[0]&4&&(o.minPriceEp=s[2].quoteTickSizeEv),a[0]&4&&(o.maxPriceEp=s[2].maxOrderValueEv),a[0]&2097152&&(o.label=s[21]($t.Price)),a[0]&4&&(o.unit=s[2].quoteCurrency),!t&&a[0]&32&&(t=!0,o.priceEp=s[5],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function eg(n){let e,t;return e=new dn({props:{disabled:!0,class:"limit-price f1",isInline:!1,operation:!1,factor:n[2].quoteQtyFactor,scale:n[2].quoteQtyScale,tickSizeEp:n[2].quoteTickSizeEv,precision:n[2].pricePrecision,minPriceEp:n[2].quoteTickSizeEv,maxPriceEp:n[2].maxOrderValueEv,label:n[21]($t.Price),unit:n[2].quoteCurrency,priceEp:0}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&4&&(i.factor=r[2].quoteQtyFactor),l[0]&4&&(i.scale=r[2].quoteQtyScale),l[0]&4&&(i.tickSizeEp=r[2].quoteTickSizeEv),l[0]&4&&(i.precision=r[2].pricePrecision),l[0]&4&&(i.minPriceEp=r[2].quoteTickSizeEv),l[0]&4&&(i.maxPriceEp=r[2].maxOrderValueEv),l[0]&2097152&&(i.label=r[21]($t.Price)),l[0]&4&&(i.unit=r[2].quoteCurrency),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Pc(n){let e,t,r=n[21]($t.Borrowing)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("span"),a=q(n[10]),o=S(),c=q(n[14]),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"SPAN",{class:!0});var m=y(s);a=D(m,n[10]),o=C(m),c=D(m,n[14]),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","T3"),_(s,"class","ml4 T1 wsn"),_(e,"class","df aic mt8 f12")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(s,o),u(s,c)},p(f,d){d[0]&2097152&&r!==(r=f[21]($t.Borrowing)+"")&&N(l,r),d[0]&1024&&N(a,f[10]),d[0]&16384&&N(c,f[14])},d(f){f&&p(e)}}}function Bc(n){let e,t,r,l,i;return{c(){e=g("i"),t=q(""),this.h()},l(s){e=b(s,"I",{class:!0});var a=y(e);t=D(a,""),a.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 cp lh12 f12 T4")},m(s,a){Y(s,e,a),u(e,t),l||(i=En(r=kn.call(null,e,{text:n[21](ut.AvailableTip)})),l=!0)},p(s,a){r&&Bt(r.update)&&a[0]&2097152&&r.update.call(null,{text:s[21](ut.AvailableTip)})},d(s){s&&p(e),l=!1,i()}}}function tg(n){let e,t=n[3]&&Bc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[3]?t?t.p(r,l):(t=Bc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function qc(n){let e=n[2].symbol,t,r,l=Dc(n);return{c(){l.c(),t=Ke()},l(i){l.l(i),t=Ke()},m(i,s){l.m(i,s),Y(i,t,s),r=!0},p(i,s){s[0]&4&&Fe(e,e=i[2].symbol)?(Ze(),U(l,1,1,Qe),xe(),l=Dc(i),l.c(),H(l,1),l.m(t.parentNode,t)):l.p(i,s)},i(i){r||(H(l),r=!0)},o(i){U(l),r=!1},d(i){i&&p(t),l.d(i)}}}function Dc(n){let e,t;return e=new Ql({props:{qtyType:n[6],quantityEv:n[7],priceEp:n[5]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&64&&(i.qtyType=r[6]),l[0]&128&&(i.quantityEv=r[7]),l[0]&32&&(i.priceEp=r[5]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Ac(n){let e,t,r;function l(s){n[51](s)}let i={};return n[9]!==void 0&&(i.timeInForce=n[9]),e=new Xl({props:i}),Ue.push(()=>Ge(e,"timeInForce",l)),e.$on("changeAdvancedVisible",n[27]),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};!t&&a[0]&512&&(t=!0,o.timeInForce=s[9],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function ng(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V,$,P,z=n[21](n[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"",F,O,M,L=nn(n[13],n[2],n[0],n[22])+"",Q,j,K=(n[0]===Oe.Buy?n[2].displayBaseCurrency:n[2].quoteCurrency)+"",W,Z,J,R,X,te,oe,x,de,G,re,ge,Ee=rn(n[0],n[6],n[21],$t)+"",we,ee,me,Se=ln(n[2],n[18],n[6])+"",qe,Ce,Be=(n[6]===Me.ByBase?n[2].quoteCurrency:n[2].displayBaseCurrency)+"",ce,fe,Ve,Ie,be,_e,ve,ke;function Ne(Le){n[40](Le)}function Te(Le){n[41](Le)}let He={class:"limit-price",isInline:!1,operation:!1,factor:n[2].quoteQtyFactor,scale:n[2].quoteQtyScale,tickSizeEp:n[2].quoteTickSizeEv,precision:n[2].pricePrecision,minPriceEp:n[2].quoteTickSizeEv,maxPriceEp:n[2].maxOrderValueEv,label:n[21]($t.TriggerPrice),unit:n[2].quoteCurrency};n[4]!==void 0&&(He.priceEp=n[4]),n[16]!==void 0&&(He.input=n[16]),r=new dn({props:He}),Ue.push(()=>Ge(r,"priceEp",Ne)),Ue.push(()=>Ge(r,"input",Te));const ye=[eg,xv],Pe=[];function De(Le,Xe){return Le[8]===bt.Market?0:1}o=De(n),c=Pe[o]=ye[o](n);function Re(Le){n[43](Le)}let et={options:$r.createConditionalTypeOptions(n[21],ut,bt)};n[8]!==void 0&&(et.value=n[8]),h=new Bs({props:et}),Ue.push(()=>Ge(h,"value",Re)),h.$on("change",n[44]);function he(Le){n[45](Le)}function pe(Le){n[46](Le)}function ue(Le){n[47](Le)}function Ae(Le){n[48](Le)}function nt(Le){n[49](Le)}let lt={marginPair:n[2]};n[7]!==void 0&&(lt.quantityEv=n[7]),n[6]!==void 0&&(lt.qtyType=n[6]),n[17]!==void 0&&(lt.quantityInput=n[17]),n[12]!==void 0&&(lt.quantityPrecision=n[12]),n[11]!==void 0&&(lt.quantityScale=n[11]),E=new Zl({props:lt}),Ue.push(()=>Ge(E,"quantityEv",he)),Ue.push(()=>Ge(E,"qtyType",pe)),Ue.push(()=>Ge(E,"quantityInput",ue)),Ue.push(()=>Ge(E,"quantityPrecision",Ae)),Ue.push(()=>Ge(E,"quantityScale",nt));let st=n[3]&&n[19]&&Pc(n);function ft(Le){n[50](Le)}let mt={type:n[23]};n[15]!==void 0&&(mt.value=n[15]),X=new or({props:mt}),Ue.push(()=>Ge(X,"value",ft)),X.$on("input",n[25]),X.$on("change",n[26]),x=new za({props:{side:n[0],isPosting:n[20],currency:n[2].displayBaseCurrency}}),x.$on("click",n[24]),Ve=new xl({}),be=new Wl({props:{currency:n[0]===Oe.Buy?n[2].quoteCurrency:n[2].baseCurrency,availableValue:n[1].availableBalanceRqForOperator,$$slots:{default:[tg]},$$scope:{ctx:n}}});let at=n[8]===bt.Market&&qc(n),pt=n[8]===bt.Limit&&Ac(n);return{c(){e=g("div"),t=g("div"),le(r.$$.fragment),s=S(),a=g("div"),c.c(),f=S(),d=g("div"),le(h.$$.fragment),v=S(),k=g("div"),le(E.$$.fragment),V=S(),$=g("div"),P=g("span"),F=q(z),O=S(),M=g("span"),Q=q(L),j=S(),W=q(K),Z=S(),st&&st.c(),J=S(),R=g("div"),le(X.$$.fragment),oe=S(),le(x.$$.fragment),de=S(),G=g("div"),re=g("div"),ge=g("span"),we=q(Ee),ee=S(),me=g("span"),qe=q(Se),Ce=S(),ce=q(Be),fe=S(),le(Ve.$$.fragment),Ie=S(),le(be.$$.fragment),_e=S(),at&&at.c(),ve=S(),pt&&pt.c(),this.h()},l(Le){e=b(Le,"DIV",{class:!0});var Xe=y(e);t=b(Xe,"DIV",{class:!0});var _t=y(t);ae(r.$$.fragment,_t),_t.forEach(p),s=C(Xe),a=b(Xe,"DIV",{class:!0,style:!0});var Jt=y(a);c.l(Jt),f=C(Jt),d=b(Jt,"DIV",{class:!0});var Ft=y(d);ae(h.$$.fragment,Ft),Ft.forEach(p),Jt.forEach(p),v=C(Xe),k=b(Xe,"DIV",{class:!0});var Et=y(k);ae(E.$$.fragment,Et),Et.forEach(p),V=C(Xe),$=b(Xe,"DIV",{class:!0});var Tt=y($);P=b(Tt,"SPAN",{class:!0});var ze=y(P);F=D(ze,z),ze.forEach(p),O=C(Tt),M=b(Tt,"SPAN",{class:!0});var tt=y(M);Q=D(tt,L),j=C(tt),W=D(tt,K),tt.forEach(p),Tt.forEach(p),Z=C(Xe),st&&st.l(Xe),J=C(Xe),R=b(Xe,"DIV",{class:!0});var Gt=y(R);ae(X.$$.fragment,Gt),Gt.forEach(p),oe=C(Xe),ae(x.$$.fragment,Xe),de=C(Xe),G=b(Xe,"DIV",{class:!0});var qt=y(G);re=b(qt,"DIV",{class:!0});var on=y(re);ge=b(on,"SPAN",{class:!0});var wn=y(ge);we=D(wn,Ee),wn.forEach(p),ee=C(on),me=b(on,"SPAN",{class:!0});var Rt=y(me);qe=D(Rt,Se),Ce=C(Rt),ce=D(Rt,Be),Rt.forEach(p),on.forEach(p),fe=C(qt),ae(Ve.$$.fragment,qt),qt.forEach(p),Ie=C(Xe),ae(be.$$.fragment,Xe),_e=C(Xe),at&&at.l(Xe),ve=C(Xe),pt&&pt.l(Xe),Xe.forEach(p),this.h()},h(){_(t,"class","trigger-price"),_(d,"class","conditional-type ml8 H-1pdid1h"),_(a,"class","limit-price df aic H-1pdid1h"),yn(a,"align-items","flex-end"),_(k,"class","quantity H-1pdid1h"),_(P,"class","T3"),_(M,"class","ml4 T1 wsn"),_($,"class","df aic mt8 f12"),_(R,"class","slider H-1pdid1h"),_(ge,"class","T3"),_(me,"class","ml4 T1"),_(re,"class","cost f12"),_(G,"class","df jcsb aic mt8"),_(e,"class","mt12")},m(Le,Xe){Y(Le,e,Xe),u(e,t),ie(r,t,null),u(e,s),u(e,a),Pe[o].m(a,null),u(a,f),u(a,d),ie(h,d,null),u(e,v),u(e,k),ie(E,k,null),u(e,V),u(e,$),u($,P),u(P,F),u($,O),u($,M),u(M,Q),u(M,j),u(M,W),u(e,Z),st&&st.m(e,null),u(e,J),u(e,R),ie(X,R,null),u(e,oe),ie(x,e,null),u(e,de),u(e,G),u(G,re),u(re,ge),u(ge,we),u(re,ee),u(re,me),u(me,qe),u(me,Ce),u(me,ce),u(G,fe),ie(Ve,G,null),u(e,Ie),ie(be,e,null),u(e,_e),at&&at.m(e,null),u(e,ve),pt&&pt.m(e,null),ke=!0},p(Le,Xe){const _t={};Xe[0]&4&&(_t.factor=Le[2].quoteQtyFactor),Xe[0]&4&&(_t.scale=Le[2].quoteQtyScale),Xe[0]&4&&(_t.tickSizeEp=Le[2].quoteTickSizeEv),Xe[0]&4&&(_t.precision=Le[2].pricePrecision),Xe[0]&4&&(_t.minPriceEp=Le[2].quoteTickSizeEv),Xe[0]&4&&(_t.maxPriceEp=Le[2].maxOrderValueEv),Xe[0]&2097152&&(_t.label=Le[21]($t.TriggerPrice)),Xe[0]&4&&(_t.unit=Le[2].quoteCurrency),!l&&Xe[0]&16&&(l=!0,_t.priceEp=Le[4],Ye(()=>l=!1)),!i&&Xe[0]&65536&&(i=!0,_t.input=Le[16],Ye(()=>i=!1)),r.$set(_t);let Jt=o;o=De(Le),o===Jt?Pe[o].p(Le,Xe):(Ze(),U(Pe[Jt],1,1,()=>{Pe[Jt]=null}),xe(),c=Pe[o],c?c.p(Le,Xe):(c=Pe[o]=ye[o](Le),c.c()),H(c,1),c.m(a,f));const Ft={};Xe[0]&2097152&&(Ft.options=$r.createConditionalTypeOptions(Le[21],ut,bt)),!m&&Xe[0]&256&&(m=!0,Ft.value=Le[8],Ye(()=>m=!1)),h.$set(Ft);const Et={};Xe[0]&4&&(Et.marginPair=Le[2]),!T&&Xe[0]&128&&(T=!0,Et.quantityEv=Le[7],Ye(()=>T=!1)),!w&&Xe[0]&64&&(w=!0,Et.qtyType=Le[6],Ye(()=>w=!1)),!I&&Xe[0]&131072&&(I=!0,Et.quantityInput=Le[17],Ye(()=>I=!1)),!A&&Xe[0]&4096&&(A=!0,Et.quantityPrecision=Le[12],Ye(()=>A=!1)),!B&&Xe[0]&2048&&(B=!0,Et.quantityScale=Le[11],Ye(()=>B=!1)),E.$set(Et),(!ke||Xe[0]&2097153)&&z!==(z=Le[21](Le[0]===Oe.Buy?$t.MaxBuy:$t.MaxSell)+"")&&N(F,z),(!ke||Xe[0]&4202501)&&L!==(L=nn(Le[13],Le[2],Le[0],Le[22])+"")&&N(Q,L),(!ke||Xe[0]&5)&&K!==(K=(Le[0]===Oe.Buy?Le[2].displayBaseCurrency:Le[2].quoteCurrency)+"")&&N(W,K),Le[3]&&Le[19]?st?st.p(Le,Xe):(st=Pc(Le),st.c(),st.m(e,J)):st&&(st.d(1),st=null);const Tt={};!te&&Xe[0]&32768&&(te=!0,Tt.value=Le[15],Ye(()=>te=!1)),X.$set(Tt);const ze={};Xe[0]&1&&(ze.side=Le[0]),Xe[0]&1048576&&(ze.isPosting=Le[20]),Xe[0]&4&&(ze.currency=Le[2].displayBaseCurrency),x.$set(ze),(!ke||Xe[0]&2097217)&&Ee!==(Ee=rn(Le[0],Le[6],Le[21],$t)+"")&&N(we,Ee),(!ke||Xe[0]&262212)&&Se!==(Se=ln(Le[2],Le[18],Le[6])+"")&&N(qe,Se),(!ke||Xe[0]&68)&&Be!==(Be=(Le[6]===Me.ByBase?Le[2].quoteCurrency:Le[2].displayBaseCurrency)+"")&&N(ce,Be);const tt={};Xe[0]&5&&(tt.currency=Le[0]===Oe.Buy?Le[2].quoteCurrency:Le[2].baseCurrency),Xe[0]&2&&(tt.availableValue=Le[1].availableBalanceRqForOperator),Xe[0]&2097160|Xe[1]&1073741824&&(tt.$$scope={dirty:Xe,ctx:Le}),be.$set(tt),Le[8]===bt.Market?at?(at.p(Le,Xe),Xe[0]&256&&H(at,1)):(at=qc(Le),at.c(),H(at,1),at.m(e,ve)):at&&(Ze(),U(at,1,1,()=>{at=null}),xe()),Le[8]===bt.Limit?pt?(pt.p(Le,Xe),Xe[0]&256&&H(pt,1)):(pt=Ac(Le),pt.c(),H(pt,1),pt.m(e,null)):pt&&(Ze(),U(pt,1,1,()=>{pt=null}),xe())},i(Le){ke||(H(r.$$.fragment,Le),H(c),H(h.$$.fragment,Le),H(E.$$.fragment,Le),H(X.$$.fragment,Le),H(x.$$.fragment,Le),H(Ve.$$.fragment,Le),H(be.$$.fragment,Le),H(at),H(pt),ke=!0)},o(Le){U(r.$$.fragment,Le),U(c),U(h.$$.fragment,Le),U(E.$$.fragment,Le),U(X.$$.fragment,Le),U(x.$$.fragment,Le),U(Ve.$$.fragment,Le),U(be.$$.fragment,Le),U(at),U(pt),ke=!1},d(Le){Le&&p(e),se(r),Pe[o].d(),se(h),se(E),st&&st.d(),se(X),se(x),se(Ve),se(be),at&&at.d(),pt&&pt.d()}}}function rg(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V;ne(n,it,ye=>t(21,T=ye)),ne(n,Rl,ye=>t(36,w=ye)),ne(n,Un,ye=>t(37,I=ye)),ne(n,ir,ye=>t(38,A=ye)),ne(n,lr,ye=>t(39,B=ye)),ne(n,tr,ye=>t(22,V=ye));let{side:$}=e,{placeOrderAsset:P}=e,{spot:z=null}=e,{isAllowBorrow:F=!1}=e;const O=rt.Conditional;let M=0,L=0,Q=Me.ByBase,j=0,K=bt.Limit,W=0,Z="GoodTillCancel",J=null,R=null,X,te="0",oe=0,x=0;Ct(()=>vt.subscribe("global","spot-price-click",ye=>{t(4,M=ye.price),t(5,L=ye.price),J&&J.focus()})),Ct(()=>vt.subscribe("global","spot-quantity-click",ye=>{t(7,j=ye.quantity),t(6,Q=ye.type),R&&R.focus()}));function de(ye,Pe,De){const Re=mr(gn(ye,Tn(Pe)),De,0),et=un(Re,Tn(Pe));et!==ye&&t(7,j=Number(et))}function G(ye,Pe,De){return ye===bt.Market?De:Pe}function re(ye,{priceEp:Pe,side:De,qtyType:Re,quantityEv:et,availableBalanceEv:he,payCurrencyItem:pe,receiveCurrencyItem:ue}){if(!(!pe||!ue)){if(!ye){t(10,te="0");return}t(10,te=Gl({priceEp:Pe,side:De,qtyType:Re,quantityEv:et,availableBalanceEv:he,payCurrencyItem:pe,receiveCurrencyItem:ue}))}}function ge(ye,Pe){ye&&(Pe.isInitPrice||(t(5,L=Pe.priceEp),t(4,M=Pe.triggerPriceEp)),t(7,j=Pe.quantityEv),t(6,Q=Pe.qtyType),t(8,K=Pe.conditionalType),t(9,Z=Pe.timeInForce))}async function Ee(){if(await qe())return;const Pe=K===bt.Market?0:L;await Jl({tradePair:z,side:$,priceEp:Pe,ordType:X,qtyType:Q,timeInForce:Z,quantityEv:j,orderType:O,payCurrency:h,receiveCurrency:m,borrowing:te,triggerPriceEp:M,direction:o})}function we(ye,Pe,De){if(Pe===Oe.Buy){if(De===bt.Limit){X=ye>0?"StopLimit":"LimitIfTouched";return}if(De===bt.Market){X=ye>0?"Stop":"MarketIfTouched";return}}if(Pe===Oe.Sell){if(De===bt.Limit){X=ye>0?"LimitIfTouched":"StopLimit";return}if(De===bt.Market){X=ye>0?"MarketIfTouched":"Stop";return}}}function ee(ye){if(d<=0){t(7,j=0);return}t(7,j=d*Number(ye.detail)/100)}function me(){R&&R.focus()}function Se(ye,Pe){if(Pe<=0){t(15,W=0);return}if(ye>Pe){t(15,W=100);return}t(15,W=parseInt(String(ye/Pe*100)))}async function qe(){const ye={quantityEv:j,priceEp:L,triggerPriceEp:M},Pe={orderType:rt.Conditional,qtyType:Q,side:$,maxAmountEv:c,availableBalanceEv:P.availableBalanceEvForOperator,costEv:f,spot:z,lastPriceEp:s,conditionalType:K,borrowing:te},De=await Yl(T,ye,Pe);return De?(vt.send("toast","info",{message:De}),!0):!1}function Ce(ye){const Pe=ye.detail;Bl.updateSpotStorage({advancedIsShow:Pe})}function Be(ye){M=ye,t(4,M)}function ce(ye){J=ye,t(16,J)}function fe(ye){L=ye,t(5,L)}function Ve(ye){K=ye,t(8,K)}function Ie(ye){rr.call(this,n,ye)}function be(ye){j=ye,t(7,j)}function _e(ye){Q=ye,t(6,Q)}function ve(ye){R=ye,t(17,R)}function ke(ye){x=ye,t(12,x)}function Ne(ye){oe=ye,t(11,oe)}function Te(ye){W=ye,t(15,W)}function He(ye){Z=ye,t(9,Z)}return n.$$set=ye=>{"side"in ye&&t(0,$=ye.side),"placeOrderAsset"in ye&&t(1,P=ye.placeOrderAsset),"spot"in ye&&t(2,z=ye.spot),"isAllowBorrow"in ye&&t(3,F=ye.isAllowBorrow)},n.$$.update=()=>{n.$$.dirty[1]&256&&t(20,r=B),n.$$.dirty[1]&128&&t(35,l=A),n.$$.dirty[0]&5|n.$$.dirty[1]&16&&t(33,i=sr(z,l,$,O)),n.$$.dirty[1]&64&&t(28,s=I.closeEp),n.$$.dirty[0]&268435472&&t(34,a=ga(M,s)),n.$$.dirty[1]&8&&(o=ba(a)),n.$$.dirty[1]&20&&ge(i,l),n.$$.dirty[0]&39&&t(13,c=cn({availableBalanceEv:P.availableBalanceEvForOperator},z,L,$)),n.$$.dirty[0]&228&&t(18,f=Vn(z,rt.Limit,L,Q,j)),n.$$.dirty[0]&8259&&t(29,d=fn({availableBalanceEv:P.availableBalanceEvForOperator},$,Q,c)),n.$$.dirty[0]&257|n.$$.dirty[1]&8&&we(a,$,K),n.$$.dirty[0]&1008|n.$$.dirty[1]&4&&ar(i,{priceEp:L,quantityEv:j,qtyType:Q,triggerPriceEp:M,conditionalType:K,timeInForce:Z}),n.$$.dirty[0]&536871040&&Se(j,d),n.$$.dirty[0]&5&&t(14,h=$===Oe.Buy?z.quoteCurrency:z.displayBaseCurrency),n.$$.dirty[0]&5&&t(30,m=$===Oe.Buy?z.displayBaseCurrency:z.quoteCurrency),n.$$.dirty[0]&16384|n.$$.dirty[1]&32&&t(32,v=w(h)),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&32&&t(31,k=w(m)),n.$$.dirty[0]&268435947|n.$$.dirty[1]&3&&re(F,{priceEp:G(K,L,s),side:$,qtyType:Q,quantityEv:j,availableBalanceEv:P.availableBalanceEv,payCurrencyItem:v,receiveCurrencyItem:k}),n.$$.dirty[0]&1024&&t(19,E=vn(te||0,0)),n.$$.dirty[0]&6272&&de(j,oe,x)},[$,P,z,F,M,L,Q,j,K,Z,te,oe,x,c,h,W,J,R,f,E,r,T,V,O,Ee,ee,me,Ce,s,d,m,k,v,i,a,l,w,I,A,B,Be,ce,fe,Ve,Ie,be,_e,ve,ke,Ne,Te,He]}let lg=class extends je{constructor(e){super(),We(this,e,rg,ng,Fe,{side:0,placeOrderAsset:1,spot:2,isAllowBorrow:3},null,[-1,-1])}};function ig(n){let e,t;return e=new Yv({props:{isAllowBorrow:n[1],side:n[0],spot:n[2],placeOrderAsset:n[4]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&2&&(i.isAllowBorrow=r[1]),l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&16&&(i.placeOrderAsset=r[4]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function sg(n){let e,t;return e=new Zv({props:{isAllowBorrow:n[1],side:n[0],spot:n[2],placeOrderAsset:n[4]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&2&&(i.isAllowBorrow=r[1]),l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&16&&(i.placeOrderAsset=r[4]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function ag(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function og(n){let e,t,r,l;const i=[ag,sg],s=[];function a(o,c){return o[6]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function ug(n){let e,t;return e=new lg({props:{isAllowBorrow:n[1],side:n[0],spot:n[2],placeOrderAsset:n[4]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&2&&(i.isAllowBorrow=r[1]),l&1&&(i.side=r[0]),l&4&&(i.spot=r[2]),l&16&&(i.placeOrderAsset=r[4]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function cg(n){let e,t;return e=new jl({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function fg(n){let e,t,r,l;const i=[cg,ug],s=[];function a(o,c){return o[6]?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e===f?s[e].p(o,c):(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t?t.p(o,c):(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function dg(n){let e,t,r,l,i,s,a=n[5]($t.Limit)+"",o,c,f,d=n[5]($t.Market)+"",h,m,v,k=n[5]($t.Conditional)+"",E,T,w,I,A,B,V,$,P,z,F,O,M;return r=new Da({props:{side:n[0]}}),r.$on("changeSideType",n[8]),I=new xt({props:{active:n[3]===rt.Limit,$$slots:{default:[ig]},$$scope:{ctx:n}}}),B=new xt({props:{active:n[3]===rt.Market,$$slots:{default:[og]},$$scope:{ctx:n}}}),$=new xt({props:{active:n[3]===rt.Conditional,$$slots:{default:[fg]},$$scope:{ctx:n}}}),z=new ap({}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),i=g("div"),s=g("span"),o=q(a),c=S(),f=g("span"),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),w=g("div"),le(I.$$.fragment),A=S(),le(B.$$.fragment),V=S(),le($.$$.fragment),P=S(),le(z.$$.fragment),this.h()},l(L){e=b(L,"DIV",{class:!0});var Q=y(e);t=b(Q,"DIV",{class:!0});var j=y(t);ae(r.$$.fragment,j),l=C(j),i=b(j,"DIV",{class:!0});var K=y(i);s=b(K,"SPAN",{class:!0});var W=y(s);o=D(W,a),W.forEach(p),c=C(K),f=b(K,"SPAN",{class:!0});var Z=y(f);h=D(Z,d),Z.forEach(p),m=C(K),v=b(K,"SPAN",{class:!0});var J=y(v);E=D(J,k),J.forEach(p),K.forEach(p),T=C(j),w=b(j,"DIV",{class:!0});var R=y(w);ae(I.$$.fragment,R),A=C(R),ae(B.$$.fragment,R),V=C(R),ae($.$$.fragment,R),R.forEach(p),P=C(j),ae(z.$$.fragment,j),j.forEach(p),Q.forEach(p),this.h()},h(){_(s,"class","tab limit H-9f3y7v"),$e(s,"active",n[3]===rt.Limit),_(f,"class","tab market H-9f3y7v"),$e(f,"active",n[3]===rt.Market),_(v,"class","tab conditional H-9f3y7v"),$e(v,"active",n[3]===rt.Conditional),_(i,"class","tab-wrap df T2 f12 cp H-9f3y7v"),_(w,"class","main H-9f3y7v"),_(t,"class","body"),_(e,"class","wrap ph12 H-9f3y7v")},m(L,Q){Y(L,e,Q),u(e,t),ie(r,t,null),u(t,l),u(t,i),u(i,s),u(s,o),u(i,c),u(i,f),u(f,h),u(i,m),u(i,v),u(v,E),u(t,T),u(t,w),ie(I,w,null),u(w,A),ie(B,w,null),u(w,V),ie($,w,null),u(t,P),ie(z,t,null),F=!0,O||(M=[Je(s,"click",n[7](rt.Limit)),Je(f,"click",n[7](rt.Market)),Je(v,"click",n[7](rt.Conditional))],O=!0)},p(L,[Q]){const j={};Q&1&&(j.side=L[0]),r.$set(j),(!F||Q&32)&&a!==(a=L[5]($t.Limit)+"")&&N(o,a),(!F||Q&8)&&$e(s,"active",L[3]===rt.Limit),(!F||Q&32)&&d!==(d=L[5]($t.Market)+"")&&N(h,d),(!F||Q&8)&&$e(f,"active",L[3]===rt.Market),(!F||Q&32)&&k!==(k=L[5]($t.Conditional)+"")&&N(E,k),(!F||Q&8)&&$e(v,"active",L[3]===rt.Conditional);const K={};Q&8&&(K.active=L[3]===rt.Limit),Q&8215&&(K.$$scope={dirty:Q,ctx:L}),I.$set(K);const W={};Q&8&&(W.active=L[3]===rt.Market),Q&8279&&(W.$$scope={dirty:Q,ctx:L}),B.$set(W);const Z={};Q&8&&(Z.active=L[3]===rt.Conditional),Q&8279&&(Z.$$scope={dirty:Q,ctx:L}),$.$set(Z)},i(L){F||(H(r.$$.fragment,L),H(I.$$.fragment,L),H(B.$$.fragment,L),H($.$$.fragment,L),H(z.$$.fragment,L),F=!0)},o(L){U(r.$$.fragment,L),U(I.$$.fragment,L),U(B.$$.fragment,L),U($.$$.fragment,L),U(z.$$.fragment,L),F=!1},d(L){L&&p(e),se(r),se(I),se(B),se($),se(z),O=!1,an(M)}}}const pg=!0;function hg(n,e,t){let r,l,i,s,a,o,c,f,d,h;ne(n,Ad,E=>t(9,a=E)),ne(n,Ci,E=>t(10,o=E)),ne(n,Ba,E=>t(11,c=E)),ne(n,Ht,E=>t(12,f=E)),ne(n,it,E=>t(5,d=E)),ne(n,br,E=>t(6,h=E));let m;function v(E){return function(){Ds.next(E)}}function k(E){qs.next(E.detail)}return n.$$.update=()=>{n.$$.dirty&4096&&t(2,r=f),n.$$.dirty&2048&&t(0,m=c.sideType),n.$$.dirty&2048&&t(3,l=c.orderType),n.$$.dirty&9&&ya({orderType:l,side:m}),n.$$.dirty&5&&t(1,i=m===Oe.Buy&&r.quoteCurrencyCanBorrow||m===Oe.Sell&&r.baseCurrencyCanBorrow),n.$$.dirty&1543&&t(4,s=Kd({isUtaSpotMode:pg,accounts:o,spot:r,side:m,isAllowBorrow:i,userRemainingBorrowRqAction:a}))},[m,i,r,l,s,d,h,v,k,a,o,c,f]}let mg=class extends je{constructor(e){super(),We(this,e,hg,dg,Fe,{})}};function _g(n){let e,t,r,l,i,s,a;return t=new mg({}),l=new pp({}),s=new Ua({}),{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),i=S(),le(s.$$.fragment)},l(o){e=b(o,"DIV",{});var c=y(e);ae(t.$$.fragment,c),r=C(c),ae(l.$$.fragment,c),i=C(c),ae(s.$$.fragment,c),c.forEach(p)},m(o,c){Y(o,e,c),ie(t,e,null),u(e,r),ie(l,e,null),u(e,i),ie(s,e,null),a=!0},p:Qe,i(o){a||(H(t.$$.fragment,o),H(l.$$.fragment,o),H(s.$$.fragment,o),a=!0)},o(o){U(t.$$.fragment,o),U(l.$$.fragment,o),U(s.$$.fragment,o),a=!1},d(o){o&&p(e),se(t),se(l),se(s)}}}let vg=class extends je{constructor(e){super(),We(this,e,null,_g,Fe,{})}};function Vc(n,e,t){const r=n.slice();return r[13]=e[t],r}function Hc(n){let e,t,r,l,i,s,a,o,c,f,d,h,m=n[3],v=[];for(let k=0;k<m.length;k+=1)v[k]=Oc(Vc(n,m,k));return d=new xh({}),{c(){e=g("div"),t=g("div"),r=g("div"),l=g("div");for(let k=0;k<v.length;k+=1)v[k].c();i=S(),s=g("div"),a=g("i"),o=q(""),c=S(),f=g("div"),le(d.$$.fragment),this.h()},l(k){e=b(k,"DIV",{class:!0});var E=y(e);t=b(E,"DIV",{class:!0});var T=y(t);r=b(T,"DIV",{class:!0});var w=y(r);l=b(w,"DIV",{class:!0});var I=y(l);for(let $=0;$<v.length;$+=1)v[$].l(I);I.forEach(p),i=C(w),s=b(w,"DIV",{class:!0});var A=y(s);a=b(A,"I",{class:!0});var B=y(a);o=D(B,""),B.forEach(p),c=C(A),f=b(A,"DIV",{class:!0});var V=y(f);ae(d.$$.fragment,V),V.forEach(p),A.forEach(p),w.forEach(p),T.forEach(p),E.forEach(p),this.h()},h(){_(l,"class","df items br4 H-tdy5u3"),_(a,"class","iconfont ml8"),_(f,"class","dropdown margin-data-box pa H-tdy5u3"),$e(f,"floor",n[7]===An.Right),_(s,"class","dropdown-icon pr df aic T2 cp H-tdy5u3"),_(r,"class","strategy-tabs df jcsb H-tdy5u3"),_(t,"class","wp100 ph12"),$e(t,"mt12",!n[6]),_(e,"class","spot-margin-tabs df")},m(k,E){Y(k,e,E),u(e,t),u(t,r),u(r,l);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(l,null);u(r,i),u(r,s),u(s,a),u(a,o),u(s,c),u(s,f),ie(d,f,null),h=!0},p(k,E){if(E&25){m=k[3];let T;for(T=0;T<m.length;T+=1){const w=Vc(k,m,T);v[T]?v[T].p(w,E):(v[T]=Oc(w),v[T].c(),v[T].m(l,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=m.length}(!h||E&128)&&$e(f,"floor",k[7]===An.Right),(!h||E&64)&&$e(t,"mt12",!k[6])},i(k){h||(H(d.$$.fragment,k),h=!0)},o(k){U(d.$$.fragment,k),h=!1},d(k){k&&p(e),sn(v,k),se(d)}}}function Oc(n){let e,t,r=n[13].label+"",l,i,s;function a(){return n[11](n[13])}return{c(){e=g("div"),t=new Ip(!1),l=S(),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);t=Pp(c,!1),l=C(c),c.forEach(p),this.h()},h(){t.a=l,_(e,"class","item cp f12 H-tdy5u3"),$e(e,"active",n[13].mode===n[0])},m(o,c){Y(o,e,c),t.m(r,e),u(e,l),i||(s=Je(e,"click",a),i=!0)},p(o,c){n=o,c&8&&r!==(r=n[13].label+"")&&t.p(r),c&9&&$e(e,"active",n[13].mode===n[0])},d(o){o&&p(e),i=!1,s()}}}function gg(n){let e,t,r,l,i,s=n[1].supportMarginTrade&&n[5]&&Hc(n);var a=n[2];function o(c){return{}}return a&&(l=as(a,o())),{c(){e=g("section"),s&&s.c(),t=S(),r=g("div"),l&&le(l.$$.fragment)},l(c){e=b(c,"SECTION",{});var f=y(e);s&&s.l(f),t=C(f),r=b(f,"DIV",{});var d=y(r);l&&ae(l.$$.fragment,d),d.forEach(p),f.forEach(p)},m(c,f){Y(c,e,f),s&&s.m(e,null),u(e,t),u(e,r),l&&ie(l,r,null),i=!0},p(c,[f]){if(c[1].supportMarginTrade&&c[5]?s?(s.p(c,f),f&34&&H(s,1)):(s=Hc(c),s.c(),H(s,1),s.m(e,t)):s&&(Ze(),U(s,1,1,()=>{s=null}),xe()),f&4&&a!==(a=c[2])){if(l){Ze();const d=l;U(d.$$.fragment,1,0,()=>{se(d,1)}),xe()}a?(l=as(a,o()),le(l.$$.fragment),H(l.$$.fragment,1),ie(l,r,null)):l=null}},i(c){i||(H(s),l&&H(l.$$.fragment,c),i=!0)},o(c){U(s),l&&U(l.$$.fragment,c),i=!1},d(c){c&&p(e),s&&s.d(),l&&se(l)}}}function bg(n,e,t){let r,l,i,s,a,o,c,f,d,h,m;ne(n,pn,E=>t(8,a=E)),ne(n,Vd,E=>t(9,o=E)),ne(n,it,E=>t(10,c=E)),ne(n,Ht,E=>t(1,f=E)),ne(n,Md,E=>t(5,d=E)),ne(n,Ps,E=>t(6,h=E)),ne(n,Ti,E=>t(7,m=E)),Td(()=>Pa.next(!0));function v(E,T){return T==="Margin"?Uv:E?vg:z_}const k=E=>E.clickHandler(l,r);return n.$$.update=()=>{n.$$.dirty&2&&t(0,r=f.mode),n.$$.dirty&2&&t(4,l=f.symbol),n.$$.dirty&1536&&t(3,i=jh({LG:c,crossLeverage:o})),n.$$.dirty&257&&t(2,s=v(a,r))},[r,f,s,i,l,d,h,m,a,o,c,k]}let yg=class extends je{constructor(e){super(),We(this,e,bg,gg,Fe,{})}};function Mc(n){let e,t,r=n[3](Cl.StandardMode)+"",l,i,s,a=n[3](Cl.TradingBotMode)+"",o,c,f;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);l=D(m,r),m.forEach(p),i=C(h),s=b(h,"DIV",{class:!0});var v=y(s);o=D(v,a),v.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","f1 H-1pzkjg"),$e(t,"active",n[0]==="Standard"),_(s,"class","f1 H-1pzkjg"),$e(s,"active",n[0]==="Strategy"),_(e,"class","strategy-tabs df f14 cp H-1pzkjg")},m(d,h){Y(d,e,h),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),c||(f=[Je(t,"click",n[7]),Je(s,"click",n[8])],c=!0)},p(d,h){h&8&&r!==(r=d[3](Cl.StandardMode)+"")&&N(l,r),h&1&&$e(t,"active",d[0]==="Standard"),h&8&&a!==(a=d[3](Cl.TradingBotMode)+"")&&N(o,a),h&1&&$e(s,"active",d[0]==="Strategy")},d(d){d&&p(e),c=!1,an(f)}}}function Eg(n){let e,t;return e=new yg({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function kg(n){let e,t;return e=new Qh({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Lc(n){let e,t;return e=new ip({props:{processing:n[5]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&32&&(i.processing=r[5]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function wg(n){let e,t,r,l,i,s,a,o=n[1]&&n[2]==="Home"&&Mc(n);r=new xt({props:{active:n[0]==="Standard",$$slots:{default:[Eg]},$$scope:{ctx:n}}}),i=new xt({props:{active:n[0]==="Strategy",$$slots:{default:[kg]},$$scope:{ctx:n}}});let c=n[4]&&Lc(n);return{c(){e=g("section"),o&&o.c(),t=S(),le(r.$$.fragment),l=S(),le(i.$$.fragment),s=S(),c&&c.c(),this.h()},l(f){e=b(f,"SECTION",{class:!0});var d=y(e);o&&o.l(d),t=C(d),ae(r.$$.fragment,d),l=C(d),ae(i.$$.fragment,d),s=C(d),c&&c.l(d),d.forEach(p),this.h()},h(){_(e,"class","wrap df fdc wp100 B1 g12 H-1pzkjg")},m(f,d){Y(f,e,d),o&&o.m(e,null),u(e,t),ie(r,e,null),u(e,l),ie(i,e,null),u(e,s),c&&c.m(e,null),a=!0},p(f,[d]){f[1]&&f[2]==="Home"?o?o.p(f,d):(o=Mc(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null);const h={};d&1&&(h.active=f[0]==="Standard"),d&1024&&(h.$$scope={dirty:d,ctx:f}),r.$set(h);const m={};d&1&&(m.active=f[0]==="Strategy"),d&1024&&(m.$$scope={dirty:d,ctx:f}),i.$set(m),f[4]?c?(c.p(f,d),d&16&&H(c,1)):(c=Lc(f),c.c(),H(c,1),c.m(e,null)):c&&(Ze(),U(c,1,1,()=>{c=null}),xe())},i(f){a||(H(r.$$.fragment,f),H(i.$$.fragment,f),H(c),a=!0)},o(f){U(r.$$.fragment,f),U(i.$$.fragment,f),U(c),a=!1},d(f){f&&p(e),o&&o.d(),se(r),se(i),c&&c.d()}}}function $g(n,e,t){let r,l,i,s,a,o,c,f;ne(n,Es,m=>t(9,l=m)),ne(n,ns,m=>t(6,i=m)),ne(n,Ps,m=>t(1,s=m)),ne(n,Zo,m=>t(2,a=m)),ne(n,it,m=>t(3,o=m)),ne(n,Od,m=>t(4,c=m)),ne(n,Ia,m=>t(5,f=m)),Ct(()=>{const m=Ld.parseUrl(l);m.isStrategy&&ns.next("Strategy"),m.type==="spot_grid"&&Zo.next("SpotGrid")});const d=()=>ns.next("Standard"),h=()=>ns.next("Strategy");return n.$$.update=()=>{n.$$.dirty&64&&t(0,r=i)},[r,s,a,o,c,f,i,d,h]}let Sg=class extends je{constructor(e){super(),We(this,e,$g,wg,Fe,{})}};function Cg(n){let e,t,r,l,i,s,a,o;const c=n[10].default,f=Cr(c,n,n[9],null);return{c(){e=g("div"),t=g("div"),r=g("div"),f&&f.c(),this.h()},l(d){e=b(d,"DIV",{class:!0,"data-popper-placement":!0,role:!0});var h=y(e);t=b(h,"DIV",{class:!0,style:!0});var m=y(t);r=b(m,"DIV",{class:!0});var v=y(r);f&&f.l(v),v.forEach(p),m.forEach(p),h.forEach(p),this.h()},h(){_(r,"class","content f14 H-1fc7wkb"),_(t,"class","tooltip H-1fc7wkb"),yn(t,"min-width",n[1]),yn(t,"background",n[0]||""),_(e,"class",l="tooltip-container "+n[3]+" H-1fc7wkb"),_(e,"data-popper-placement",hp),_(e,"role","tooltip")},m(d,h){Y(d,e,h),u(e,t),u(t,r),f&&f.m(r,null),n[11](e),s=!0,a||(o=[Je(e,"mouseenter",n[4]),Je(e,"mouseleave",n[5])],a=!0)},p(d,[h]){f&&f.p&&(!s||h&512)&&Tr(f,c,d,d[9],s?Pr(c,d[9],h,null):Ir(d[9]),null),(!s||h&2)&&yn(t,"min-width",d[1]),(!s||h&1)&&yn(t,"background",d[0]||""),(!s||h&8&&l!==(l="tooltip-container "+d[3]+" H-1fc7wkb"))&&_(e,"class",l)},i(d){s||(H(f,d),qr(()=>{s&&(i||(i=Yo(e,la,{},!0)),i.run(1))}),s=!0)},o(d){U(f,d),i||(i=Yo(e,la,{},!1)),i.run(0),s=!1},d(d){d&&p(e),f&&f.d(d),n[11](null),d&&i&&i.end(),a=!1,an(o)}}}let hp="bottom-start";function Tg(n,e,t){let r,{$$slots:l={},$$scope:i}=e,{anchorNode:s}=e,{hover:a}=e,{background:o=""}=e,{minWidth:c="240px"}=e,{theme:f=void 0}=e,d;function h(E,T){!E||!T||Id(T,E,{placement:hp,modifiers:[{name:"offset",options:{offset:[0,0]}}]})}function m(){t(6,a=!0)}function v(){t(6,a=!1)}function k(E){Ue[E?"unshift":"push"](()=>{d=E,t(2,d)})}return n.$$set=E=>{"anchorNode"in E&&t(7,s=E.anchorNode),"hover"in E&&t(6,a=E.hover),"background"in E&&t(0,o=E.background),"minWidth"in E&&t(1,c=E.minWidth),"theme"in E&&t(8,f=E.theme),"$$scope"in E&&t(9,i=E.$$scope)},n.$$.update=()=>{n.$$.dirty&256&&t(3,r=Zp[f]||""),n.$$.dirty&132&&h(d,s)},[o,c,d,r,m,v,a,s,f,i,l,k]}let Ig=class extends je{constructor(e){super(),We(this,e,Tg,Cg,Fe,{anchorNode:7,hover:6,background:0,minWidth:1,theme:8})}get anchorNode(){return this.$$.ctx[7]}set anchorNode(e){this.$$set({anchorNode:e}),Kn()}get hover(){return this.$$.ctx[6]}set hover(e){this.$$set({hover:e}),Kn()}get background(){return this.$$.ctx[0]}set background(e){this.$$set({background:e}),Kn()}get minWidth(){return this.$$.ctx[1]}set minWidth(e){this.$$set({minWidth:e}),Kn()}get theme(){return this.$$.ctx[8]}set theme(e){this.$$set({theme:e}),Kn()}};const Pg=n=>({}),Nc=n=>({});function Uc(n){let e,t,r=(n[7]||n[5])&&zc(n);return{c(){r&&r.c(),e=Ke()},l(l){r&&r.l(l),e=Ke()},m(l,i){r&&r.m(l,i),Y(l,e,i),t=!0},p(l,i){l[7]||l[5]?r?(r.p(l,i),i&160&&H(r,1)):(r=zc(l),r.c(),H(r,1),r.m(e.parentNode,e)):r&&(Ze(),U(r,1,1,()=>{r=null}),xe())},i(l){t||(H(r),t=!0)},o(l){U(r),t=!1},d(l){r&&r.d(l),l&&p(e)}}}function zc(n){let e,t,r;function l(s){n[14](s)}let i={theme:n[1],background:n[2],minWidth:n[3],anchorNode:n[6],$$slots:{default:[Bg]},$$scope:{ctx:n}};return n[5]!==void 0&&(i.hover=n[5]),e=new Ig({props:i}),Ue.push(()=>Ge(e,"hover",l)),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){const o={};a&2&&(o.theme=s[1]),a&4&&(o.background=s[2]),a&8&&(o.minWidth=s[3]),a&64&&(o.anchorNode=s[6]),a&32768&&(o.$$scope={dirty:a,ctx:s}),!t&&a&32&&(t=!0,o.hover=s[5],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function Bg(n){let e;const t=n[12].popup,r=Cr(t,n,n[15],Nc);return{c(){r&&r.c()},l(l){r&&r.l(l)},m(l,i){r&&r.m(l,i),e=!0},p(l,i){r&&r.p&&(!e||i&32768)&&Tr(r,t,l,l[15],e?Pr(t,l[15],i,Pg):Ir(l[15]),Nc)},i(l){e||(H(r,l),e=!0)},o(l){U(r,l),e=!1},d(l){r&&r.d(l)}}}function qg(n){let e,t,r,l;const i=n[12].default,s=Cr(i,n,n[15],null);let a=n[0]&&n[8].popup&&Uc(n);return{c(){e=g("div"),s&&s.c(),t=S(),a&&a.c(),r=Ke(),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);s&&s.l(c),c.forEach(p),t=C(o),a&&a.l(o),r=Ke(),this.h()},h(){_(e,"class","dib"),$e(e,"tdud",n[4]),$e(e,"ch",n[4])},m(o,c){Y(o,e,c),s&&s.m(e,null),n[13](e),Y(o,t,c),a&&a.m(o,c),Y(o,r,c),l=!0},p(o,[c]){s&&s.p&&(!l||c&32768)&&Tr(s,i,o,o[15],l?Pr(i,o[15],c,null):Ir(o[15]),null),(!l||c&16)&&$e(e,"tdud",o[4]),(!l||c&16)&&$e(e,"ch",o[4]),o[0]&&o[8].popup?a?(a.p(o,c),c&257&&H(a,1)):(a=Uc(o),a.c(),H(a,1),a.m(r.parentNode,r)):a&&(Ze(),U(a,1,1,()=>{a=null}),xe())},i(o){l||(H(s,o),H(a),l=!0)},o(o){U(s,o),U(a),l=!1},d(o){o&&p(e),s&&s.d(o),n[13](null),o&&p(t),a&&a.d(o),o&&p(r)}}}function Dg(n,e,t){let{$$slots:r={},$$scope:l}=e;const i=Bp(r),s=["mouseenter","focus"],a=["mouseleave","blur"];let{showDelay:o=500}=e,{hideDelay:c=0}=e,{hasPopup:f=!0}=e,{visible:d=void 0}=e,{theme:h=void 0}=e,{background:m=""}=e,{minWidth:v=""}=e,{border:k=!0}=e,E=!1,T=null,w=!1,I=null,A=null;Ct(()=>{d===void 0&&(s.forEach(F=>T.addEventListener(F,V)),a.forEach(F=>T.addEventListener(F,$)))}),Td(()=>{d===void 0&&(s.forEach(F=>T.removeEventListener(F,V)),a.forEach(F=>T.removeEventListener(F,$)))});function B(F){F?(t(7,w=!0),t(5,E=!0)):(t(7,w=!1),t(5,E=!1))}function V(){A&&clearTimeout(A),I=setTimeout(()=>{t(7,w=!0)},o)}function $(){I&&clearTimeout(I),A=setTimeout(()=>{t(7,w=!1)},c)}function P(F){Ue[F?"unshift":"push"](()=>{T=F,t(6,T)})}function z(F){E=F,t(5,E)}return n.$$set=F=>{"showDelay"in F&&t(9,o=F.showDelay),"hideDelay"in F&&t(10,c=F.hideDelay),"hasPopup"in F&&t(0,f=F.hasPopup),"visible"in F&&t(11,d=F.visible),"theme"in F&&t(1,h=F.theme),"background"in F&&t(2,m=F.background),"minWidth"in F&&t(3,v=F.minWidth),"border"in F&&t(4,k=F.border),"$$scope"in F&&t(15,l=F.$$scope)},n.$$.update=()=>{n.$$.dirty&2048&&B(d)},[f,h,m,v,k,E,T,w,i,o,c,d,r,P,z,l]}let Ag=class extends je{constructor(e){super(),We(this,e,Dg,qg,Fe,{showDelay:9,hideDelay:10,hasPopup:0,visible:11,theme:1,background:2,minWidth:3,border:4})}};function Fc(n){let e,t,r=n[1](_n.LearnMore,{Coin:n[0].baseCurrency})+"",l,i;return{c(){e=g("p"),t=g("a"),l=q(r),this.h()},l(s){e=b(s,"P",{});var a=y(e);t=b(a,"A",{href:!0,target:!0});var o=y(t);l=D(o,r),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"href",i=n[3](n[2].academyUrl)),_(t,"target","_blank")},m(s,a){Y(s,e,a),u(e,t),u(t,l)},p(s,a){a&3&&r!==(r=s[1](_n.LearnMore,{Coin:s[0].baseCurrency})+"")&&N(l,r),a&12&&i!==(i=s[3](s[2].academyUrl))&&_(t,"href",i)},d(s){s&&p(e)}}}function Rc(n){let e,t,r,l,i,s=n[1](_n.Explore)+"",a,o;return{c(){e=g("a"),t=g("i"),r=q(""),l=S(),i=g("span"),a=q(s),this.h()},l(c){e=b(c,"A",{href:!0,target:!0,class:!0});var f=y(e);t=b(f,"I",{class:!0});var d=y(t);r=D(d,""),d.forEach(p),l=C(f),i=b(f,"SPAN",{class:!0});var h=y(i);a=D(h,s),h.forEach(p),f.forEach(p),this.h()},h(){_(t,"class","iconfont f20"),_(i,"class","ml8"),_(e,"href",o=n[2].blockExplorerUrl),_(e,"target","_blank"),_(e,"class","H-1hpgocf")},m(c,f){Y(c,e,f),u(e,t),u(t,r),u(e,l),u(e,i),u(i,a)},p(c,f){f&2&&s!==(s=c[1](_n.Explore)+"")&&N(a,s),f&4&&o!==(o=c[2].blockExplorerUrl)&&_(e,"href",o)},d(c){c&&p(e)}}}function Qc(n){let e,t,r,l,i,s=n[1](_n.Website)+"",a,o;return{c(){e=g("a"),t=g("i"),r=q(""),l=S(),i=g("span"),a=q(s),this.h()},l(c){e=b(c,"A",{href:!0,target:!0,class:!0});var f=y(e);t=b(f,"I",{class:!0});var d=y(t);r=D(d,""),d.forEach(p),l=C(f),i=b(f,"SPAN",{class:!0});var h=y(i);a=D(h,s),h.forEach(p),f.forEach(p),this.h()},h(){_(t,"class","iconfont f20"),_(i,"class","ml8"),_(e,"href",o=n[2].websiteUrl),_(e,"target","_blank"),_(e,"class","H-1hpgocf")},m(c,f){Y(c,e,f),u(e,t),u(t,r),u(e,l),u(e,i),u(i,a)},p(c,f){f&2&&s!==(s=c[1](_n.Website)+"")&&N(a,s),f&4&&o!==(o=c[2].websiteUrl)&&_(e,"href",o)},d(c){c&&p(e)}}}function jc(n){let e,t,r,l,i,s=n[1](_n.BuyCoin,{Coin:n[0].baseCurrency})+"",a,o;return{c(){e=g("a"),t=g("img"),l=S(),i=g("span"),a=q(s),this.h()},l(c){e=b(c,"A",{href:!0,class:!0});var f=y(e);t=b(f,"IMG",{src:!0,alt:!0,class:!0}),l=C(f),i=b(f,"SPAN",{class:!0});var d=y(i);a=D(d,s),d.forEach(p),f.forEach(p),this.h()},h(){Yt(t.src,r=xp.OTC)||_(t,"src",r),_(t,"alt","buy crypto"),_(t,"class","H-1hpgocf"),_(i,"class","buy-coin ml8 H-1hpgocf"),_(e,"href",o=n[4](Dt.BUY_CRYPTO_PLACE_ORDER)+"?currency="+n[0].baseCurrency),_(e,"class","H-1hpgocf")},m(c,f){Y(c,e,f),u(e,t),u(e,l),u(e,i),u(i,a)},p(c,f){f&3&&s!==(s=c[1](_n.BuyCoin,{Coin:c[0].baseCurrency})+"")&&N(a,s),f&17&&o!==(o=c[4](Dt.BUY_CRYPTO_PLACE_ORDER)+"?currency="+c[0].baseCurrency)&&_(e,"href",o)},d(c){c&&p(e)}}}function Vg(n){let e,t,r,l,i,s,a,o=n[0].baseCurrency+"",c,f,d,h,m=n[0].name+"",v,k,E,T,w,I,A,B,V=n[1](_n.MaxSupply)+"",$,P,z,F=(n[2].maximumSupply?yt.delimit(yt.floor(n[2].maximumSupply,0)):"--")+"",O,M,L,Q,j=n[1](_n.LaunchPrice)+"",K,W,Z,J=n[2].launchingPrice?"$"+n[2].launchingPrice:"--",R,X,te,oe,x=n[1](_n.LaunchDate)+"",de,G,re,ge=(n[2].launchingDate||"--")+"",Ee,we,ee,me,Se=n[1](_n.Introduction)+"",qe,Ce,Be,ce,fe=(n[2].description||"--")+"",Ve,Ie,be,_e,ve,ke;T=new ch({props:{data:n[0].klineData,change:n[0].change24hEp,width:60,height:12}});let Ne=n[2].academyUrl&&Fc(n),Te=n[2].blockExplorerUrl&&Rc(n),He=n[2].websiteUrl&&Qc(n),ye=n[2].ccPurchasable&&jc(n);return{c(){e=g("div"),t=g("div"),r=g("img"),s=S(),a=g("p"),c=q(o),f=S(),d=g("p"),h=q("("),v=q(m),k=q(")"),E=S(),le(T.$$.fragment),w=S(),I=g("div"),A=g("div"),B=g("p"),$=q(V),P=S(),z=g("p"),O=q(F),M=S(),L=g("div"),Q=g("p"),K=q(j),W=S(),Z=g("p"),R=q(J),X=S(),te=g("div"),oe=g("p"),de=q(x),G=S(),re=g("p"),Ee=q(ge),we=S(),ee=g("div"),me=g("p"),qe=q(Se),Ce=S(),Be=g("div"),ce=g("p"),Ve=S(),Ne&&Ne.c(),Ie=S(),be=g("div"),Te&&Te.c(),_e=S(),He&&He.c(),ve=S(),ye&&ye.c(),this.h()},l(Pe){e=b(Pe,"DIV",{class:!0});var De=y(e);t=b(De,"DIV",{class:!0});var Re=y(t);r=b(Re,"IMG",{alt:!0,class:!0,src:!0,width:!0,height:!0}),s=C(Re),a=b(Re,"P",{class:!0});var et=y(a);c=D(et,o),et.forEach(p),f=C(Re),d=b(Re,"P",{class:!0});var he=y(d);h=D(he,"("),v=D(he,m),k=D(he,")"),he.forEach(p),E=C(Re),ae(T.$$.fragment,Re),Re.forEach(p),w=C(De),I=b(De,"DIV",{});var pe=y(I);A=b(pe,"DIV",{class:!0});var ue=y(A);B=b(ue,"P",{});var Ae=y(B);$=D(Ae,V),Ae.forEach(p),P=C(ue),z=b(ue,"P",{class:!0});var nt=y(z);O=D(nt,F),nt.forEach(p),ue.forEach(p),M=C(pe),L=b(pe,"DIV",{class:!0});var lt=y(L);Q=b(lt,"P",{});var st=y(Q);K=D(st,j),st.forEach(p),W=C(lt),Z=b(lt,"P",{class:!0});var ft=y(Z);R=D(ft,J),ft.forEach(p),lt.forEach(p),X=C(pe),te=b(pe,"DIV",{class:!0});var mt=y(te);oe=b(mt,"P",{});var at=y(oe);de=D(at,x),at.forEach(p),G=C(mt),re=b(mt,"P",{class:!0});var pt=y(re);Ee=D(pt,ge),pt.forEach(p),mt.forEach(p),pe.forEach(p),we=C(De),ee=b(De,"DIV",{class:!0});var Le=y(ee);me=b(Le,"P",{class:!0});var Xe=y(me);qe=D(Xe,Se),Xe.forEach(p),Ce=C(Le),Be=b(Le,"DIV",{class:!0});var _t=y(Be);ce=b(_t,"P",{});var Jt=y(ce);Jt.forEach(p),_t.forEach(p),Ve=C(Le),Ne&&Ne.l(Le),Le.forEach(p),Ie=C(De),be=b(De,"DIV",{class:!0});var Ft=y(be);Te&&Te.l(Ft),_e=C(Ft),He&&He.l(Ft),ve=C(Ft),ye&&ye.l(Ft),Ft.forEach(p),De.forEach(p),this.h()},h(){_(r,"alt",l=n[0].baseCurrency),_(r,"class","icon mr12 H-1hpgocf"),Yt(r.src,i=ql.getUrl(n[0].baseCurrency))||_(r,"src",i),_(r,"width","24"),_(r,"height","24"),_(a,"class","white H-1hpgocf"),_(d,"class","H-1hpgocf"),_(t,"class","symbol df aic H-1hpgocf"),_(z,"class","white H-1hpgocf"),_(A,"class","df jcsb mt12"),_(Z,"class","T1 b"),_(L,"class","df jcsb mt12"),_(re,"class","white H-1hpgocf"),_(te,"class","df jcsb mt12"),_(me,"class","white lh18 H-1hpgocf"),_(Be,"class","mt16 mb8 lh20"),_(ee,"class","mt24"),_(be,"class","link df mt24 H-1hpgocf"),_(e,"class","wrap H-1hpgocf")},m(Pe,De){Y(Pe,e,De),u(e,t),u(t,r),u(t,s),u(t,a),u(a,c),u(t,f),u(t,d),u(d,h),u(d,v),u(d,k),u(t,E),ie(T,t,null),u(e,w),u(e,I),u(I,A),u(A,B),u(B,$),u(A,P),u(A,z),u(z,O),u(I,M),u(I,L),u(L,Q),u(Q,K),u(L,W),u(L,Z),u(Z,R),u(I,X),u(I,te),u(te,oe),u(oe,de),u(te,G),u(te,re),u(re,Ee),u(e,we),u(e,ee),u(ee,me),u(me,qe),u(ee,Ce),u(ee,Be),u(Be,ce),ce.innerHTML=fe,u(ee,Ve),Ne&&Ne.m(ee,null),u(e,Ie),u(e,be),Te&&Te.m(be,null),u(be,_e),He&&He.m(be,null),u(be,ve),ye&&ye.m(be,null),ke=!0},p(Pe,[De]){(!ke||De&1&&l!==(l=Pe[0].baseCurrency))&&_(r,"alt",l),(!ke||De&1&&!Yt(r.src,i=ql.getUrl(Pe[0].baseCurrency)))&&_(r,"src",i),(!ke||De&1)&&o!==(o=Pe[0].baseCurrency+"")&&N(c,o),(!ke||De&1)&&m!==(m=Pe[0].name+"")&&N(v,m);const Re={};De&1&&(Re.data=Pe[0].klineData),De&1&&(Re.change=Pe[0].change24hEp),T.$set(Re),(!ke||De&2)&&V!==(V=Pe[1](_n.MaxSupply)+"")&&N($,V),(!ke||De&4)&&F!==(F=(Pe[2].maximumSupply?yt.delimit(yt.floor(Pe[2].maximumSupply,0)):"--")+"")&&N(O,F),(!ke||De&2)&&j!==(j=Pe[1](_n.LaunchPrice)+"")&&N(K,j),(!ke||De&4)&&J!==(J=Pe[2].launchingPrice?"$"+Pe[2].launchingPrice:"--")&&N(R,J),(!ke||De&2)&&x!==(x=Pe[1](_n.LaunchDate)+"")&&N(de,x),(!ke||De&4)&&ge!==(ge=(Pe[2].launchingDate||"--")+"")&&N(Ee,ge),(!ke||De&2)&&Se!==(Se=Pe[1](_n.Introduction)+"")&&N(qe,Se),(!ke||De&4)&&fe!==(fe=(Pe[2].description||"--")+"")&&(ce.innerHTML=fe),Pe[2].academyUrl?Ne?Ne.p(Pe,De):(Ne=Fc(Pe),Ne.c(),Ne.m(ee,null)):Ne&&(Ne.d(1),Ne=null),Pe[2].blockExplorerUrl?Te?Te.p(Pe,De):(Te=Rc(Pe),Te.c(),Te.m(be,_e)):Te&&(Te.d(1),Te=null),Pe[2].websiteUrl?He?He.p(Pe,De):(He=Qc(Pe),He.c(),He.m(be,ve)):He&&(He.d(1),He=null),Pe[2].ccPurchasable?ye?ye.p(Pe,De):(ye=jc(Pe),ye.c(),ye.m(be,null)):ye&&(ye.d(1),ye=null)},i(Pe){ke||(H(T.$$.fragment,Pe),ke=!0)},o(Pe){U(T.$$.fragment,Pe),ke=!1},d(Pe){Pe&&p(e),se(T),Ne&&Ne.d(),Te&&Te.d(),He&&He.d(),ye&&ye.d()}}}function Hg(n,e,t){let r,l,i,s,a;return ne(n,I1,o=>t(0,r=o)),ne(n,it,o=>t(1,l=o)),ne(n,Jd,o=>t(2,i=o)),ne(n,fa,o=>t(3,s=o)),ne(n,er,o=>t(4,a=o)),[r,l,i,s,a]}let Og=class extends je{constructor(e){super(),We(this,e,Hg,Vg,Fe,{})}};function Wc(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","db iconfont f12 T3")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function Mg(n){let e,t,r,l,i,s,a,o,c,f,d=n[5].displaySymbol+"",h,m,v,k,E=n[4]&&Wc();return{c(){e=g("h1"),t=g("i"),r=q(""),l=S(),i=g("img"),o=S(),c=g("div"),f=g("span"),h=q(d),m=S(),E&&E.c(),this.h()},l(T){e=b(T,"H1",{class:!0});var w=y(e);t=b(w,"I",{class:!0});var I=y(t);r=D(I,""),I.forEach(p),l=C(w),i=b(w,"IMG",{width:!0,src:!0,alt:!0}),o=C(w),c=b(w,"DIV",{class:!0});var A=y(c);f=b(A,"SPAN",{});var B=y(f);h=D(B,d),B.forEach(p),A.forEach(p),m=C(w),E&&E.l(w),w.forEach(p),this.h()},h(){_(t,"class","menu iconfont f22 mr8 fw2 T1 H-1t2txso"),_(i,"width","24"),Yt(i.src,s=ql.getUrl(n[5].baseCurrency))||_(i,"src",s),_(i,"alt",a=n[5].baseCurrency),_(c,"class","symbol df aic mh8 f16 fw2 wsn T1"),_(e,"class","symbol-box df aic cp H-1t2txso")},m(T,w){Y(T,e,w),u(e,t),u(t,r),u(e,l),u(e,i),u(e,o),u(e,c),u(c,f),u(f,h),u(e,m),E&&E.m(e,null),v||(k=[Je(e,"mousedown",Fa),Je(e,"mouseenter",n[9]),Je(e,"click",n[10])],v=!0)},p(T,w){w&32&&!Yt(i.src,s=ql.getUrl(T[5].baseCurrency))&&_(i,"src",s),w&32&&a!==(a=T[5].baseCurrency)&&_(i,"alt",a),w&32&&d!==(d=T[5].displaySymbol+"")&&N(h,d),T[4]?E||(E=Wc(),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(T){T&&p(e),E&&E.d(),v=!1,an(k)}}}function Lg(n){let e,t,r,l,i;return t=new Og({}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(s){e=b(s,"DIV",{style:!0,slot:!0});var a=y(e);ae(t.$$.fragment,a),a.forEach(p),this.h()},h(){yn(e,"cursor","auto"),_(e,"slot","popup")},m(s,a){Y(s,e,a),ie(t,e,null),r=!0,l||(i=Je(e,"mousedown",Fa),l=!0)},p:Qe,i(s){r||(H(t.$$.fragment,s),r=!0)},o(s){U(t.$$.fragment,s),r=!1},d(s){s&&p(e),se(t),l=!1,i()}}}function Gc(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont T2 H-1t2txso"),_(e,"class","arrow arrow-left df aic usn cp H-1t2txso")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(e,"click",n[11]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function Ng(n){let e,t;return{c(){e=g("div"),t=q("--"),this.h()},l(r){e=b(r,"DIV",{class:!0});var l=y(e);t=D(l,"--"),l.forEach(p),this.h()},h(){_(e,"class","value H-1t2txso")},m(r,l){Y(r,e,l),u(e,t)},p:Qe,d(r){r&&p(e)}}}function Ug(n){let e,t=n[1].change24hStr+"",r,l,i=n[1].changePercentStr+"",s;return{c(){e=g("div"),r=q(t),l=S(),s=q(i),this.h()},l(a){e=b(a,"DIV",{class:!0});var o=y(e);r=D(o,t),l=C(o),s=D(o,i),o.forEach(p),this.h()},h(){_(e,"class","value H-1t2txso"),$e(e,"up",n[1].change24hEp>0),$e(e,"down",n[1].change24hEp<0)},m(a,o){Y(a,e,o),u(e,r),u(e,l),u(e,s)},p(a,o){o&2&&t!==(t=a[1].change24hStr+"")&&N(r,t),o&2&&i!==(i=a[1].changePercentStr+"")&&N(s,i),o&2&&$e(e,"up",a[1].change24hEp>0),o&2&&$e(e,"down",a[1].change24hEp<0)},d(a){a&&p(e)}}}function Yc(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont T2 H-1t2txso"),_(e,"class","arrow arrow-right df aic jcfe usn cp H-1t2txso")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(e,"click",n[12]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function zg(n){let e,t,r,l,i,s,a,o,c,f,d=n[8](El.Change24)+"",h,m,v,k,E,T=n[8](El.HighLow24)+"",w,I,A,B=n[1].high+"",V,$,P=n[1].low+"",z,F,O,M,L=n[8](El.Volume24h)+"",Q,j,K,W=n[1].volume24hStr+"",Z,J,R=n[1].displayBaseCurrency+"",X,te,oe,x,de;t=new Ag({props:{hasPopup:!!n[4],border:!1,$$slots:{popup:[Lg],default:[Mg]},$$scope:{ctx:n}}}),l=new np({props:{size:"f20",symbol:n[1].symbol,market:n[5].status==="Listed"?n[6]:n[1],items:n[7]}});let G=n[2]&&Gc(n);function re(ee,me){return ee[1].status==="Listed"?Ug:Ng}let ge=re(n),Ee=ge(n),we=n[3]&&Yc(n);return{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),i=S(),s=g("div"),G&&G.c(),a=S(),o=g("div"),c=g("div"),f=g("div"),h=q(d),m=S(),Ee.c(),v=S(),k=g("div"),E=g("div"),w=q(T),I=S(),A=g("div"),V=q(B),$=q("/"),z=q(P),F=S(),O=g("div"),M=g("div"),Q=q(L),j=S(),K=g("div"),Z=q(W),J=S(),X=q(R),te=S(),we&&we.c(),this.h()},l(ee){e=b(ee,"DIV",{class:!0});var me=y(e);ae(t.$$.fragment,me),r=C(me),ae(l.$$.fragment,me),i=C(me),s=b(me,"DIV",{class:!0});var Se=y(s);G&&G.l(Se),a=C(Se),o=b(Se,"DIV",{class:!0});var qe=y(o);c=b(qe,"DIV",{class:!0});var Ce=y(c);f=b(Ce,"DIV",{class:!0});var Be=y(f);h=D(Be,d),Be.forEach(p),m=C(Ce),Ee.l(Ce),Ce.forEach(p),v=C(qe),k=b(qe,"DIV",{class:!0});var ce=y(k);E=b(ce,"DIV",{class:!0});var fe=y(E);w=D(fe,T),fe.forEach(p),I=C(ce),A=b(ce,"DIV",{class:!0});var Ve=y(A);V=D(Ve,B),$=D(Ve,"/"),z=D(Ve,P),Ve.forEach(p),ce.forEach(p),F=C(qe),O=b(qe,"DIV",{class:!0});var Ie=y(O);M=b(Ie,"DIV",{class:!0});var be=y(M);Q=D(be,L),be.forEach(p),j=C(Ie),K=b(Ie,"DIV",{class:!0});var _e=y(K);Z=D(_e,W),J=C(_e),X=D(_e,R),_e.forEach(p),Ie.forEach(p),qe.forEach(p),te=C(Se),we&&we.l(Se),Se.forEach(p),me.forEach(p),this.h()},h(){_(f,"class","key H-1t2txso"),_(c,"class","kv H-1t2txso"),_(E,"class","key H-1t2txso"),_(A,"class","value H-1t2txso"),_(k,"class","kv H-1t2txso"),_(M,"class","key H-1t2txso"),_(K,"class","value H-1t2txso"),_(O,"class","kv H-1t2txso"),_(o,"class","container-main"),_(s,"class","container pr df aic wsn H-1t2txso"),_(e,"class","wrap f1 df aic pl16 H-1t2txso")},m(ee,me){Y(ee,e,me),ie(t,e,null),u(e,r),ie(l,e,null),u(e,i),u(e,s),G&&G.m(s,null),u(s,a),u(s,o),u(o,c),u(c,f),u(f,h),u(c,m),Ee.m(c,null),u(o,v),u(o,k),u(k,E),u(E,w),u(k,I),u(k,A),u(A,V),u(A,$),u(A,z),u(o,F),u(o,O),u(O,M),u(M,Q),u(O,j),u(O,K),u(K,Z),u(K,J),u(K,X),n[15](o),u(s,te),we&&we.m(s,null),oe=!0,x||(de=[Je(o,"scroll",n[13]),Je(s,"mousedown",Fa)],x=!0)},p(ee,[me]){const Se={};me&16&&(Se.hasPopup=!!ee[4]),me&524336&&(Se.$$scope={dirty:me,ctx:ee}),t.$set(Se);const qe={};me&2&&(qe.symbol=ee[1].symbol),me&98&&(qe.market=ee[5].status==="Listed"?ee[6]:ee[1]),me&128&&(qe.items=ee[7]),l.$set(qe),ee[2]?G?G.p(ee,me):(G=Gc(ee),G.c(),G.m(s,a)):G&&(G.d(1),G=null),(!oe||me&256)&&d!==(d=ee[8](El.Change24)+"")&&N(h,d),ge===(ge=re(ee))&&Ee?Ee.p(ee,me):(Ee.d(1),Ee=ge(ee),Ee&&(Ee.c(),Ee.m(c,null))),(!oe||me&256)&&T!==(T=ee[8](El.HighLow24)+"")&&N(w,T),(!oe||me&2)&&B!==(B=ee[1].high+"")&&N(V,B),(!oe||me&2)&&P!==(P=ee[1].low+"")&&N(z,P),(!oe||me&256)&&L!==(L=ee[8](El.Volume24h)+"")&&N(Q,L),(!oe||me&2)&&W!==(W=ee[1].volume24hStr+"")&&N(Z,W),(!oe||me&2)&&R!==(R=ee[1].displayBaseCurrency+"")&&N(X,R),ee[3]?we?we.p(ee,me):(we=Yc(ee),we.c(),we.m(s,null)):we&&(we.d(1),we=null)},i(ee){oe||(H(t.$$.fragment,ee),H(l.$$.fragment,ee),oe=!0)},o(ee){U(t.$$.fragment,ee),U(l.$$.fragment,ee),oe=!1},d(ee){ee&&p(e),se(t),se(l),G&&G.d(),Ee.d(),n[15](null),we&&we.d(),x=!1,an(de)}}}function Fa(n){n.stopPropagation()}function Fg(){return{change24hEp:0,change24hStr:"0",changePercentStr:"--%",high:"-",low:"-",turnoverStr:"-",displayBaseCurrency:"-",displaySymbol:"-",volume24hStr:"-"}}function Rg(n,e,t){let r,l,i,s,a,o;ne(n,Un,V=>t(14,r=V)),ne(n,Jd,V=>t(4,l=V)),ne(n,Ht,V=>t(5,i=V)),ne(n,Fl,V=>t(6,s=V)),ne(n,Nd,V=>t(7,a=V)),ne(n,it,V=>t(8,o=V));let c,f,d=!1,h=!1;Ct(()=>{if(!c||!window.ResizeObserver)return;const V=new ResizeObserver(v);return V.observe(c),function(){V.unobserve(c),V.disconnect()}});function m(V){t(1,f=V||Fg())}function v(){c&&A(c)}function k(){wr.track("coins_pop_exposure",{pop_location:"spot_trade",Coin:f.baseCurrency})}function E(){It.create(F1)}function T(){t(0,c.scrollLeft-=110,c)}function w(){t(0,c.scrollLeft+=110,c)}function I(V){A(V.target)}function A(V){t(2,d=!1),t(3,h=!1);const{scrollLeft:$,clientWidth:P,scrollWidth:z}=V;z-P===$&&z!==P&&(t(2,d=!0),t(3,h=!1)),z-P>$&&(t(3,h=!0),t(2,d=!0)),z-P>$&&$===0&&t(2,d=!1)}function B(V){Ue[V?"unshift":"push"](()=>{c=V,t(0,c)})}return n.$$.update=()=>{n.$$.dirty&16384&&m(r)},[c,f,d,h,l,i,s,a,o,k,E,T,w,I,r,B]}let Qg=class extends je{constructor(e){super(),We(this,e,Rg,zg,Fe,{})}};function jg(n){let e,t,r,l,i,s;return t=new Qg({}),i=new P1({}),{c(){e=g("header"),le(t.$$.fragment),r=S(),l=g("div"),le(i.$$.fragment),this.h()},l(a){e=b(a,"HEADER",{class:!0});var o=y(e);ae(t.$$.fragment,o),r=C(o),l=b(o,"DIV",{class:!0});var c=y(l);ae(i.$$.fragment,c),c.forEach(p),o.forEach(p),this.h()},h(){_(l,"class","df aic"),_(e,"class","df aic B1"),$e(e,"ml6",n[0]===An.Left),$e(e,"mr6",n[0]===An.Right)},m(a,o){Y(a,e,o),ie(t,e,null),u(e,r),u(e,l),ie(i,l,null),s=!0},p(a,[o]){(!s||o&1)&&$e(e,"ml6",a[0]===An.Left),(!s||o&1)&&$e(e,"mr6",a[0]===An.Right)},i(a){s||(H(t.$$.fragment,a),H(i.$$.fragment,a),s=!0)},o(a){U(t.$$.fragment,a),U(i.$$.fragment,a),s=!1},d(a){a&&p(e),se(t),se(i)}}}function Wg(n,e,t){let r;return ne(n,Ti,l=>t(0,r=l)),[r]}let Gg=class extends je{constructor(e){super(),We(this,e,Wg,jg,Fe,{})}};const Ra=new Ul([]),mp=new Ul(e2()),_p=new qp(1);Il.pipe(tn(n=>n.type==="incremental-order")).subscribe(n=>mp.next(n.data));Br([Ht,mp,Ud]).pipe(tn(([n,,e])=>e),tn(([n,e])=>{Ra.next([]);const{incremental:t,wo:r}=e;if(e.incremental&&r&&r.closed&&r.closed.length>0){const{leavesBaseQtyEv:l,leavesQuoteQtyEv:i,symbol:s}=r.closed[0];return l===0&&i===0&&s===n.symbol&&r.fills.length>0}return!t}),Wt(([{symbol:n}])=>({limit:50,ordType:"Trade",symbol:n}))).subscribe(n=>Yg(n));Br([Ht,Ra]).pipe(Wt(Kg),tn(Boolean)).subscribe(n=>_p.next(n));async function Yg(n){const{data:e,error:t}=await B1.getTradeHistory(n);e&&Ra.next(e.rows),t&&vt.send("toast","error",t)}function Kg([n,e]){if(!n)return null;const{pricePrecision:t,displaySymbol:r,quoteQtyScale:l,quoteCurrency:i,displayBaseCurrency:s,mode:a,quoteQtyPrecision:o,baseQtyPrecision:c}=n;return e.map(f=>{const{execId:d,orderID:h,ordType:m,symbol:v,side:k,execBaseQtyEv:E,execQuoteQtyEv:T,baseQtyEv:w,quoteQtyEv:I,qtyType:A,priceEp:B,execPriceEp:V}=f,{baseQtyScale:$,quoteQtyScale:P}=Jg(a,n),z=xs.isLiqTradeOrder(f),F=xs.isMarketOrder(f),O=yt.floor(w,c,$),M=yt.floor(E,c,$),L=yt.floor(I,o,P),Q=yt.floor(T,o,P),j=Math.floor(f.transactTimeNs/1e6);return{orderID:h,execId:d,symbol:v,displaySymbol:r,side:k,qty:xs.calcQtyWU(A,O,s,L,i),getQty:Zg(k,M,s,Q,i),spendQty:xg(k,M,s,Q,i),price:Xg(F||z,B,t,P),execPrice:yt.floor(V,t,P),ordType:m,transactTimestamp:j,transactTime:e1.formatDateTime(j),execBaseQtyEv:E,execQuoteQtyEv:T}})}function Xg(n,e,t,r){return n?"Market":yt.floor(e,t,r)}function Jg(n,{baseQtyScale:e,quoteQtyScale:t}){return n==="Margin"?{baseQtyScale:0,quoteQtyScale:0}:{baseQtyScale:e,quoteQtyScale:t}}function Zg(n,e,t,r,l){return n==="Buy"?yt.delimit(e)+" "+t:n==="Sell"?yt.delimit(r)+" "+l:""}function xg(n,e,t,r,l){return n==="Buy"?yt.delimit(r)+" "+l:n==="Sell"?yt.delimit(e)+" "+t:""}function e2(){return{incremental:!1,wo:{closed:[],fills:[],open:[]},type:"incremental-order"}}const At={NoData:"56b99e",Symbol:"a3f510",Side:"b699b6",GetAmount:"6caa81",ExecPrice:"04cd02",SpendAmount:"b0b2af",Amount:"a0c4f4",OrderPrice:"7d50a9",Type:"075b14",Time:"d77ae7"};function Kc(n,e,t){const r=n.slice();return r[4]=e[t],r}function Xc(n){let e,t,r=n[4].transactTime+"",l,i,s,a=n[4].getQty+"",o,c,f,d=n[4].execPrice+"",h,m,v,k=n[4].spendQty+"",E,T,w,I=n[4].qty+"",A,B;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),this.h()},l(V){e=b(V,"DIV",{class:!0});var $=y(e);t=b($,"DIV",{class:!0});var P=y(t);l=D(P,r),P.forEach(p),i=C($),s=b($,"DIV",{class:!0});var z=y(s);o=D(z,a),z.forEach(p),c=C($),f=b($,"DIV",{class:!0});var F=y(f);h=D(F,d),F.forEach(p),m=C($),v=b($,"DIV",{class:!0});var O=y(v);E=D(O,k),O.forEach(p),T=C($),w=b($,"DIV",{class:!0});var M=y(w);A=D(M,I),M.forEach(p),B=C($),$.forEach(p),this.h()},h(){_(t,"class","H-133qaof"),_(s,"class","H-133qaof"),_(f,"class","H-133qaof"),_(v,"class","H-133qaof"),_(w,"class","tr H-133qaof"),_(e,"class","tds T2 lh30 wsn H-133qaof")},m(V,$){Y(V,e,$),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B)},p(V,$){$&1&&r!==(r=V[4].transactTime+"")&&N(l,r),$&1&&a!==(a=V[4].getQty+"")&&N(o,a),$&1&&d!==(d=V[4].execPrice+"")&&N(h,d),$&1&&k!==(k=V[4].spendQty+"")&&N(E,k),$&1&&I!==(I=V[4].qty+"")&&N(A,I)},d(V){V&&p(e)}}}function t2(n){let e,t,r=n[1](Qt.Detail)+"",l,i,s,a,o,c,f,d,h=n[1](At.Time)+"",m,v,k,E=n[1](At.GetAmount)+"",T,w,I,A=n[1](At.ExecPrice)+"",B,V,$,P=n[1](At.SpendAmount)+"",z,F,O,M=n[1](At.Amount)+"",L,Q,j,K,W=n[0],Z=[];for(let J=0;J<W.length;J+=1)Z[J]=Xc(Kc(n,W,J));return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("i"),a=q(""),o=S(),c=g("div"),f=g("div"),d=g("div"),m=q(h),v=S(),k=g("div"),T=q(E),w=S(),I=g("div"),B=q(A),V=S(),$=g("div"),z=q(P),F=S(),O=g("div"),L=q(M),Q=S();for(let J=0;J<Z.length;J+=1)Z[J].c();this.h()},l(J){e=b(J,"DIV",{class:!0});var R=y(e);t=b(R,"SPAN",{class:!0});var X=y(t);l=D(X,r),X.forEach(p),i=C(R),s=b(R,"I",{class:!0});var te=y(s);a=D(te,""),te.forEach(p),R.forEach(p),o=C(J),c=b(J,"DIV",{class:!0});var oe=y(c);f=b(oe,"DIV",{class:!0});var x=y(f);d=b(x,"DIV",{class:!0});var de=y(d);m=D(de,h),de.forEach(p),v=C(x),k=b(x,"DIV",{class:!0});var G=y(k);T=D(G,E),G.forEach(p),w=C(x),I=b(x,"DIV",{class:!0});var re=y(I);B=D(re,A),re.forEach(p),V=C(x),$=b(x,"DIV",{class:!0});var ge=y($);z=D(ge,P),ge.forEach(p),F=C(x),O=b(x,"DIV",{class:!0});var Ee=y(O);L=D(Ee,M),Ee.forEach(p),x.forEach(p),Q=C(oe);for(let we=0;we<Z.length;we+=1)Z[we].l(oe);oe.forEach(p),this.h()},h(){_(t,"class","H-133qaof"),_(s,"class","iconfont close f16 cp H-133qaof"),_(e,"class","header ph16 T1 df aic jcsb H-133qaof"),_(d,"class","H-133qaof"),_(k,"class","H-133qaof"),_(I,"class","H-133qaof"),_($,"class","H-133qaof"),_(O,"class","tr H-133qaof"),_(f,"class","ths T1 lh30 ps wsn H-133qaof"),_(c,"class","body ph16 sv H-133qaof")},m(J,R){Y(J,e,R),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),Y(J,o,R),Y(J,c,R),u(c,f),u(f,d),u(d,m),u(f,v),u(f,k),u(k,T),u(f,w),u(f,I),u(I,B),u(f,V),u(f,$),u($,z),u(f,F),u(f,O),u(O,L),u(c,Q);for(let X=0;X<Z.length;X+=1)Z[X]&&Z[X].m(c,null);j||(K=Je(s,"click",n[2]),j=!0)},p(J,R){if(R&2&&r!==(r=J[1](Qt.Detail)+"")&&N(l,r),R&2&&h!==(h=J[1](At.Time)+"")&&N(m,h),R&2&&E!==(E=J[1](At.GetAmount)+"")&&N(T,E),R&2&&A!==(A=J[1](At.ExecPrice)+"")&&N(B,A),R&2&&P!==(P=J[1](At.SpendAmount)+"")&&N(z,P),R&2&&M!==(M=J[1](At.Amount)+"")&&N(L,M),R&1){W=J[0];let X;for(X=0;X<W.length;X+=1){const te=Kc(J,W,X);Z[X]?Z[X].p(te,R):(Z[X]=Xc(te),Z[X].c(),Z[X].m(c,null))}for(;X<Z.length;X+=1)Z[X].d(1);Z.length=W.length}},d(J){J&&p(e),J&&p(o),J&&p(c),sn(Z,J),j=!1,K()}}}function n2(n){let e,t;return e=new Kl({props:{style:"width: 800px; max-width: 800px; border-radius: 4px; background: var(--B2);",$$slots:{default:[t2]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&131&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function r2(n,e,t){let r;ne(n,it,a=>t(1,r=a));let{orders:l=[]}=e;const i=Lt();function s(){i("close")}return n.$$set=a=>{"orders"in a&&t(0,l=a.orders)},[l,r,s]}let l2=class extends je{constructor(e){super(),We(this,e,r2,n2,Fe,{orders:0})}};function i2(n,e,t){var a;const r=(a=n==null?void 0:n.tv)==null?void 0:a.chart(),l=e.direction==="LONG",i=t(l?Cl.BuyOrders:Cl.SellOrders),s=l?"#00bd84":"#f24e53";return r.createOrderLine({disableUndo:!0}).setPrice(e.price).setLineStyle(1).setLineColor(s).setLineLength(80).setText(`${i} ${e.index}`).setBodyTextColor("#fff").setBodyBackgroundColor(s).setBodyBorderColor(s).setQuantity("")}function s2(n){const e=new Map;let t=[];return this.watch=function(r,l){var i;if(!a2(t,r)){t=r;for(const[s,a]of e)a.remove();e.clear(),r.forEach(s=>{e.set(s.price,i2(n,s,l))}),r.length>0&&((i=n==null?void 0:n.tv)==null||i.chart().executeActionById("chartReset"))}},this}function a2(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++){const r=n[t],l=e[t];if(r.price!==l.price||r.index!==l.index||r.direction!==l.direction)return!1}return!0}function o2(n){let e,t,r,l,i,s,a,o=n[2](Qt.PlaceNewLimitOrder)+"",c,f,d,h,m,v,k,E=n[2](Qt.DrawHorizontalLine)+"",T,w,I,A;return{c(){e=g("div"),t=g("div"),r=g("div"),l=g("i"),i=q(""),s=S(),a=g("span"),c=q(o),f=S(),d=g("div"),h=g("i"),m=q(""),v=S(),k=g("span"),T=q(E),this.h()},l(B){e=b(B,"DIV",{class:!0,style:!0});var V=y(e);t=b(V,"DIV",{class:!0});var $=y(t);r=b($,"DIV",{class:!0});var P=y(r);l=b(P,"I",{class:!0});var z=y(l);i=D(z,""),z.forEach(p),s=C(P),a=b(P,"SPAN",{class:!0});var F=y(a);c=D(F,o),F.forEach(p),P.forEach(p),f=C($),d=b($,"DIV",{class:!0});var O=y(d);h=b(O,"I",{class:!0});var M=y(h);m=D(M,""),M.forEach(p),v=C(O),k=b(O,"SPAN",{class:!0});var L=y(k);T=D(L,E),L.forEach(p),O.forEach(p),$.forEach(p),V.forEach(p),this.h()},h(){_(l,"class","iconfont"),_(a,"class","T1"),_(r,"class","row new-order lh28 cp H-7um6zv"),_(h,"class","iconfont"),_(k,"class","T1"),_(d,"class","row horizontal-line lh28 cp H-7um6zv"),_(t,"class","container T1 H-7um6zv"),qr(()=>n[11].call(t)),_(e,"class","wrap pa br4 ovh H-7um6zv"),_(e,"style",n[1])},m(B,V){Y(B,e,V),u(e,t),u(t,r),u(r,l),u(l,i),u(r,s),u(r,a),u(a,c),u(t,f),u(t,d),u(d,h),u(h,m),u(d,v),u(d,k),u(k,T),w=$i(t,n[11].bind(t)),I||(A=[Je(r,"click",n[3]),Je(d,"click",n[4]),Je(e,"mousedown",Ln(n[10]))],I=!0)},p(B,[V]){V&4&&o!==(o=B[2](Qt.PlaceNewLimitOrder)+"")&&N(c,o),V&4&&E!==(E=B[2](Qt.DrawHorizontalLine)+"")&&N(T,E),V&2&&_(e,"style",B[1])},i:Qe,o:Qe,d(B){B&&p(e),w(),I=!1,an(A)}}}function u2(n,e,t){let r,l;ne(n,pr,T=>t(12,r=T)),ne(n,it,T=>t(2,l=T));let{plusParams:i=null}=e,{movedParams:s}=e,{widget:a=null}=e,{axisSide:o="Right"}=e,{toolbarWidth:c=5}=e,f=0,d={};function h(T,w,I,A){if(!T)return;const{pageX:B,pageY:V}=T,$=A-5;if(I==="Right"){const P=s?s.paneWidth-w-16:B-w-16;t(1,d=`top: ${V+16}px; left: ${P+$}px`)}I==="Left"&&t(1,d=`top: ${V+16}px; left: ${B+16}px`)}function m(){pr.next(Object.assign(Object.assign({},r),{plusDialog:!1,createOrder:!0})),wr.track("tv_spot_new_limit",{})}function v(){pr.next(Object.assign(Object.assign({},r),{plusDialog:!1})),a.tv.activeChart().createShape({time:0,price:i.price},{shape:"horizontal_line",lock:!1,disableSelection:!1,disableSave:!1,disableUndo:!1,overrides:{linecolor:"#3d7eff",linewidth:1,linestyle:0}}),wr.track("tv_spot_draw_horizontal_line",{})}function k(T){rr.call(this,n,T)}function E(){f=this.offsetWidth,t(0,f)}return n.$$set=T=>{"plusParams"in T&&t(5,i=T.plusParams),"movedParams"in T&&t(6,s=T.movedParams),"widget"in T&&t(7,a=T.widget),"axisSide"in T&&t(8,o=T.axisSide),"toolbarWidth"in T&&t(9,c=T.toolbarWidth)},n.$$.update=()=>{n.$$.dirty&801&&h(i,f,o,c)},[f,d,l,m,v,i,s,a,o,c,k,E]}let c2=class extends je{constructor(e){super(),We(this,e,u2,o2,Fe,{plusParams:5,movedParams:6,widget:7,axisSide:8,toolbarWidth:9})}};function f2(n){let e,t,r,l;const i=[{class:"amount wp100 f1 f12"},{height:"20"},{operation:!1},n[8]];function s(c){n[28](c)}function a(c){n[29](c)}let o={};for(let c=0;c<i.length;c+=1)o=ua(o,i[c]);return n[6]!==void 0&&(o.valueEx=n[6]),n[13]!==void 0&&(o.input=n[13]),e=new rp({props:o}),Ue.push(()=>Ge(e,"valueEx",s)),Ue.push(()=>Ge(e,"input",a)),e.$on("focus",n[18]),{c(){le(e.$$.fragment)},l(c){ae(e.$$.fragment,c)},m(c,f){ie(e,c,f),l=!0},p(c,f){const d=f[0]&256?ca(i,[i[0],i[1],i[2],ss(c[8])]):{};!t&&f[0]&64&&(t=!0,d.valueEx=c[6],Ye(()=>t=!1)),!r&&f[0]&8192&&(r=!0,d.input=c[13],Ye(()=>r=!1)),e.$set(d)},i(c){l||(H(e.$$.fragment,c),l=!0)},o(c){U(e.$$.fragment,c),l=!1},d(c){se(e,c)}}}function d2(n){let e,t,r,l,i;return{c(){e=g("div"),t=q(n[3]),r=q("%"),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=D(a,n[3]),r=D(a,"%"),a.forEach(p),this.h()},h(){_(e,"class","mt4 tc cp f12")},m(s,a){Y(s,e,a),u(e,t),u(e,r),l||(i=Je(e,"click",n[17]),l=!0)},p(s,a){a[0]&8&&N(t,s[3])},i:Qe,o:Qe,d(s){s&&p(e),l=!1,i()}}}function p2(n){let e,t,r,l,i=n[14](Qt.Amount)+"",s,a,o=(n[4]===Me.ByBase?n[5].baseCurrency:n[5].quoteCurrency)+"",c,f,d,h,m,v,k,E=n[14](Qt[n[2]===Oe.Buy?"LimitBuy":"LimitSell"])+"",T,w,I,A,B,V,$,P,z,F,O,M,L,Q,j;const K=[d2,f2],W=[];function Z(X,te){return X[11]?0:1}d=Z(n),h=W[d]=K[d](n);function J(X){n[31](X)}let R={options:n[15]};return n[3]!==void 0&&(R.percent=n[3]),P=new tp({props:R}),Ue.push(()=>Ge(P,"percent",J)),P.$on("change",n[32]),{c(){e=g("div"),t=g("div"),r=g("div"),l=g("div"),s=q(i),a=S(),c=q(o),f=S(),h.c(),m=S(),v=g("div"),k=g("div"),T=q(E),w=S(),I=g("div"),A=q(n[7]),V=S(),$=g("div"),le(P.$$.fragment),F=S(),O=g("div"),M=q(n[12]),this.h()},l(X){e=b(X,"DIV",{class:!0,style:!0});var te=y(e);t=b(te,"DIV",{class:!0});var oe=y(t);r=b(oe,"DIV",{class:!0});var x=y(r);l=b(x,"DIV",{class:!0});var de=y(l);s=D(de,i),a=C(de),c=D(de,o),de.forEach(p),f=C(x),h.l(x),x.forEach(p),m=C(oe),v=b(oe,"DIV",{class:!0});var G=y(v);k=b(G,"DIV",{});var re=y(k);T=D(re,E),re.forEach(p),w=C(G),I=b(G,"DIV",{class:!0});var ge=y(I);A=D(ge,n[7]),ge.forEach(p),G.forEach(p),oe.forEach(p),V=C(te),$=b(te,"DIV",{class:!0});var Ee=y($);ae(P.$$.fragment,Ee),F=C(Ee),O=b(Ee,"DIV",{class:!0});var we=y(O);M=D(we,n[12]),we.forEach(p),Ee.forEach(p),te.forEach(p),this.h()},h(){_(l,"class","amount-text f12 fw2 T2 H-83ejzf"),_(r,"class","ipt ipt-border f1 df fdc tc H-83ejzf"),_(I,"class","mt4"),_(v,"class","btn df aic fdc jcc br4 cp H-83ejzf"),$e(v,"pen",n[9]),$e(v,"buy-btn",n[2]===Oe.Buy),$e(v,"sell-btn",n[2]===Oe.Sell),_(t,"class","main df aic jcsb H-83ejzf"),qr(()=>n[30].call(t)),_(O,"class","ml8"),$e(O,"sell",n[2]===Oe.Sell),$e(O,"buy",n[2]===Oe.Buy),_($,"class","percentage-box df aic f12 tc H-83ejzf"),_(e,"class","wrap pa br4 ovh H-83ejzf"),_(e,"style",n[10])},m(X,te){Y(X,e,te),u(e,t),u(t,r),u(r,l),u(l,s),u(l,a),u(l,c),u(r,f),W[d].m(r,null),u(t,m),u(t,v),u(v,k),u(k,T),u(v,w),u(v,I),u(I,A),B=$i(t,n[30].bind(t)),u(e,V),u(e,$),ie(P,$,null),u($,F),u($,O),u(O,M),L=!0,Q||(j=[Je(v,"click",n[16]),Je(e,"mousedown",Ln(n[27]))],Q=!0)},p(X,te){(!L||te[0]&16384)&&i!==(i=X[14](Qt.Amount)+"")&&N(s,i),(!L||te[0]&48)&&o!==(o=(X[4]===Me.ByBase?X[5].baseCurrency:X[5].quoteCurrency)+"")&&N(c,o);let oe=d;d=Z(X),d===oe?W[d].p(X,te):(Ze(),U(W[oe],1,1,()=>{W[oe]=null}),xe(),h=W[d],h?h.p(X,te):(h=W[d]=K[d](X),h.c()),H(h,1),h.m(r,null)),(!L||te[0]&16388)&&E!==(E=X[14](Qt[X[2]===Oe.Buy?"LimitBuy":"LimitSell"])+"")&&N(T,E),(!L||te[0]&128)&&N(A,X[7]),(!L||te[0]&512)&&$e(v,"pen",X[9]),(!L||te[0]&4)&&$e(v,"buy-btn",X[2]===Oe.Buy),(!L||te[0]&4)&&$e(v,"sell-btn",X[2]===Oe.Sell);const x={};!z&&te[0]&8&&(z=!0,x.percent=X[3],Ye(()=>z=!1)),P.$set(x),(!L||te[0]&4096)&&N(M,X[12]),(!L||te[0]&4)&&$e(O,"sell",X[2]===Oe.Sell),(!L||te[0]&4)&&$e(O,"buy",X[2]===Oe.Buy),(!L||te[0]&1024)&&_(e,"style",X[10])},i(X){L||(H(h),H(P.$$.fragment,X),L=!0)},o(X){U(h),U(P.$$.fragment,X),L=!1},d(X){X&&p(e),W[d].d(),B(),se(P),Q=!1,an(j)}}}function h2(n,e,t){let r,l,i,s,a,o,c,f;ne(n,it,Ee=>t(14,i=Ee)),ne(n,zl,Ee=>t(22,s=Ee)),ne(n,ki,Ee=>t(23,a=Ee)),ne(n,Fl,Ee=>t(24,o=Ee)),ne(n,Ii,Ee=>t(25,c=Ee)),ne(n,Ht,Ee=>t(26,f=Ee));let{plusParams:d=null}=e,{axisSide:h="Right"}=e;const m=Lt(),v=[25,50,75,100];let k=0,E=0,T=0,w=0,I="0",A=Oe.Buy,B={},V=!1,$={},P=0,z=!1,F="-",O=null;Ct(()=>{O&&O.focus()});async function M(){const Ee={side:A,priceEp:k,ordType:"Limit",symbol:r.symbol,qtyType:l,actionBy:"FromOrderPlacement",timeInForce:"GoodTillCancel",pegPriceType:"UNSPECIFIED",triggerType:"UNSPECIFIED"},we=R(z,P,s,r,l,A,E);l===Me.ByBase&&(Ee.baseQtyEv=we),l===Me.ByQuote&&(Ee.quoteQtyEv=we);const ee=W(we,l);if(ee){vt.send("toast","info",{message:ee});return}t(9,V=!0);const me=await Zd(Ee,r);t(9,V=!1),me&&m("close")}function L(Ee,we){const{quoteQtyFactor:ee,pricePrecision:me}=we,Se=((Ee==null?void 0:Ee.price)||0).toFixed(me);t(7,I=yt.delimit(Se)),t(21,k=On(Se).times(ee).toNumber())}function Q(Ee,we){if(!Ee||!we)return;const ee=Number(we.close)>Number(Ee.price);t(2,A=ee>0?Oe.Buy:Oe.Sell)}function j(Ee,we){const ee=Ee===Me.ByBase,{baseQtyFactor:me,quoteQtyFactor:Se,baseQtyScale:qe,quoteQtyScale:Ce,baseTickSizeEv:Be,quoteQtyTickSizeEv:ce,baseQtyPrecision:fe,quoteQtyPrecision:Ve,quoteTickSizeEv:Ie,maxBaseOrderSizeEv:be,maxOrderValueEv:_e}=we;t(8,B={precision:ee?fe:Ve,scale:ee?qe:Ce,factor:ee?me:Se,tickSizeEx:ee?Be:ce,minEx:ee?Be:Ie,maxEx:ee?be:_e})}function K(Ee){Ee&&(Ee.quickPlaceLimitOrder||m("close"))}function W(Ee,we){if(Ee<=0)return i(Mn.QuantityError);const{minOrderValueEv:ee,minOrderValue:me,maxOrderValueEv:Se}=r,qe=Vn(r,rt.Limit,k,l,Ee);if(we===Me.ByQuote&&Ee<ee||we===Me.ByBase&&qe<ee)return i(Mn.TransactionAmountCannot,{MinOrderValue:me});if(we===Me.ByQuote&&Ee>Se||we===Me.ByBase&&qe>Se)return i(Mn.TheNumberOfOrders)}function Z(Ee,we,ee,me){const{pageX:Se,pageY:qe}=Ee;me==="Right"&&t(10,$=`top: ${qe-we/2}px; left: ${Se-ee-16}px`),me==="Left"&&t(10,$=`top: ${qe-we/2}px; left: ${Se+16}px`)}function J(Ee,we,ee,me,Se,qe){const{baseCurrency:Ce,quoteCurrency:Be}=ee,ce=Se.find(({currency:ye})=>ye===Ce),fe=Se.find(({currency:ye})=>ye===Be);if(!ce||!fe)return;const Ve=cn(fe,ee,me,Oe.Buy),Ie=cn(ce,ee,me,Oe.Sell),be=fn(fe,Oe.Buy,we,Ve),_e=fn(ce,Oe.Sell,we,Ie),{precision:ve,scale:ke}=B,Ne=yt.delimit(yt.floor(On(be).times(qe).div(100),ve,ke)),Te=yt.delimit(yt.floor(On(_e).times(qe).div(100),ve,ke)),He=we===Me.ByBase?Ce:Be;t(12,F=(Ee===Oe.Buy?Ne:Te)+" "+He)}function R(Ee,we,ee,me,Se,qe,Ce){const{baseCurrency:Be,quoteCurrency:ce}=me,fe=ee.find(({currency:Te})=>Te===Be),Ve=ee.find(({currency:Te})=>Te===ce);if(!fe||!Ve)return;const Ie=cn(Ve,me,k,Oe.Buy),be=cn(fe,me,k,Oe.Sell),_e=fn(Ve,Oe.Buy,Se,Ie),ve=fn(fe,Oe.Sell,Se,be),ke=On(_e).times(we).div(100),Ne=On(ve).times(we).div(100);return Ee?zd(qe===Oe.Buy?ke:Ne):Ce}async function X(){t(3,P=0),t(11,z=!1),await ms(),O&&O.focus()}function te(){t(3,P=0)}function oe(Ee){rr.call(this,n,Ee)}function x(Ee){E=Ee,t(6,E)}function de(Ee){O=Ee,t(13,O)}function G(){T=this.offsetWidth,w=this.offsetHeight,t(0,T),t(1,w)}function re(Ee){P=Ee,t(3,P)}const ge=()=>t(11,z=!0);return n.$$set=Ee=>{"plusParams"in Ee&&t(19,d=Ee.plusParams),"axisSide"in Ee&&t(20,h=Ee.axisSide)},n.$$.update=()=>{n.$$.dirty[0]&67108864&&t(5,r=f),n.$$.dirty[0]&33554432&&t(4,l=c),n.$$.dirty[0]&524320&&L(d,r),n.$$.dirty[0]&17301504&&Q(d,o),n.$$.dirty[0]&48&&j(l,r),n.$$.dirty[0]&8388608&&K(a),n.$$.dirty[0]&1572867&&Z(d,w,T,h),n.$$.dirty[0]&6291516&&J(A,l,r,k,s,P)},[T,w,A,P,l,r,E,I,B,V,$,z,F,O,i,v,M,X,te,d,h,k,s,a,o,c,f,oe,x,de,G,re,ge]}let m2=class extends je{constructor(e){super(),We(this,e,h2,p2,Fe,{plusParams:19,axisSide:20},null,[-1,-1])}};function Jc(n){let e,t=n[4].change+"",r,l;return{c(){e=g("div"),r=q(t),this.h()},l(i){e=b(i,"DIV",{class:!0,style:!0});var s=y(e);r=D(s,t),s.forEach(p),this.h()},h(){_(e,"class","wrap pa ph4 tc lh18 T1 H-1v5o445"),_(e,"style",n[2]),qr(()=>n[9].call(e))},m(i,s){Y(i,e,s),u(e,r),l=$i(e,n[9].bind(e))},p(i,s){s&16&&t!==(t=i[4].change+"")&&N(r,t),s&4&&_(e,"style",i[2])},d(i){i&&p(e),l()}}}function _2(n){let e,t=n[0]&&Jc(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,[l]){r[0]?t?t.p(r,l):(t=Jc(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Qe,o:Qe,d(r){t&&t.d(r),r&&p(e)}}}function v2(n,e,t){let r;ne(n,Fl,k=>t(8,r=k));let{movedParams:l}=e,{axisSide:i="Right"}=e,{visible:s=!1}=e,{toolbarWidth:a=5}=e,o={},c,f,d={changeRr:0,change:"-"};function h(k,E,T,w){if(!k)return;const{offsetY:I,paneWidth:A=12}=k,B=w-5;T==="Right"&&t(2,o=`top: ${I+E/2+1}px; left:  ${A+9+B}px`),T==="Left"&&t(2,o=`top: ${I+E/2+1}px; right:  ${A}px`)}function m(k,E){if(!k||!E)return;const{price:T}=k,{close:w}=E,I=(T-w)/w,B=(I>0?"+":"")+yt.floor(I,2,-2)+"%";t(4,d={changeRr:I,change:B})}function v(){c=this.offsetWidth,f=this.offsetHeight,t(3,c),t(1,f)}return n.$$set=k=>{"movedParams"in k&&t(5,l=k.movedParams),"axisSide"in k&&t(6,i=k.axisSide),"visible"in k&&t(0,s=k.visible),"toolbarWidth"in k&&t(7,a=k.toolbarWidth)},n.$$.update=()=>{n.$$.dirty&288&&m(l,r),n.$$.dirty&226&&h(l,f,i,a)},[s,f,o,c,d,l,i,a,r,v]}let g2=class extends je{constructor(e){super(),We(this,e,v2,_2,Fe,{movedParams:5,axisSide:6,visible:0,toolbarWidth:7})}};function Zc(n){let e,t;return e=new c2({props:{plusParams:n[0],widget:n[1],axisSide:n[2],movedParams:n[3],toolbarWidth:n[5]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.plusParams=r[0]),l&2&&(i.widget=r[1]),l&4&&(i.axisSide=r[2]),l&8&&(i.movedParams=r[3]),l&32&&(i.toolbarWidth=r[5]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function xc(n){let e,t;return e=new m2({props:{plusParams:n[0],axisSide:n[2]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.plusParams=r[0]),l&4&&(i.axisSide=r[2]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function b2(n){let e,t,r,l,i,s=n[6].plusDialog&&Zc(n),a=n[6].createOrder&&xc(n);function o(f){n[7](f)}let c={movedParams:n[3],axisSide:n[2],toolbarWidth:n[5]};return n[4]!==void 0&&(c.visible=n[4]),r=new g2({props:c}),Ue.push(()=>Ge(r,"visible",o)),{c(){s&&s.c(),e=S(),a&&a.c(),t=S(),le(r.$$.fragment)},l(f){s&&s.l(f),e=C(f),a&&a.l(f),t=C(f),ae(r.$$.fragment,f)},m(f,d){s&&s.m(f,d),Y(f,e,d),a&&a.m(f,d),Y(f,t,d),ie(r,f,d),i=!0},p(f,[d]){f[6].plusDialog?s?(s.p(f,d),d&64&&H(s,1)):(s=Zc(f),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(Ze(),U(s,1,1,()=>{s=null}),xe()),f[6].createOrder?a?(a.p(f,d),d&64&&H(a,1)):(a=xc(f),a.c(),H(a,1),a.m(t.parentNode,t)):a&&(Ze(),U(a,1,1,()=>{a=null}),xe());const h={};d&8&&(h.movedParams=f[3]),d&4&&(h.axisSide=f[2]),d&32&&(h.toolbarWidth=f[5]),!l&&d&16&&(l=!0,h.visible=f[4],Ye(()=>l=!1)),r.$set(h)},i(f){i||(H(s),H(a),H(r.$$.fragment,f),i=!0)},o(f){U(s),U(a),U(r.$$.fragment,f),i=!1},d(f){s&&s.d(f),f&&p(e),a&&a.d(f),f&&p(t),se(r,f)}}}function y2(n,e,t){let r;ne(n,pr,h=>t(6,r=h));let{plusParams:l=null}=e,{widget:i=null}=e,s="Right",a,o=!1,c=0,f=null;Ct(()=>{document.addEventListener("mousedown",m=>{m.stopPropagation(),pr.next(Object.assign(Object.assign({},r),{plusDialog:!1,createOrder:!1}))});const h=document.querySelectorAll('iframe[id^="tradingview_"]');h.length>0&&(f=h[0],f&&f.contentDocument&&(f.contentDocument.onmousedown=function(m){m.stopPropagation(),pr.next(Object.assign(Object.assign({},r),{plusDialog:!1,createOrder:!1}))},f.contentDocument.onmouseleave=()=>{t(3,a=null),t(4,o=!1)}))}),Ct(()=>{const h=i==null?void 0:i.tv;h&&h.activeChart().crossHairMoved().subscribe(null,m=>{t(3,a=m),t(2,s=ih(ma));const k=h.activeChart().getPanes().find(I=>I.getMainSourcePriceScale()._priceScale._formatter.type==="price");if(k){const{_minValue:I,_maxValue:A}=k.getMainSourcePriceScale()._priceScale.m_priceRange,B=k.getMainSourcePriceScale()._chartModel._width;t(3,a=Object.assign(Object.assign({},m),{minValue:I,maxValue:A,paneWidth:B}))}const{price:E,minValue:T=0,maxValue:w=0}=a;E>T&&E<w?t(4,o=!0):(t(3,a=null),t(4,o=!1)),t(5,c=f.contentDocument.getElementById("drawing-toolbar").offsetWidth)})});function d(h){o=h,t(4,o)}return n.$$set=h=>{"plusParams"in h&&t(0,l=h.plusParams),"widget"in h&&t(1,i=h.widget)},[l,i,s,a,o,c,r,d]}let E2=class extends je{constructor(e){super(),We(this,e,y2,b2,Fe,{plusParams:0,widget:1})}};class k2 extends q1{render(e,t,r,l,i){if(!i||!document.getElementById(e))return;this.removeTv();const s=n1.isLocal?"/tv/27.003/":`${vs.STATIC_URL}/s/tv/27.003/`,o=Ud.getValue()?"chart_crosshair_menu":"",c={symbol:i.symbol,theme:t,container:e,interval:l,datafeed:new D1,timezone:"Etc/UTC",library_path:s,custom_css_url:"./custom-20240531.css",autosize:!0,auto_save_delay:-1,locale:Fd.getLanguageKey(r),fullscreen:Rd.getValue(),disabled_features:["header_widget","volume_force_overlay","auto_enable_symbol_labels"],enabled_features:["side_toolbar_in_fullscreen_mode","display_legend_on_all_charts","hide_left_toolbar_by_default",o],loading_screen:this.createLoadingScreen(t),overrides:this.createOverrides(t),time_frames:[],saved_data:t1.readSettings(ma),favorites:{chartTypes:[],intervals:["5","30","60","180","360","D","W"]}};this.tv=new window.TradingView.widget(c),this.tv.onChartReady(this.handleChartReady.bind(this))}}const Tl={OrderAmendMay:"d03a97",AmendingThisOrder:"25a5fb",PleaseConfirmYour:"b9e2c6"};function w2(n){let e,t=n[2](Tl.AmendingThisOrder,{Price:n[0]})+"",r,l,i,s=n[2](Tl.PleaseConfirmYour)+"",a;return{c(){e=g("div"),r=q(t),l=S(),i=g("div"),a=q(s),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);r=D(c,t),c.forEach(p),l=C(o),i=b(o,"DIV",{class:!0});var f=y(i);a=D(f,s),f.forEach(p),this.h()},h(){_(e,"class","desc ph24 lh22 f14 T3"),_(i,"class","desc ph24 lh22 f14 T3")},m(o,c){Y(o,e,c),u(e,r),Y(o,l,c),Y(o,i,c),u(i,a)},p(o,c){c&5&&t!==(t=o[2](Tl.AmendingThisOrder,{Price:o[0]})+"")&&N(r,t),c&4&&s!==(s=o[2](Tl.PleaseConfirmYour)+"")&&N(a,s)},d(o){o&&p(e),o&&p(l),o&&p(i)}}}function $2(n){let e,t,r=n[2](Tl.OrderAmendMay)+"",l,i,s,a,o,c;return{c(){e=g("div"),t=g("span"),l=q(r),i=S(),s=g("i"),a=q(""),this.h()},l(f){e=b(f,"DIV",{class:!0,slot:!0});var d=y(e);t=b(d,"SPAN",{class:!0});var h=y(t);l=D(h,r),h.forEach(p),i=C(d),s=b(d,"I",{class:!0});var m=y(s);a=D(m,""),m.forEach(p),d.forEach(p),this.h()},h(){_(t,"class","b T2"),_(s,"class","iconfont cp T3"),_(e,"class","p24 lh24 df jcsb f16"),_(e,"slot","header")},m(f,d){Y(f,e,d),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),o||(c=Je(s,"click",n[4]),o=!0)},p(f,d){d&4&&r!==(r=f[2](Tl.OrderAmendMay)+"")&&N(l,r)},d(f){f&&p(e),o=!1,c()}}}function S2(n){let e,t=n[2](wt.DontShowAgain)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ml8 T3")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](wt.DontShowAgain)+"")&&N(r,t)},d(l){l&&p(e)}}}function C2(n){let e=n[2](wt.Cancel)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&4&&e!==(e=r[2](wt.Cancel)+"")&&N(t,e)},d(r){r&&p(t)}}}function T2(n){let e=n[2](wt.Confirm)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&4&&e!==(e=r[2](wt.Confirm)+"")&&N(t,e)},d(r){r&&p(t)}}}function I2(n){let e,t,r,l,i,s,a,o,c;function f(h){n[8](h)}let d={class:"usn T2",$$slots:{default:[S2]},$$scope:{ctx:n}};return n[1]!==void 0&&(d.checked=n[1]),t=new yr({props:d}),Ue.push(()=>Ge(t,"checked",f)),s=new Nt({props:{$$slots:{default:[C2]},$$scope:{ctx:n}}}),s.$on("click",n[3]),o=new Nt({props:{type:"primary",$$slots:{default:[T2]},$$scope:{ctx:n}}}),o.$on("click",n[5]),{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),le(s.$$.fragment),a=S(),le(o.$$.fragment),this.h()},l(h){e=b(h,"DIV",{class:!0,slot:!0});var m=y(e);ae(t.$$.fragment,m),l=C(m),i=b(m,"DIV",{});var v=y(i);ae(s.$$.fragment,v),a=C(v),ae(o.$$.fragment,v),v.forEach(p),m.forEach(p),this.h()},h(){_(e,"class","p24 df aic jcsb mt24"),_(e,"slot","footer")},m(h,m){Y(h,e,m),ie(t,e,null),u(e,l),u(e,i),ie(s,i,null),u(i,a),ie(o,i,null),c=!0},p(h,m){const v={};m&1028&&(v.$$scope={dirty:m,ctx:h}),!r&&m&2&&(r=!0,v.checked=h[1],Ye(()=>r=!1)),t.$set(v);const k={};m&1028&&(k.$$scope={dirty:m,ctx:h}),s.$set(k);const E={};m&1028&&(E.$$scope={dirty:m,ctx:h}),o.$set(E)},i(h){c||(H(t.$$.fragment,h),H(s.$$.fragment,h),H(o.$$.fragment,h),c=!0)},o(h){U(t.$$.fragment,h),U(s.$$.fragment,h),U(o.$$.fragment,h),c=!1},d(h){h&&p(e),se(t),se(s),se(o)}}}function P2(n){let e,t;return e=new Kl({props:{style:"width:640px;max-width: 640px;",$$slots:{footer:[I2],header:[$2],default:[w2]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&1031&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function B2(n,e,t){let r;ne(n,it,m=>t(2,r=m));let{price:l="0"}=e,{cancelAction:i=null}=e,{confirmAction:s=null}=e;const a=Lt();let o=!1;function c(){i(),a("close")}function f(){i(),a("close")}function d(){s(),a("close"),o&&Dd("orderAmendPriceWouldMatch",!1).then()}function h(m){o=m,t(1,o)}return n.$$set=m=>{"price"in m&&t(0,l=m.price),"cancelAction"in m&&t(6,i=m.cancelAction),"confirmAction"in m&&t(7,s=m.confirmAction)},[l,o,r,c,f,d,i,s,h]}let q2=class extends je{constructor(e){super(),We(this,e,B2,P2,Fe,{price:0,cancelAction:6,confirmAction:7})}};function D2(n,e,t,r,l){var a;if(!e.tv)return null;const i=(a=e==null?void 0:e.tv)==null?void 0:a.chart();if(!i||!i._chartWidget.model().mainSeries().bars().last())return null;const s=(r==null?void 0:r.labelPosition)==="Left"?80:4;return i.createOrderLine().setLineStyle(5).setLineLength(s).onCancel("Cancel...",function(o){this.setText(o),Is(t,"Spot",pn.getValue()).then()}).onMove("Amending...",function(o){const c=this;c.setText(o);const{price:f}=c._line._points[0];H2(n,c,t,f,l)})}function A2(n,e,t){const{orderAmendPriceWouldMatch:r}=Dr.getValue();if(!r)return!1;const{side:l}=n,{bid1Ep:i,ask1Ep:s}=t;return l==="Buy"&&e>=s||l==="Sell"&&e<=i}function V2(n,e,t){const{side:r,timeInForce:l}=n;if(l==="PostOnly"){const{bid1Ep:i,ask1Ep:s}=t;if(r==="Buy"&&e>=s)return i;if(r==="Sell"&&e<=i)return s}return e}function H2(n,e,t,r,l){_a.pipe(tn(i=>i.ask1Ep>0&&i.bid1Ep>0),hs(1)).subscribe(i=>{(async()=>{const s=yt.priceToEp(r,n.priceScale),a=V2(t,s,i);if(A2(t,a,i)){if(await O2(n,s,e,t,l)){await ef(n,t,a,e,l);return}const[c,f]=Hs(t,l);e.setText(c),e.setPrice(f);return}await ef(n,t,a,e,l)})()})}async function O2(n,e,t,r,l){const{pricePrecision:i,priceScale:s}=n,a=yt.floor(e,i,s);return await It.wait(q2,o=>({price:a,cancelAction(){const[c,f]=Hs(r,l);t.setText(c),t.setPrice(f),o(!1)},confirmAction(){o(!0)}}))}function ef(n,e,t,r,l){const s={[_s.isConditionalOrder(e.ordType)?"stopPxEp":"priceEp"]:t};xd(e,s).then(a=>{if(a)return;const[o,c]=Hs(e,l);r.setPrice(c),r.setText(o)})}function M2(n,e,t,r,l){const[i,s]=Hs(e,r),a=t==="Dark",o=a?"#242629":"#e9ebf0",c=e.side==="Sell"?"#f24e53":"#00bd84",f=a?"#b7bdc6":"#303236",d=a?"#e9ecef":"#303236",h=(l==null?void 0:l.labelPosition)==="Left"?80:4,m=a?"#303339":o;n.setText(i).setLineLength(h).setPrice(s).setLineColor(c).setQuantity(e.qtyWU).setQuantityBorderColor(m).setQuantityBackgroundColor(o).setQuantityTextColor(d).setBodyBorderColor(c).setBodyBackgroundColor(c).setBodyTextColor("#fff").setCancelButtonBorderColor(m).setCancelButtonBackgroundColor(o).setCancelButtonIconColor(f).onModify(()=>{}).setModifyTooltip(r(Qt.Amount))}function Hs(n,e){const{ordType:t,ordStatus:r,stopPx:l,price:i}=n,s=_s.isConditionalOrder(t)&&["Untriggered"].includes(r);return[e(s?Qt.Conditional:Qt.Limit),s?l:i]}function L2(n){const e=new Map;let t=null;return this.watch=function(r,l,i,s,a,o){const c=N2(l,i,s,r);let f=Array.from(e.keys()).filter(d=>!c.some(h=>h.orderID===d));(t==null?void 0:t.quickPlaceLimitOrder)!==(s==null?void 0:s.quickPlaceLimitOrder)&&(f=Array.from(e.keys())),f.length>0&&f.forEach(d=>{const h=e.get(d);h&&h.remove(),e.delete(d)}),setTimeout(()=>{c.forEach(d=>{const h=d.orderID,m=e.has(h),v=m?e.get(h):D2(r,n,d,s,o);v&&M2(v,d,a,o,s),!m&&v&&e.set(h,v)})},500),t=s},this}function N2(n,e,t,r){const{activeOrderLine:l,conditionalOrderLine:i}=t;let s=[];return l&&(s=s.concat(n)),i&&(s=s.concat(e)),s.filter(({symbol:a})=>a===r.symbol)}function tf(n){let e;return{c(){e=g("div"),this.h()},l(t){e=b(t,"DIV",{class:!0}),y(e).forEach(p),this.h()},h(){_(e,"class","empty pa H-37h0wj")},m(t,r){Y(t,e,r)},d(t){t&&p(e)}}}function nf(n){let e,t;return e=new E2({props:{plusParams:n[3],widget:n[6]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&8&&(i.plusParams=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function U2(n){let e,t,r,l,i,s,a,o,c,f;function d(k){n[23](k)}let h={chartReady:n[1],widget:n[6]};n[2]!==void 0&&(h.interval=n[2]),t=new R1({props:h}),Ue.push(()=>Ge(t,"interval",d)),t.$on("intervalChange",n[7]);let m=n[4]&&tf(),v=n[1]&&nf(n);return{c(){e=g("div"),le(t.$$.fragment),l=S(),i=g("div"),s=g("div"),a=S(),m&&m.c(),o=S(),v&&v.c(),this.h()},l(k){e=b(k,"DIV",{class:!0});var E=y(e);ae(t.$$.fragment,E),l=C(E),i=b(E,"DIV",{class:!0});var T=y(i);s=b(T,"DIV",{id:!0,class:!0}),y(s).forEach(p),a=C(T),m&&m.l(T),o=C(T),v&&v.l(T),T.forEach(p),E.forEach(p),this.h()},h(){_(s,"id",n[5]),_(s,"class","container f1 B1 H-37h0wj"),_(i,"class","pr df f1"),_(e,"class",c="f1 df fdc "+n[0]+" H-37h0wj")},m(k,E){Y(k,e,E),ie(t,e,null),u(e,l),u(e,i),u(i,s),u(i,a),m&&m.m(i,null),u(i,o),v&&v.m(i,null),f=!0},p(k,E){const T={};E[0]&2&&(T.chartReady=k[1]),!r&&E[0]&4&&(r=!0,T.interval=k[2],Ye(()=>r=!1)),t.$set(T),k[4]?m||(m=tf(),m.c(),m.m(i,o)):m&&(m.d(1),m=null),k[1]?v?(v.p(k,E),E[0]&2&&H(v,1)):(v=nf(k),v.c(),H(v,1),v.m(i,null)):v&&(Ze(),U(v,1,1,()=>{v=null}),xe()),(!f||E[0]&1&&c!==(c="f1 df fdc "+k[0]+" H-37h0wj"))&&_(e,"class",c)},i(k){f||(H(t.$$.fragment,k),H(v),f=!0)},o(k){U(t.$$.fragment,k),U(v),f=!1},d(k){k&&p(e),se(t),m&&m.d(),v&&v.d()}}}function z2(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E;ne(n,Ht,x=>t(11,r=x)),ne(n,ha,x=>t(12,l=x)),ne(n,pr,x=>t(25,i=x)),ne(n,Qd,x=>t(13,s=x)),ne(n,it,x=>t(14,a=x)),ne(n,r1,x=>t(15,o=x)),ne(n,ki,x=>t(16,c=x)),ne(n,l1,x=>t(17,f=x)),ne(n,i1,x=>t(18,d=x)),ne(n,_p,x=>t(19,h=x)),ne(n,In,x=>t(20,m=x)),ne(n,tu,x=>t(21,v=x)),ne(n,nu,x=>t(22,k=x)),ne(n,sa,x=>t(4,E=x));let{class:T=""}=e;const w=`tv_${((1+Math.random())*65536|0).toString(16).substring(1)}`,I=new k2,A=new L2(I),B=new s2(I);let V,$,P=null,z,F=m==="Margin",O,M=[],L=!1;Ct(()=>{const x=s1.pipe(tn(de=>de>1)).subscribe(()=>{I.removeTv(),W(s)});return function(){x.unsubscribe(),I.removeTv()}});function Q(x,de){if(!x)return;const G=de==null?void 0:de.tv;G&&(G==null||G.subscribe("drawing_event",(re,ge)=>{if(ge!=="click")return;const Ee=M.find(we=>we.shape._line&&re===we.shape._line._id);Ee&&It.create(l2,{orders:Ee.orders})}),G==null||G.subscribe("onPlusClick",re=>{t(3,P=re),pr.next(Object.assign(Object.assign({},i),{plusDialog:!0}))}))}function j(x,de){F!==x&&(t(8,F=x),z&&W(de))}function K(x,de,G,re){!x||!de||B.watch(G,re)}function W(x){setTimeout(()=>I.render(w,l,x,$,r),0)}function Z(x){nu.pipe(tn(Boolean),hs(1)).subscribe(()=>I.changeTheme(x))}function J(x){tu.next(x.detail)}function R(x,de,G,re,ge,Ee,we,ee){x&&de&&A.watch(G,re,ge,Ee,we,ee)}function X(x,de,G,re){var ge;if(!x)return;const Ee=(ge=de==null?void 0:de.tv)===null||ge===void 0?void 0:ge.chart();Ee&&(t(10,L=!1),Ee.onDataLoaded().subscribe(null,()=>t(10,L=!0),!0))}function te(x,de,G,re,ge,Ee,we,ee,me){var Se;if(!x||!de)return;const qe=(Se=G==null?void 0:G.tv)===null||Se===void 0?void 0:Se.chart();if(qe&&(M.length>0&&M.map(Ce=>Ce&&Ce.shape._line&&Ce.shape.remove()),!me&&we.orderHistory)){const Ce=j1(re,ge,Ee),{baseQtyPrecision:Be,quoteQtyPrecision:ce,baseQtyScale:fe,quoteQtyScale:Ve,mode:Ie,baseCurrency:be,quoteCurrency:_e}=ge;Ce.map(({orders:ve})=>{if(ve.length<=0)return;const ke=ve.reduce((nt,lt)=>{const{side:st,execBaseQtyEv:ft,execQuoteQtyEv:mt}=lt,at=(st==="Buy"?ft:mt)||0,pt=st==="Buy"?Be:ce,Le=Ie==="Margin"?0:st==="Buy"?fe:Ve;return Number(Sl(nt,yt.floor(at,pt,Le)))},0),Ne=ve.reduce((nt,lt)=>Sl(nt,lt.execPrice),0),Te=gn(Ne,ve.length),He=yt.floor(Te,ge.pricePrecision),{side:ye,transactTimestamp:Pe,execPrice:De}=ve[0],Re=ye==="Buy"?"#00bd84":"#f24e53",et=ye.toLowerCase(),he=Math.floor(Pe/1e3),pe=ye==="Buy"?be:_e,ue=ee(Qt.SideAveragePrice,{Side:ee(Qt[ye]),Price:He,Size:ke+" "+pe}),Ae=qe.createExecutionShape().setArrowHeight(12).setArrowColor(Re).setDirection(et).setTime(he).setTooltip(ue).setPrice(De);M.push({shape:Ae,orders:ve})})}}function oe(x){$=x,t(2,$),t(21,v)}return n.$$set=x=>{"class"in x&&t(0,T=x.class)},n.$$.update=()=>{n.$$.dirty[0]&2048&&t(9,O=r),n.$$.dirty[0]&65536&&(z=c.quickPlaceLimitOrder),n.$$.dirty[0]&4194304&&t(1,V=k),n.$$.dirty[0]&2097152&&t(2,$=v),n.$$.dirty[0]&4096&&Z(l),n.$$.dirty[0]&8192&&W(s),n.$$.dirty[0]&2050&&I.watch(r,V),n.$$.dirty[0]&518&&X(V,I),n.$$.dirty[0]&1056768&&j(m==="Margin",s),n.$$.dirty[0]&2&&Q1(V,I,ma),n.$$.dirty[0]&609542&&te(V,L,I,h,r,$,c,a,F),n.$$.dirty[0]&2&&Q(V,I),n.$$.dirty[0]&482306&&R(V,L,r,d,f,c,l,a),n.$$.dirty[0]&50178&&K(V,L,o,a)},[T,V,$,P,E,w,I,J,F,O,L,r,l,s,a,o,c,f,d,h,m,v,k,oe]}let vp=class extends je{constructor(e){super(),We(this,e,z2,U2,Fe,{class:0},null,[-1,-1])}};function ds(n){n.setTransform(1,0,0,1,0,0)}function na(n,{H:e}){n.setTransform(1,0,0,-1,0,e)}function gp(n,{left:e,top:t,yRuleWidth:r,xRuleWidth:l,yRuleHeight:i,xOffset:s}){n.setTransform(-1,0,0,-1,e+r+l-s,t+i)}function bp(n,{left:e,top:t,yRuleWidth:r,xRuleWidth:l,yRuleHeight:i,xOffset:s,lineSize:a}){n.setTransform(1,0,0,-1,e+r+l+a+s,t+i)}function F2({x:n,y:e},{left:t,top:r,yRuleWidth:l,xRuleWidth:i,yRuleHeight:s,xOffset:a}){return{x:-n+t+l+i-a,y:-e+r+s}}function R2({x:n,y:e},{left:t,top:r,yRuleWidth:l,xRuleWidth:i,yRuleHeight:s,xOffset:a,lineSize:o}){return{x:n-(t+l+i+a+o),y:-e+r+s}}function Q2({x:n,y:e},{left:t,top:r,yRuleWidth:l,xRuleWidth:i,yRuleHeight:s,xOffset:a}){return{x:-n+t+l+i-a,y:-e+r+s}}function j2({x:n,y:e},{left:t,top:r,yRuleWidth:l,xRuleWidth:i,yRuleHeight:s,xOffset:a,lineSize:o}){return{x:n+(t+l+i+a+o),y:-e+r+s}}function W2(n,e,t){if(n===0&&e===0)return-1;const r=F2({x:n,y:e},t),l=R2({x:n,y:e},t);return Math.max(r.x,l.x,0)/t.xStep+.5|0}function ei(n,e){return Math.ceil(n.measureText(e).width)}class G2{constructor(e){this.chart=e}draw(){const e=this;e.drawMiddleLine(),e.drawAxisX(),e.drawAxisY()}drawMiddleLine(){const{ctx:e,theme:t,scope:r}=this.chart,{left:l,bottom:i,xRuleHeight:s,xRuleWidth:a,yRuleWidth:o,yRuleHeight:c,lineSize:f}=r;e.save(),na(e,r),e.lineWidth=f,e.strokeStyle=t.middleLine,e.beginPath();const d=l+o+a+f/2;e.moveTo(d,i+s),e.lineTo(d,i+s+c),e.stroke(),e.restore()}drawAxisX(){const{ctx:e,theme:t,scope:r}=this.chart,{W:l,left:i,right:s,bottom:a,xRuleHeight:o,yRuleWidth:c,lineSize:f}=r;e.save(),na(e,r),e.lineWidth=f,e.strokeStyle=t.axis,e.beginPath();const d=a+o-f/2;e.moveTo(i+c-f,d),e.lineTo(l-s,d),e.stroke(),e.restore()}drawAxisY(){const{ctx:e,theme:t,scope:r}=this.chart,{left:l,scaleLength:i,bottom:s,xRuleHeight:a,yRuleWidth:o,yRuleHeight:c,lineSize:f}=r;e.save(),na(e,r),e.lineWidth=f,e.strokeStyle=t.axis,e.beginPath();const d=l+o-f/2;e.moveTo(d,s+a-f),e.lineTo(d,s+a+c+i),e.stroke(),e.restore()}}function rf(n,e){if(n===e)return"0.0%";const t=(Math.floor(Math.abs(n-e)*1e3/e)/10).toFixed(1);return n>e?"+"+t+"%":n<e?"-"+t+"%":"0.0%"}class Y2{constructor(e){this.chart=e,this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.init()}init(){const{canvas:e}=this.chart;e.addEventListener("mousemove",this.handleMouseMove,!1),e.addEventListener("mouseleave",this.handleMouseLeave,!1)}dispose(){const{canvas:e}=this.chart;e.removeEventListener("mousemove",this.handleMouseMove,!1),e.removeEventListener("mousemove",this.handleMouseLeave,!1)}handleMouseMove(e){const{canvas:t,ctx:r,scope:l}=this.chart,{left:i,top:s,yRuleWidth:a,xRuleWidth:o,yRuleHeight:c}=l,f=t.getBoundingClientRect(),d=(e.clientX-f.left)*2,h=(e.clientY-f.top)*2;r.rect(i+a,s,o*2,c),this.chart.updateMouse(r.isPointInPath(d,h)?{x:d,y:h}:{x:0,y:0})}handleMouseLeave(){this.chart.updateMouse({x:0,y:0})}draw(){const{ctx:e,theme:t,scope:r,data:l,activeData:i}=this.chart,{activeIndex:s}=i;if(s<0)return;const{bids:a,asks:o,bidsCount:c,asksCount:f,minTotal:d}=l,{xStep:h,yScale:m,xOffset:v,yOffset:k,fontPadding:E}=r;if(e.save(),e.lineWidth=1,c>0){const T=c>s?a[s]:a[c-1];e.strokeStyle=t.bidHover,e.fillStyle=t.bidHover,gp(e,r);const w=s*h,I=(T.total-d)*m+k;e.beginPath(),e.moveTo(-v,I),e.lineTo(w,I),e.stroke(),e.beginPath(),e.arc(w,I,4,0,Math.PI*2),e.arc(-v,I,4,0,Math.PI*2),e.fill(),ds(e),e.fillStyle=t.text,e.textAlign="center",e.textBaseline="bottom";const{x:A,y:B}=Q2({x:(w-v)/2,y:I+E},r);e.fillText(rf(T.priceEp,a[0].priceEp),A,B)}if(f){const T=f>s?o[s]:o[f-1];e.strokeStyle=t.askHover,e.fillStyle=t.askHover,bp(e,r);const w=s*h,I=(T.total-d)*m+k;e.beginPath(),e.moveTo(-v,I),e.lineTo(w,I),e.stroke(),e.beginPath(),e.arc(w,I,4,0,Math.PI*2),e.arc(-v,I,4,0,Math.PI*2),e.fill(),ds(e),e.fillStyle=t.text,e.textAlign="center",e.textBaseline="bottom";const{x:A,y:B}=j2({x:(w-v)/2,y:I+E},r);e.fillText(rf(T.priceEp,o[0].priceEp),A,B)}e.restore()}}class K2{constructor(e){this.chart=e}draw(){this.drawBids(),this.drawAsks()}drawBids(){if(this.chart.data.bidsCount<1)return;const{ctx:e,theme:t,scope:r,data:{bids:l,minTotal:i},activeData:{activeIndex:s}}=this.chart,a=s>-1;e.save(),gp(e,r),e.lineWidth=r.polylineSize,e.fillStyle=a?t.bidFillLight:t.bidFill,this.drawPolygon(e,l,i,!1,s,r),a&&(e.fillStyle=t.bidFill,this.drawPolygon(e,l.slice(0,s+1),i,!0,s,r)),e.strokeStyle=t.bidLine,this.drawPolyline(e,l,i,!1,r),a&&(e.strokeStyle=t.bidLineLight,this.drawPolyline(e,l.slice(0,s+1),i,!0,r)),e.restore()}drawAsks(){if(this.chart.data.asksCount<1)return;const{ctx:e,theme:t,scope:r,data:{asks:l,minTotal:i},activeData:{activeIndex:s}}=this.chart,a=s>-1;e.save(),bp(e,r),e.lineWidth=r.polylineSize,e.fillStyle=a?t.askFillLight:t.askFill,this.drawPolygon(e,l,i,!1,s,r),a&&(e.fillStyle=t.askFill,this.drawPolygon(e,l.slice(0,s+1),i,!0,s,r)),e.strokeStyle=t.askLine,this.drawPolyline(e,l,i,!1,r),a&&(e.strokeStyle=t.askLineLight,this.drawPolyline(e,l.slice(0,s+1),i,!0,r)),e.restore()}buildCommonPath(e,t,r,l,i,{xStep:s,yScale:a,yOffset:o}){e.beginPath(),e.moveTo(0,0),t.forEach((c,f)=>{e.lineTo(s*f,(c.total-l)*a+o),f<r-1&&e.lineTo(s*(f+1),(c.total-l)*a+o)})}drawPolygon(e,t,r,l,i,{xStep:s,yScale:a,xOffset:o,yOffset:c,xRuleWidth:f}){const d=t.length;this.buildCommonPath(e,t,d,r,l,{xStep:s,yScale:a,yOffset:c});const h=(t[d-1].total-r)*a+c;if(l){const m=s*i;e.lineTo(m,h),e.lineTo(m,0)}else{const m=f-o;e.lineTo(m,h),e.lineTo(m,0)}e.closePath(),e.fill()}drawPolyline(e,t,r,l,{xStep:i,yScale:s,xOffset:a,yOffset:o,xRuleWidth:c}){const f=t.length;this.buildCommonPath(e,t,f,r,l,{xStep:i,yScale:s,yOffset:o}),l||e.lineTo(c-a,(t[f-1].total-r)*s+o),e.stroke()}}function X2({bids:n,bidsCount:e,asks:t,asksCount:r}){return e>0?n[0].price:r>0?t[0].price:"0"}function J2(n,{bids:e,bidsCount:t},{left:r,yRuleWidth:l,lineSize:i},s){if(t>0){const a=e[t-1].price;return{x:r+l-i/2,text:a,width:ei(n,a),color:s}}return null}function Z2(n,{bids:e,bidsCount:t,asks:r,asksCount:l},{left:i,yRuleWidth:s,xRuleWidth:a,lineSize:o},c){if(t>0||l>0){const f=X2({bids:e,bidsCount:t,asks:r,asksCount:l});return{x:i+s+a+o/2,text:f,width:ei(n,f),color:c}}return null}function x2(n,{asks:e,asksCount:t},{W:r,right:l},i){if(t>0){const s=e[t-1].price,a=ei(n,s);return{x:r-a/2-l,text:s,width:a,color:i}}return null}function eb(n,e,{bids:t,bidsCount:r},{left:l,xOffset:i,xStep:s,yRuleWidth:a,xRuleWidth:o,lineSize:c},f){if(r>e){const d=t[e].price;return{x:l+a+o-(e*s+i)-c/2,text:d,width:ei(n,d),color:f}}return null}function tb(n,e,{asks:t,asksCount:r},{left:l,xOffset:i,xStep:s,yRuleWidth:a,xRuleWidth:o,lineSize:c},f){if(r>e){const d=t[e].price;return{x:l+a+o+c+(e*s+i)-c/2,text:d,width:ei(n,d),color:f}}return null}function nb({bids:n,bidsCount:e,asks:t,asksCount:r,bidMax:l,askMax:i},{top:s},a){const o=l&&i&&l.total>i.total||l&&!i,c=l&&i&&i.total>l.total||i&&!l;return o?{y:s,text:Ll(l.total),color:a.bidText}:c?{y:s,text:Ll(i.total),color:a.askText}:null}function rb({bids:n,bidsCount:e,asks:t,asksCount:r,bidMax:l,askMax:i,minTotal:s},{top:a,yScale:o,yOffset:c,yRuleHeight:f},d){const h=l&&i&&l.total<i.total||l&&!i,m=l&&i&&i.total<l.total||i&&!l;return h?{y:a+f-(l.total-s)*o-c,text:Ll(l.total),color:d.bidText}:m?{y:a+f-(i.total-s)*o-c,text:Ll(i.total),color:d.askText}:null}function lb({top:n,yRuleHeight:e,lineSize:t},r){return{y:n+e-t/2,text:"0",color:r}}function Ll(n){return n<1e3?n.toFixed(1):n<1e6?(n/1e3).toFixed(1)+"K":n<1e9?(n/1e6).toFixed(1)+"M":(n/1e6).toFixed(1)+"G"}function ib(n,e){return n.sort((t,r)=>t.y-r.y).reduce((t,r)=>(r.y-t.y>e&&(t.items.push(r),t.y=r.y),t),{items:[],y:0}).items}function sb(n){return n.sort((e,t)=>e.x-t.x).reduce((e,t)=>(t.x-e.x>t.width&&(e.items.push(t),e.x=t.x),e),{items:[],x:0}).items}class ab{constructor(e){this.chart=e}draw(){const e=this;e.drawX(),e.drawY()}collectXItems(){const{ctx:e,theme:t,data:r,activeData:{activeIndex:l},scope:i}=this.chart,s=[J2(e,r,i,t.text),Z2(e,r,i,t.text),x2(e,r,i,t.text)];return l>-1&&(s.push(eb(e,l,r,i,t.bidText)),s.push(tb(e,l,r,i,t.askText))),s.filter(Boolean)}collectYItems(){const{data:e,data:{minTotal:t},activeData:{activeBid:r,activeAsk:l},theme:i,scope:s}=this.chart,{top:a,yRuleHeight:o,yScale:c,yOffset:f}=s,d=[lb(s,i.text),rb(e,s,i),nb(e,s,i)];return r&&d.push({y:a+o-(r.total-t)*c-f,text:Ll(r.total),color:i.bidText}),l&&d.push({y:a+o-(l.total-t)*c-f,text:Ll(l.total),color:i.askText}),d.filter(Boolean)}drawX(){const e=sb(this.collectXItems()),{ctx:t,theme:r,scope:l}=this.chart;t.save();const{top:i,fontPadding:s,scaleLength:a,yRuleHeight:o,lineSize:c}=l;ds(t),t.lineWidth=c,t.textAlign="center",t.textBaseline="top";const f=i+o+c;t.beginPath(),t.strokeStyle=r.axis,e.forEach(({x:d,text:h,color:m})=>{t.fillStyle=m,t.moveTo(d,f),t.lineTo(d,f+a),t.fillText(h,d,f+a+s)}),t.stroke(),t.restore()}drawY(){const{ctx:e,theme:t,scope:r}=this.chart;e.save();const{left:l,fontPadding:i,scaleLength:s,yRuleWidth:a,lineSize:o,fontSize:c}=r;ds(e),e.lineWidth=o,e.textAlign="right",e.textBaseline="middle";const f=l+a-o,d=ib(this.collectYItems(),c);e.beginPath(),e.strokeStyle=t.axis,d.forEach(({y:h,text:m,color:v})=>{e.fillStyle=v,e.moveTo(f-s,h),e.lineTo(f,h),e.fillText(m,f-i-s,h)}),e.stroke(),e.restore()}}const ob={theme:"light",width:500,height:400,left:20,right:20,top:28,bottom:16,fontSize:24,fontPadding:8,scaleLength:10,lineSize:1,polylineSize:2,xOffset:40,yOffset:40},gi={light:{bidText:"#3bc7a4",bidHover:"#99e1cf",bidLine:"#3bc7a4",bidLineLight:"rgba(59,199,164,.4)",bidFill:"#9de3d1",bidFillLight:"rgba(157,227,209,.4)",askText:"#ff6666",askHover:"#ea8d8a",askLine:"#ff6666",askLineLight:"rgba(220,74,69,.4)",askFill:"#eda4a2",askFillLight:"rgba(237,164,162,.4)",middleLine:"#d2d5d9",axis:"#d9d9d9",text:"#303236"},dark:{bidText:"#1cc198",bidHover:"#99e1cf",bidLine:"#1cc198",bidLineLight:"rgba(59,199,164,.4)",bidFill:"#1f6c63",bidFillLight:"rgba(62,206,169,.2)",askText:"#ff6666",askHover:"#ea8d8a",askLine:"#ff6666",askLineLight:"rgba(220,74,69,.4)",askFill:"#7a2d34",askFillLight:"rgba(242,81,75,.2)",middleLine:"rgba(255, 255, 255, 0.1)",axis:"rgba(255, 255, 255, 0.1)",text:"rgba(255, 255, 255, 0.9)"}};function ub(n,e,t,r){return e>0&&r>0?Math.min(n[0].total,t[0].total):e>0?n[0].total:r>0?t[0].total:0}function cb(n,e,t,r){return e>0&&r>0?Math.max(n[e-1].total,t[r-1].total):e>0?n[e-1].total:r>0?t[r-1].total:0}class fb{constructor(e,t,r){this.container=e,this.options={...ob,...r},this.initTheme(),this.initScope(),this.initCanvas(t),this.ctx=this.canvas.getContext("2d"),this.data={bids:[],asks:[],bidsCount:0,asksCount:0,bidMax:null,askMax:null,maxTotal:0,minTotal:0},this.mouse={x:0,y:0},this.activeData={activeIndex:-1,activeBid:null,activeAsk:null},this.axis=new G2(this),this.polygon=new K2(this),this.scale=new ab(this),this.eventsHandler=new Y2(this)}initTheme(){const{theme:e}=this.options;if(typeof e=="string"&&gi[e]){this.theme=gi[e];return}if(typeof e=="object"){this.theme=e;return}this.theme=gi.light}initScope(){const{clientWidth:e,clientHeight:t}=this.container,{left:r,right:l,top:i,bottom:s,fontSize:a,fontPadding:o,scaleLength:c,lineSize:f,polylineSize:d,xOffset:h,yOffset:m}=this.options;this.scope={W:e*2,H:t*2,left:r*2,right:l*2,top:i*2,bottom:s*2,fontSize:a,fontPadding:o,scaleLength:c,lineSize:f,polylineSize:d,xOffset:h,yOffset:m,yRuleWidth:0,yTextHeight:0,xRuleHeight:0,xRuleWidth:0,yRuleHeight:0,xStep:0,yScale:0}}initCanvas(e){const{W:t,H:r}=this.scope;e.width=t,e.height=r,e.style.width=t/2+"px",e.style.height=r/2+"px",this.canvas=e}updateData(e,t){this.data.bids=e,this.data.asks=t,this.render()}updateMouse({x:e,y:t}){const{mouse:r}=this;r.x=e,r.y=t,this.render()}updateTheme(e){if(typeof e=="string"&&gi[e]){this.theme=gi[e],this.render();return}typeof e=="object"&&(this.theme=e,this.render())}resize(){const{container:e,canvas:t,scope:r}=this,{clientWidth:l,clientHeight:i}=e;t.width=r.W=l*2,t.height=r.H=i*2,t.style.width=l+"px",t.style.height=i+"px",this.render()}syncData(){const{data:e}=this,{bids:t,asks:r}=e,l=e.bidsCount=t.length,i=e.asksCount=r.length;e.bidMax=l>0?t[l-1]:null,e.askMax=i>0?r[i-1]:null,e.minTotal=ub(t,l,r,i),e.maxTotal=cb(t,l,r,i)}syncScope(){const{minTotal:e,maxTotal:t,bidsCount:r,asksCount:l}=this.data,{W:i,H:s,left:a,right:o,top:c,bottom:f,fontSize:d,fontPadding:h,scaleLength:m,lineSize:v,xOffset:k,yOffset:E}=this.scope,w=ei(this.ctx,t)+h+m+v,I=d,A=v+m+h+d,B=(i-a-o-w-v)/2,V=s-c-f-A,$=(B-k)/Math.max(r,l,1),P=(V-E)/(t-e);this.scope=Object.assign(this.scope,{yRuleWidth:w,yTextHeight:I,xRuleHeight:A,xRuleWidth:B,yRuleHeight:V,xStep:$,yScale:P})}syncActiveData(){const{data:e,activeData:t,mouse:r,scope:l}=this,{bids:i,bidsCount:s,asks:a,asksCount:o}=e,c=t.activeIndex=W2(r.x,r.y,l);t.activeBid=c>-1&&s>c?i[c]:null,t.activeAsk=c>-1&&o>c?a[c]:null}resetContext(){const{ctx:e,scope:{W:t,H:r,fontSize:l}}=this;e.font=`${l}px BASE, "Helvetica Neue", Helvetica, PingFangSC, -apple-system, "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif`,e.clearRect(0,0,t,r)}render(){this.syncData(),this.syncScope(),this.syncActiveData(),this.resetContext(),this.polygon.draw(),this.axis.draw(),this.scale.draw(),this.eventsHandler.draw()}dispose(){this.eventsHandler&&this.eventsHandler.dispose(),this.container=null,this.canvas=null,this.ctx=null}}function db(n){let e,t,r,l;return{c(){e=g("div"),t=g("div"),r=g("canvas"),this.h()},l(i){e=b(i,"DIV",{class:!0});var s=y(e);t=b(s,"DIV",{class:!0});var a=y(t);r=b(a,"CANVAS",{class:!0}),y(r).forEach(p),a.forEach(p),s.forEach(p),this.h()},h(){_(r,"class","pa B1 H-6p2aww"),_(t,"class","wp100 f1 pr usn B1"),_(e,"class","wrap f1 df fdc"),qr(()=>n[9].call(e))},m(i,s){Y(i,e,s),u(e,t),u(t,r),n[7](r),n[8](t),l=$i(e,n[9].bind(e))},p:Qe,i:Qe,o:Qe,d(i){i&&p(e),n[7](null),n[8](null),l()}}}function pb(n,e,t){let r,l;ne(n,a1,v=>t(5,r=v)),ne(n,ha,v=>t(6,l=v));let i=null,s=null,a=null,o=0,c=0;Ct(()=>(t(4,a=new fb(i,s,{})),setTimeout(()=>a&&a.resize()),window.addEventListener("resize",f),function(){a&&a.dispose(),t(4,a=null),window.removeEventListener("resize",f)}));function f(...v){a&&a.resize()}function d(v){Ue[v?"unshift":"push"](()=>{s=v,t(3,s)})}function h(v){Ue[v?"unshift":"push"](()=>{i=v,t(2,i)})}function m(){o=this.clientWidth,c=this.clientHeight,t(0,o),t(1,c)}return n.$$.update=()=>{if(n.$$.dirty&80&&a&&a.updateTheme(l.toLowerCase()),n.$$.dirty&48&&a){const{asks:v,bids:k}=r;a.updateData(k,v)}n.$$.dirty&3&&f(o,c)},[o,c,i,s,a,r,l,d,h,m]}let hb=class extends je{constructor(e){super(),We(this,e,pb,db,Fe,{})}};const Vt={Chart:"09bf1b",Depth:"179599",RecentTrades:"a15ce6",Markets:"e8712a",PleaseLoginTo:"ec1ef9",ActiveOrders:"056d2e",ConditionalOrders:"6c8f59",Fills:"01b0d3",OrderHistory:"ef309e",Balance:"f89ee0",PNLHistory:"0d27b4",PNLHistoryCan:"f744d9",AllSymbols:"6bfb95",PlaceOrder:"574f33",Fees:"6c2ab0",ViewOnlyThe:"86f54a",Position:"3e464a",TradingBot:"a95232",Active:"4f789f",History:"e4b26d"};function lf(n,e,t){const r=n.slice();return r[8]=e[t],r}function sf(n){let e,t=n[8].text+"",r,l,i;return{c(){e=g("div"),r=q(t),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","chart-tab cp f14 T3 fw2 H-ztary9"),$e(e,"active",n[8].value===n[0])},m(s,a){Y(s,e,a),u(e,r),l||(i=[Je(e,"click",function(){Bt(n[4](n[8]))&&n[4](n[8]).apply(this,arguments)}),Je(e,"mousedown",Ln(n[6]))],l=!0)},p(s,a){n=s,a&2&&t!==(t=n[8].text+"")&&N(r,t),a&3&&$e(e,"active",n[8].value===n[0])},d(s){s&&p(e),l=!1,an(i)}}}function mb(n){let e,t,r,l;e=new vp({props:{class:n[0]===kr.Chart?"":"dn"}});let i=n[0]===kr.Depth&&af();return{c(){le(e.$$.fragment),t=S(),i&&i.c(),r=Ke()},l(s){ae(e.$$.fragment,s),t=C(s),i&&i.l(s),r=Ke()},m(s,a){ie(e,s,a),Y(s,t,a),i&&i.m(s,a),Y(s,r,a),l=!0},p(s,a){const o={};a&1&&(o.class=s[0]===kr.Chart?"":"dn"),e.$set(o),s[0]===kr.Depth?i?a&1&&H(i,1):(i=af(),i.c(),H(i,1),i.m(r.parentNode,r)):i&&(Ze(),U(i,1,1,()=>{i=null}),xe())},i(s){l||(H(e.$$.fragment,s),H(i),l=!0)},o(s){U(e.$$.fragment,s),U(i),l=!1},d(s){se(e,s),s&&p(t),i&&i.d(s),s&&p(r)}}}function _b(n){let e=n[3].symbol,t,r,l=of(n);return{c(){l.c(),t=Ke()},l(i){l.l(i),t=Ke()},m(i,s){l.m(i,s),Y(i,t,s),r=!0},p(i,s){s&8&&Fe(e,e=i[3].symbol)?(Ze(),U(l,1,1,Qe),xe(),l=of(i),l.c(),H(l,1),l.m(t.parentNode,t)):l.p(i,s)},i(i){r||(H(l),r=!0)},o(i){U(l),r=!1},d(i){i&&p(t),l.d(i)}}}function af(n){let e,t;return e=new hb({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function of(n){let e,t;return e=new ah({props:{tradePair:n[3]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&8&&(i.tradePair=r[3]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function vb(n){let e,t,r,l,i,s,a,o=n[1],c=[];for(let m=0;m<o.length;m+=1)c[m]=sf(lf(n,o,m));const f=[_b,mb],d=[];function h(m,v){return m[2]?0:1}return i=h(n),s=d[i]=f[i](n),{c(){e=g("div"),t=g("span");for(let m=0;m<c.length;m+=1)c[m].c();r=S(),l=g("div"),s.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"SPAN",{class:!0});var k=y(t);for(let T=0;T<c.length;T+=1)c[T].l(k);k.forEach(p),r=C(v),l=b(v,"DIV",{class:!0});var E=y(l);s.l(E),E.forEach(p),v.forEach(p),this.h()},h(){_(t,"class","chart-tabs df aic H-ztary9"),_(l,"class","f1 df fdc sv B1"),_(e,"class","wrap df fdc f1 pr ovh")},m(m,v){Y(m,e,v),u(e,t);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(t,null);u(e,r),u(e,l),d[i].m(l,null),a=!0},p(m,[v]){if(v&19){o=m[1];let E;for(E=0;E<o.length;E+=1){const T=lf(m,o,E);c[E]?c[E].p(T,v):(c[E]=sf(T),c[E].c(),c[E].m(t,null))}for(;E<c.length;E+=1)c[E].d(1);c.length=o.length}let k=i;i=h(m),i===k?d[i].p(m,v):(Ze(),U(d[k],1,1,()=>{d[k]=null}),xe(),s=d[i],s?s.p(m,v):(s=d[i]=f[i](m),s.c()),H(s,1),s.m(l,null))},i(m){a||(H(s),a=!0)},o(m){U(s),a=!1},d(m){m&&p(e),sn(c,m),d[i].d()}}}function gb(n,e,t){let r,l,i;ne(n,it,d=>t(5,r=d)),ne(n,sh,d=>t(2,l=d)),ne(n,Ht,d=>t(3,i=d));let s=kr.Chart,a=[];function o(d){t(1,a=[{text:d(Vt.Chart),value:kr.Chart},{text:d(Vt.Depth),value:kr.Depth}])}function c(d){return()=>{t(0,s=d.value)}}function f(d){rr.call(this,n,d)}return n.$$.update=()=>{n.$$.dirty&32&&o(r)},[s,a,l,i,c,r,f]}let bb=class extends je{constructor(e){super(),We(this,e,gb,vb,Fe,{})}};function uf(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function yb(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont arrow-icon fw2 H-1lgwnlr")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function cf(n){let e,t=n[1](n[5].label)+"",r,l,i,s,a,o=n[7]!==n[2].length-1&&yb();return{c(){e=g("div"),r=q(t),l=S(),o&&o.c(),i=Ke(),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);r=D(f,t),f.forEach(p),l=C(c),o&&o.l(c),i=Ke(),this.h()},h(){_(e,"class","step-item "+(n[5].clickHandler?"can-click cp":"")+" f12 fw2 H-1lgwnlr"),$e(e,"active",n[0]===n[5].id)},m(c,f){Y(c,e,f),u(e,r),Y(c,l,f),o&&o.m(c,f),Y(c,i,f),s||(a=Je(e,"click",n[3](n[5].id,n[5].clickHandler)),s=!0)},p(c,f){n=c,f&2&&t!==(t=n[1](n[5].label)+"")&&N(r,t),f&5&&$e(e,"active",n[0]===n[5].id)},d(c){c&&p(e),c&&p(l),o&&o.d(c),c&&p(i),s=!1,a()}}}function Eb(n){let e,t,r,l=n[1](zt.MarginTradingSteps)+"",i,s,a,o,c,f,d,h,m,v=n[1](zt.Tutorial)+"",k,E,T,w=n[2],I=[];for(let A=0;A<w.length;A+=1)I[A]=cf(uf(n,w,A));return{c(){e=g("section"),t=g("div"),r=g("div"),i=q(l),s=S(),a=g("div");for(let A=0;A<I.length;A+=1)I[A].c();o=S(),c=g("a"),f=g("i"),d=q(""),h=S(),m=g("span"),k=q(v),this.h()},l(A){e=b(A,"SECTION",{class:!0});var B=y(e);t=b(B,"DIV",{class:!0});var V=y(t);r=b(V,"DIV",{class:!0});var $=y(r);i=D($,l),$.forEach(p),s=C(V),a=b(V,"DIV",{class:!0});var P=y(a);for(let M=0;M<I.length;M+=1)I[M].l(P);P.forEach(p),V.forEach(p),o=C(B),c=b(B,"A",{class:!0,href:!0});var z=y(c);f=b(z,"I",{class:!0});var F=y(f);d=D(F,""),F.forEach(p),h=C(z),m=b(z,"SPAN",{class:!0});var O=y(m);k=D(O,v),O.forEach(p),z.forEach(p),B.forEach(p),this.h()},h(){_(r,"class","T1 f12 fw2"),_(a,"class","df aic"),_(t,"class","df aic f1"),_(f,"class","iconfont f16"),_(m,"class","ml4"),_(c,"class","sub-text df aic f12 fw2 H-1lgwnlr"),_(c,"href","javascript:void(0);"),_(e,"class","steps-container df aic ph16 B1 H-1lgwnlr")},m(A,B){Y(A,e,B),u(e,t),u(t,r),u(r,i),u(t,s),u(t,a);for(let V=0;V<I.length;V+=1)I[V]&&I[V].m(a,null);u(e,o),u(e,c),u(c,f),u(f,d),u(c,h),u(c,m),u(m,k),E||(T=Je(c,"click",n[4]),E=!0)},p(A,[B]){if(B&2&&l!==(l=A[1](zt.MarginTradingSteps)+"")&&N(i,l),B&15){w=A[2];let V;for(V=0;V<w.length;V+=1){const $=uf(A,w,V);I[V]?I[V].p($,B):(I[V]=cf($),I[V].c(),I[V].m(a,null))}for(;V<I.length;V+=1)I[V].d(1);I.length=w.length}B&2&&v!==(v=A[1](zt.Tutorial)+"")&&N(k,v)},i:Qe,o:Qe,d(A){A&&p(e),sn(I,A),E=!1,T()}}}function kb(n,e,t){let r;ne(n,it,o=>t(1,r=o));const l=P0();let i="";function s(o,c){return function(){c&&c({beforeShowDialogHanlder(){t(0,i=o)},closedDialogHanlder(){t(0,i="")}})}}function a(){It.create(dp)}return[i,r,l,s,a]}let wb=class extends je{constructor(e){super(),We(this,e,kb,Eb,Fe,{})}};var gt=(n=>(n[n.ACTIVE_ORDERS=0]="ACTIVE_ORDERS",n[n.CONDITIONAL_ORDERS=1]="CONDITIONAL_ORDERS",n[n.FILLS=2]="FILLS",n[n.ORDER_HISTORY=3]="ORDER_HISTORY",n[n.BALANCE=4]="BALANCE",n[n.POSITION=5]="POSITION",n[n.TRADING_BOTS=6]="TRADING_BOTS",n))(gt||{});const yp=Br([Ci,qd]).pipe(Wt(([n,e])=>A1(n,e)),wd(1)),$b=yp.pipe(Wt(n=>n.length)),Sb=$b.pipe(Wt(n=>n>0?`(${n})`:"")),ff={ConfirmCancelAll:"c1c734"};function Cb(n){let e,t=n[0](ff.ConfirmCancelAll)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ph16 pb20 T2")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&1&&t!==(t=l[0](ff.ConfirmCancelAll)+"")&&N(r,t)},d(l){l&&p(e)}}}function Tb(n){let e,t,r,l,i;return{c(){e=g("div"),t=g("i"),r=q(""),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);t=b(a,"I",{class:!0});var o=y(t);r=D(o,""),o.forEach(p),a.forEach(p),this.h()},h(){_(t,"class","iconfont cp T3"),_(e,"class","ph16 pt10 df jcfe b f16 T2"),_(e,"slot","header")},m(s,a){Y(s,e,a),u(e,t),u(t,r),l||(i=Je(t,"click",n[2]),l=!0)},p:Qe,d(s){s&&p(e),l=!1,i()}}}function Ib(n){let e=n[0](wt.Cancel)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&1&&e!==(e=r[0](wt.Cancel)+"")&&N(t,e)},d(r){r&&p(t)}}}function Pb(n){let e=n[0](wt.Confirm)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&1&&e!==(e=r[0](wt.Confirm)+"")&&N(t,e)},d(r){r&&p(t)}}}function Bb(n){let e,t,r,l,i;return t=new Nt({props:{size:"small",$$slots:{default:[Ib]},$$scope:{ctx:n}}}),t.$on("click",n[1]),l=new Nt({props:{size:"small",type:"primary",$$slots:{default:[Pb]},$$scope:{ctx:n}}}),l.$on("click",n[3]),{c(){e=g("div"),le(t.$$.fragment),r=S(),le(l.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0,slot:!0});var a=y(e);ae(t.$$.fragment,a),r=C(a),ae(l.$$.fragment,a),a.forEach(p),this.h()},h(){_(e,"class","footer df jcfe tr H-yslft9"),_(e,"slot","footer")},m(s,a){Y(s,e,a),ie(t,e,null),u(e,r),ie(l,e,null),i=!0},p(s,a){const o={};a&513&&(o.$$scope={dirty:a,ctx:s}),t.$set(o);const c={};a&513&&(c.$$scope={dirty:a,ctx:s}),l.$set(c)},i(s){i||(H(t.$$.fragment,s),H(l.$$.fragment,s),i=!0)},o(s){U(t.$$.fragment,s),U(l.$$.fragment,s),i=!1},d(s){s&&p(e),se(t),se(l)}}}function qb(n){let e,t;return e=new Kl({props:{style:"min-width: 320px;",$$slots:{footer:[Bb],header:[Tb],default:[Cb]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,[l]){const i={};l&513&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Db(n,e,t){let r,l,i;ne(n,pn,h=>t(6,r=h)),ne(n,In,h=>t(7,l=h)),ne(n,it,h=>t(0,i=h));let{isConditional:s=!1}=e,{symbol:a=""}=e;const o=Lt();function c(){o("close")}function f(){o("close")}async function d(){await V1({symbol:a,untriggered:s},l,r)&&(o("close"),ks.next(!0))}return n.$$set=h=>{"isConditional"in h&&t(4,s=h.isConditional),"symbol"in h&&t(5,a=h.symbol)},[i,c,f,d,s,a]}let Ep=class extends je{constructor(e){super(),We(this,e,Db,qb,Fe,{isConditional:4,symbol:5})}};const Ot={NoData:"eaf20b",Summary:"9620db",CancelAll:"33c637",Symbol:"fadd5a",Side:"cad4d5",Amount:"f72ed5",OrderPrice:"b124e8",Value:"3b48b8",FilledRemaining:"3fe207",Type:"68b7a6",Status:"c8bc6d",Time:"4180a7",Action:"8feaff",Cancel:"1a03be",Remove:"422625"};function Ab(n){let e=n[0](Ot.Action)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&1&&e!==(e=r[0](Ot.Action)+"")&&N(t,e)},d(r){r&&p(t)}}}function Vb(n){let e,t=n[0](Ot.CancelAll)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","ph16 lh22 cp H-hcsrb7")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[2]),l=!0)},p(s,a){a&1&&t!==(t=s[0](Ot.CancelAll)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function Hb(n){let e,t,r=n[0](Ot.Symbol)+"",l,i,s,a=n[0](Ot.Side)+"",o,c,f,d=n[0](Ot.Amount)+"",h,m,v,k=n[0](Ot.OrderPrice)+"",E,T,w,I=n[0](Ot.Value)+"",A,B,V,$=n[0](Ot.FilledRemaining)+"",P,z,F,O=n[0](Ot.Type)+"",M,L,Q,j=n[0](Ot.Status)+"",K,W,Z,J=n[0](Ot.Time)+"",R,X,te;function oe(G,re){return G[1]==="Login"?Vb:Ab}let x=oe(n),de=x(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),X=S(),te=g("div"),de.c(),this.h()},l(G){e=b(G,"DIV",{class:!0});var re=y(e);t=b(re,"DIV",{class:!0});var ge=y(t);l=D(ge,r),ge.forEach(p),i=C(re),s=b(re,"DIV",{class:!0});var Ee=y(s);o=D(Ee,a),Ee.forEach(p),c=C(re),f=b(re,"DIV",{class:!0});var we=y(f);h=D(we,d),we.forEach(p),m=C(re),v=b(re,"DIV",{class:!0});var ee=y(v);E=D(ee,k),ee.forEach(p),T=C(re),w=b(re,"DIV",{class:!0});var me=y(w);A=D(me,I),me.forEach(p),B=C(re),V=b(re,"DIV",{class:!0});var Se=y(V);P=D(Se,$),Se.forEach(p),z=C(re),F=b(re,"DIV",{class:!0});var qe=y(F);M=D(qe,O),qe.forEach(p),L=C(re),Q=b(re,"DIV",{class:!0});var Ce=y(Q);K=D(Ce,j),Ce.forEach(p),W=C(re),Z=b(re,"DIV",{class:!0});var Be=y(Z);R=D(Be,J),Be.forEach(p),X=C(re),te=b(re,"DIV",{class:!0});var ce=y(te);de.l(ce),ce.forEach(p),re.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-hcsrb7"),_(s,"class","cell tr H-hcsrb7"),_(f,"class","cell tr pr12 H-hcsrb7"),_(v,"class","cell tr pr12 H-hcsrb7"),_(w,"class","cell tr H-hcsrb7"),_(V,"class","cell tr H-hcsrb7"),_(F,"class","cell tr H-hcsrb7"),_(Q,"class","cell tr H-hcsrb7"),_(Z,"class","cell pr16 tr H-hcsrb7"),_(te,"class","cell ps tr H-hcsrb7"),_(e,"class","row lh28 H-hcsrb7")},m(G,re){Y(G,e,re),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R),u(e,X),u(e,te),de.m(te,null)},p(G,[re]){re&1&&r!==(r=G[0](Ot.Symbol)+"")&&N(l,r),re&1&&a!==(a=G[0](Ot.Side)+"")&&N(o,a),re&1&&d!==(d=G[0](Ot.Amount)+"")&&N(h,d),re&1&&k!==(k=G[0](Ot.OrderPrice)+"")&&N(E,k),re&1&&I!==(I=G[0](Ot.Value)+"")&&N(A,I),re&1&&$!==($=G[0](Ot.FilledRemaining)+"")&&N(P,$),re&1&&O!==(O=G[0](Ot.Type)+"")&&N(M,O),re&1&&j!==(j=G[0](Ot.Status)+"")&&N(K,j),re&1&&J!==(J=G[0](Ot.Time)+"")&&N(R,J),x===(x=oe(G))&&de?de.p(G,re):(de.d(1),de=x(G),de&&(de.c(),de.m(te,null)))},i:Qe,o:Qe,d(G){G&&p(e),de.d()}}}function Ob(n,e,t){let r,l;ne(n,it,o=>t(0,r=o)),ne(n,Nn,o=>t(1,l=o));let{symbol:i=""}=e,{ordersLen:s=0}=e;function a(){s>0&&It.create(Ep,{symbol:i,isConditional:!1})}return n.$$set=o=>{"symbol"in o&&t(3,i=o.symbol),"ordersLen"in o&&t(4,s=o.ordersLen)},[r,l,a,i,s]}let Mb=class extends je{constructor(e){super(),We(this,e,Ob,Hb,Fe,{symbol:3,ordersLen:4})}};function df(n){let e,t,r,l=n[2].displaySymbol+"",i,s,a,o,c=n[2].side+"",f,d,h,m=n[2].stopPxEp?n[2].isMarket?"Market Conditional":"Limit Conditional":"Limit",v,k,E,T,w,I,A,B,V,$,P,z=n[13](dt.Available)+"",F,O,M,L=n[4].availableBalance+"",Q,j,K=n[4].displayCurrency+"",W,Z,J,R,X,te,oe,x,de,G=n[2].stopPxEp&&pf(n),re=!n[2].isMarket&&hf(n);function ge(ee){n[26](ee)}function Ee(ee){n[27](ee)}let we={isInline:!1,operation:!1,factor:n[12]===Me.ByBase?n[3].baseQtyFactor:n[3].quoteQtyFactor,scale:n[12]===Me.ByBase?n[3].baseQtyScale:n[3].quoteQtyScale,tickSizeEp:n[12]===Me.ByBase?n[3].baseTickSizeEv:n[3].quoteQtyTickSizeEv,precision:n[12]===Me.ByBase?n[3].baseQtyPrecision:n[3].quoteQtyPrecision,minPriceEp:n[12]===Me.ByBase?n[3].baseTickSizeEv:n[3].quoteTickSizeEv,maxPriceEp:n[12]===Me.ByBase?n[3].maxBaseOrderSizeEv:n[3].maxOrderValueEv,label:n[13](n[12]===Me.ByBase?ut.Size:ut.Amount),unit:n[12]===Me.ByBase?n[3].displayBaseCurrency:n[3].quoteCurrency};return n[8]!==void 0&&(we.input=n[8]),n[7]!==void 0&&(we.priceEp=n[7]),I=new dn({props:we}),Ue.push(()=>Ge(I,"input",ge)),Ue.push(()=>Ge(I,"priceEp",Ee)),R=new Nt({props:{class:"cancel f1 fw2",$$slots:{default:[Lb]},$$scope:{ctx:n}}}),R.$on("click",n[14]),te=new Nt({props:{class:"confirm f1 fw2",type:"primary",loading:n[11],$$slots:{default:[Nb]},$$scope:{ctx:n}}}),te.$on("click",n[15]),{c(){e=g("div"),t=g("div"),r=q("Edit Order - "),i=q(l),s=S(),a=g("div"),o=g("span"),f=q(c),d=S(),h=g("span"),v=q(m),k=S(),G&&G.c(),E=S(),re&&re.c(),T=S(),w=g("div"),le(I.$$.fragment),V=S(),$=g("div"),P=g("span"),F=q(z),O=S(),M=g("span"),Q=q(L),j=S(),W=q(K),Z=S(),J=g("div"),le(R.$$.fragment),X=S(),le(te.$$.fragment),this.h()},l(ee){e=b(ee,"DIV",{class:!0,"data-popper-placement":!0,role:!0});var me=y(e);t=b(me,"DIV",{class:!0});var Se=y(t);r=D(Se,"Edit Order - "),i=D(Se,l),Se.forEach(p),s=C(me),a=b(me,"DIV",{class:!0});var qe=y(a);o=b(qe,"SPAN",{class:!0});var Ce=y(o);f=D(Ce,c),Ce.forEach(p),d=C(qe),h=b(qe,"SPAN",{class:!0});var Be=y(h);v=D(Be,m),Be.forEach(p),qe.forEach(p),k=C(me),G&&G.l(me),E=C(me),re&&re.l(me),T=C(me),w=b(me,"DIV",{class:!0});var ce=y(w);ae(I.$$.fragment,ce),ce.forEach(p),V=C(me),$=b(me,"DIV",{class:!0});var fe=y($);P=b(fe,"SPAN",{class:!0});var Ve=y(P);F=D(Ve,z),Ve.forEach(p),O=C(fe),M=b(fe,"SPAN",{class:!0});var Ie=y(M);Q=D(Ie,L),j=C(Ie),W=D(Ie,K),Ie.forEach(p),fe.forEach(p),Z=C(me),J=b(me,"DIV",{class:!0});var be=y(J);ae(R.$$.fragment,be),X=C(be),ae(te.$$.fragment,be),be.forEach(p),me.forEach(p),this.h()},h(){_(t,"class","title fw3 T1 H-m91jy4"),_(o,"class","side br4 H-m91jy4"),$e(o,"buy",n[2].side==="Buy"),$e(o,"sell",n[2].side==="Sell"),_(h,"class","edit-order-type br4 BLUE H-m91jy4"),_(a,"class","sub-row mt8 mb16 f12"),_(w,"class","mb8"),_(P,"class","T2"),_(M,"class","ml4 T1"),_($,"class","f12"),_(J,"class","df btn mt16 H-m91jy4"),_(e,"class","tooltip B2 br8 H-m91jy4"),_(e,"data-popper-placement",zb),_(e,"role","tooltip")},m(ee,me){Y(ee,e,me),u(e,t),u(t,r),u(t,i),u(e,s),u(e,a),u(a,o),u(o,f),u(a,d),u(a,h),u(h,v),u(e,k),G&&G.m(e,null),u(e,E),re&&re.m(e,null),u(e,T),u(e,w),ie(I,w,null),u(e,V),u(e,$),u($,P),u(P,F),u($,O),u($,M),u(M,Q),u(M,j),u(M,W),u(e,Z),u(e,J),ie(R,J,null),u(J,X),ie(te,J,null),n[28](e),oe=!0,x||(de=Je(e,"mousedown",Ln(n[21])),x=!0)},p(ee,me){(!oe||me[0]&4)&&l!==(l=ee[2].displaySymbol+"")&&N(i,l),(!oe||me[0]&4)&&c!==(c=ee[2].side+"")&&N(f,c),(!oe||me[0]&4)&&$e(o,"buy",ee[2].side==="Buy"),(!oe||me[0]&4)&&$e(o,"sell",ee[2].side==="Sell"),(!oe||me[0]&4)&&m!==(m=ee[2].stopPxEp?ee[2].isMarket?"Market Conditional":"Limit Conditional":"Limit")&&N(v,m),ee[2].stopPxEp?G?(G.p(ee,me),me[0]&4&&H(G,1)):(G=pf(ee),G.c(),H(G,1),G.m(e,E)):G&&(Ze(),U(G,1,1,()=>{G=null}),xe()),ee[2].isMarket?re&&(Ze(),U(re,1,1,()=>{re=null}),xe()):re?(re.p(ee,me),me[0]&4&&H(re,1)):(re=hf(ee),re.c(),H(re,1),re.m(e,T));const Se={};me[0]&4104&&(Se.factor=ee[12]===Me.ByBase?ee[3].baseQtyFactor:ee[3].quoteQtyFactor),me[0]&4104&&(Se.scale=ee[12]===Me.ByBase?ee[3].baseQtyScale:ee[3].quoteQtyScale),me[0]&4104&&(Se.tickSizeEp=ee[12]===Me.ByBase?ee[3].baseTickSizeEv:ee[3].quoteQtyTickSizeEv),me[0]&4104&&(Se.precision=ee[12]===Me.ByBase?ee[3].baseQtyPrecision:ee[3].quoteQtyPrecision),me[0]&4104&&(Se.minPriceEp=ee[12]===Me.ByBase?ee[3].baseTickSizeEv:ee[3].quoteTickSizeEv),me[0]&4104&&(Se.maxPriceEp=ee[12]===Me.ByBase?ee[3].maxBaseOrderSizeEv:ee[3].maxOrderValueEv),me[0]&12288&&(Se.label=ee[13](ee[12]===Me.ByBase?ut.Size:ut.Amount)),me[0]&4104&&(Se.unit=ee[12]===Me.ByBase?ee[3].displayBaseCurrency:ee[3].quoteCurrency),!A&&me[0]&256&&(A=!0,Se.input=ee[8],Ye(()=>A=!1)),!B&&me[0]&128&&(B=!0,Se.priceEp=ee[7],Ye(()=>B=!1)),I.$set(Se),(!oe||me[0]&8192)&&z!==(z=ee[13](dt.Available)+"")&&N(F,z),(!oe||me[0]&16)&&L!==(L=ee[4].availableBalance+"")&&N(Q,L),(!oe||me[0]&16)&&K!==(K=ee[4].displayCurrency+"")&&N(W,K);const qe={};me[1]&8&&(qe.$$scope={dirty:me,ctx:ee}),R.$set(qe);const Ce={};me[0]&2048&&(Ce.loading=ee[11]),me[1]&8&&(Ce.$$scope={dirty:me,ctx:ee}),te.$set(Ce)},i(ee){oe||(H(G),H(re),H(I.$$.fragment,ee),H(R.$$.fragment,ee),H(te.$$.fragment,ee),oe=!0)},o(ee){U(G),U(re),U(I.$$.fragment,ee),U(R.$$.fragment,ee),U(te.$$.fragment,ee),oe=!1},d(ee){ee&&p(e),G&&G.d(),re&&re.d(),se(I),se(R),se(te),n[28](null),x=!1,de()}}}function pf(n){let e,t,r,l,i;function s(c){n[22](c)}function a(c){n[23](c)}let o={isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[13](ut.TriggerPrice),unit:n[3].quoteCurrency};return n[10]!==void 0&&(o.input=n[10]),n[9]!==void 0&&(o.priceEp=n[9]),t=new dn({props:o}),Ue.push(()=>Ge(t,"input",s)),Ue.push(()=>Ge(t,"priceEp",a)),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);ae(t.$$.fragment,f),f.forEach(p),this.h()},h(){_(e,"class","mb12")},m(c,f){Y(c,e,f),ie(t,e,null),i=!0},p(c,f){const d={};f[0]&8&&(d.factor=c[3].quoteQtyFactor),f[0]&8&&(d.scale=c[3].quoteQtyScale),f[0]&8&&(d.tickSizeEp=c[3].quoteTickSizeEv),f[0]&8&&(d.precision=c[3].pricePrecision),f[0]&8&&(d.minPriceEp=c[3].quoteTickSizeEv),f[0]&8&&(d.maxPriceEp=c[3].maxOrderValueEv),f[0]&8192&&(d.label=c[13](ut.TriggerPrice)),f[0]&8&&(d.unit=c[3].quoteCurrency),!r&&f[0]&1024&&(r=!0,d.input=c[10],Ye(()=>r=!1)),!l&&f[0]&512&&(l=!0,d.priceEp=c[9],Ye(()=>l=!1)),t.$set(d)},i(c){i||(H(t.$$.fragment,c),i=!0)},o(c){U(t.$$.fragment,c),i=!1},d(c){c&&p(e),se(t)}}}function hf(n){let e,t,r,l,i;function s(c){n[24](c)}function a(c){n[25](c)}let o={isInline:!1,operation:!1,factor:n[3].quoteQtyFactor,scale:n[3].quoteQtyScale,tickSizeEp:n[3].quoteTickSizeEv,precision:n[3].pricePrecision,minPriceEp:n[3].quoteTickSizeEv,maxPriceEp:n[3].maxOrderValueEv,label:n[13](dt.Price),unit:n[3].quoteCurrency};return n[6]!==void 0&&(o.input=n[6]),n[5]!==void 0&&(o.priceEp=n[5]),t=new dn({props:o}),Ue.push(()=>Ge(t,"input",s)),Ue.push(()=>Ge(t,"priceEp",a)),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var f=y(e);ae(t.$$.fragment,f),f.forEach(p),this.h()},h(){_(e,"class","mb12")},m(c,f){Y(c,e,f),ie(t,e,null),i=!0},p(c,f){const d={};f[0]&8&&(d.factor=c[3].quoteQtyFactor),f[0]&8&&(d.scale=c[3].quoteQtyScale),f[0]&8&&(d.tickSizeEp=c[3].quoteTickSizeEv),f[0]&8&&(d.precision=c[3].pricePrecision),f[0]&8&&(d.minPriceEp=c[3].quoteTickSizeEv),f[0]&8&&(d.maxPriceEp=c[3].maxOrderValueEv),f[0]&8192&&(d.label=c[13](dt.Price)),f[0]&8&&(d.unit=c[3].quoteCurrency),!r&&f[0]&64&&(r=!0,d.input=c[6],Ye(()=>r=!1)),!l&&f[0]&32&&(l=!0,d.priceEp=c[5],Ye(()=>l=!1)),t.$set(d)},i(c){i||(H(t.$$.fragment,c),i=!0)},o(c){U(t.$$.fragment,c),i=!1},d(c){c&&p(e),se(t)}}}function Lb(n){let e;return{c(){e=q("Cancel")},l(t){e=D(t,"Cancel")},m(t,r){Y(t,e,r)},d(t){t&&p(e)}}}function Nb(n){let e;return{c(){e=q("Confirm")},l(t){e=D(t,"Confirm")},m(t,r){Y(t,e,r)},d(t){t&&p(e)}}}function Ub(n){let e,t,r=n[1]&&df(n);return{c(){r&&r.c(),e=Ke()},l(l){r&&r.l(l),e=Ke()},m(l,i){r&&r.m(l,i),Y(l,e,i),t=!0},p(l,i){l[1]?r?(r.p(l,i),i[0]&2&&H(r,1)):(r=df(l),r.c(),H(r,1),r.m(e.parentNode,e)):r&&(Ze(),U(r,1,1,()=>{r=null}),xe())},i(l){t||(H(r),t=!0)},o(l){U(r),t=!1},d(l){r&&r.d(l),l&&p(e)}}}let zb="top";function Fb(n,e,t){let r,l,i,s;ne(n,it,X=>t(13,l=X)),ne(n,zl,X=>t(19,i=X)),ne(n,o1,X=>t(20,s=X));let{visible:a=!1}=e,{anchorNode:o=null}=e,{tooltipNode:c=null}=e,{item:f=null}=e,{field:d="Amount"}=e,h,m={availableBalance:"0.00",displayCurrency:"-"},v=0,k=null,E=0,T=null,w=0,I=null,A=!1,B=!1;Ct(()=>{t(9,w=f.stopPxEp),t(5,v=f.priceEp),t(7,E=f.qtyEv),t(18,A=!0)});function V(X,te){X&&setTimeout(()=>{te==="Amount"&&T&&T.focus(),te==="Price"&&k&&k.focus(),te==="StopPx"&&I&&I.focus()},0)}function $(X,te){!te||!X||Id(X,te,{placement:"top",modifiers:[{name:"offset",options:{offset:[0,15]}}]})}function P(X,te){!X||!te||t(3,h=X.get(te.symbol))}function z(X,te,oe){if(!oe)return;const{baseCurrency:x,quoteCurrency:de}=te,G=oe.side===Oe.Buy?de:x;t(4,m=X.find(re=>re.currency===G)||{availableBalance:"0.00",displayCurrency:"-"})}function F(){t(1,a=!1)}async function O(){const X=await M(E,r,!!w,w);if(X){vt.send("toast","info",{message:X});return}const te={};if(w&&Object.assign(te,{stopPxEp:w}),v&&Object.assign(te,{priceEp:v}),E){const x={[r===Me.ByBase?"baseQtyEv":"quoteQtyEv"]:E};Object.assign(te,x)}t(11,B=!0),await xd(f,te)&&t(1,a=!1),t(11,B=!1)}function M(X,te,oe,x){if(X<=0)return l(Mn.QuantityError);const{minOrderValueEv:de,minOrderValue:G,maxOrderValueEv:re}=h,ge=oe?rt.Conditional:rt.Limit,Ee=f.isMarket?bt.Market:bt.Limit,we=Vn(h,ge,v||x,te,X,Ee,x);if(te===Me.ByQuote&&X<de||te===Me.ByBase&&we<de)return l(Mn.TransactionAmountCannot,{MinOrderValue:G});if(te===Me.ByQuote&&X>re||te===Me.ByBase&&we>re)return l(Mn.TheNumberOfOrders)}function L(X){rr.call(this,n,X)}function Q(X){I=X,t(10,I)}function j(X){w=X,t(9,w)}function K(X){k=X,t(6,k)}function W(X){v=X,t(5,v)}function Z(X){T=X,t(8,T)}function J(X){E=X,t(7,E)}function R(X){Ue[X?"unshift":"push"](()=>{c=X,t(0,c)})}return n.$$set=X=>{"visible"in X&&t(1,a=X.visible),"anchorNode"in X&&t(16,o=X.anchorNode),"tooltipNode"in X&&t(0,c=X.tooltipNode),"item"in X&&t(2,f=X.item),"field"in X&&t(17,d=X.field)},n.$$.update=()=>{n.$$.dirty[0]&1048580&&P(s,f),n.$$.dirty[0]&524300&&z(i,h,f),n.$$.dirty[0]&65537&&$(o,c),n.$$.dirty[0]&393216&&V(A,d),n.$$.dirty[0]&4&&t(12,r=f==null?void 0:f.qtyType)},[c,a,f,h,m,v,k,E,T,w,I,B,r,l,F,O,o,d,A,i,s,L,Q,j,K,W,Z,J,R]}let kp=class extends je{constructor(e){super(),We(this,e,Fb,Ub,Fe,{visible:1,anchorNode:16,tooltipNode:0,item:2,field:17},null,[-1,-1])}get visible(){return this.$$.ctx[1]}set visible(e){this.$$set({visible:e}),Kn()}get anchorNode(){return this.$$.ctx[16]}set anchorNode(e){this.$$set({anchorNode:e}),Kn()}get tooltipNode(){return this.$$.ctx[0]}set tooltipNode(e){this.$$set({tooltipNode:e}),Kn()}get item(){return this.$$.ctx[2]}set item(e){this.$$set({item:e}),Kn()}get field(){return this.$$.ctx[17]}set field(e){this.$$set({field:e}),Kn()}};function mf(n){let e,t,r,l;return{c(){e=g("i"),t=q(""),this.h()},l(i){e=b(i,"I",{class:!0});var s=y(e);t=D(s,""),s.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 pr12 f14 T2 cp H-118qd21")},m(i,s){Y(i,e,s),u(e,t),n[11](e),r||(l=Je(e,"mousedown",Ln(function(){Bt(n[9](n[0],n[1],"Amount"))&&n[9](n[0],n[1],"Amount").apply(this,arguments)})),r=!0)},p(i,s){n=i},d(i){i&&p(e),n[11](null),r=!1,l()}}}function _f(n){let e,t,r,l;return{c(){e=g("i"),t=q(""),this.h()},l(i){e=b(i,"I",{class:!0});var s=y(e);t=D(s,""),s.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 pr12 f14 T2 cp H-118qd21")},m(i,s){Y(i,e,s),u(e,t),n[12](e),r||(l=Je(e,"mousedown",Ln(function(){Bt(n[9](n[0],n[2],"Price"))&&n[9](n[0],n[2],"Price").apply(this,arguments)})),r=!0)},p(i,s){n=i},d(i){i&&p(e),n[12](null),r=!1,l()}}}function Rb(n){let e,t=n[5](Ot.Remove)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","ph16 cp H-118qd21")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[7]),l=!0)},p(s,a){a&32&&t!==(t=s[5](Ot.Remove)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function Qb(n){let e,t=n[5](Ot.Cancel)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","active-cancel-all ph16 cp H-118qd21")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[6]),l=!0)},p(s,a){a&32&&t!==(t=s[5](Ot.Cancel)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function jb(n){let e,t,r=n[0].displaySymbol+"",l,i,s,a=n[0].side+"",o,c,f,d=n[0].qtyWU+"",h,m,v,k,E=n[0].price+"",T,w,I,A,B=n[0].valueWU+"",V,$,P,z=n[0].filledQty+"",F,O,M=n[0].remainingQtyWU+"",L,Q,j,K=n[0].ordType+"",W,Z,J,R=n[0].ordStatus+"",X,te,oe,x=n[0].createTime+"",de,G,re,ge,Ee,we,ee=n[3]&&mf(n),me=n[3]&&_f(n);function Se(Be,ce){return ce&1&&(ge=null),ge==null&&(ge=["New","PartiallyFilled"].indexOf(Be[0].ordStatus)>-1),ge?Qb:Rb}let qe=Se(n,-1),Ce=qe(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),ee&&ee.c(),v=S(),k=g("div"),T=q(E),w=S(),me&&me.c(),I=S(),A=g("div"),V=q(B),$=S(),P=g("div"),F=q(z),O=q(" / "),L=q(M),Q=S(),j=g("div"),W=q(K),Z=S(),J=g("div"),X=q(R),te=S(),oe=g("div"),de=q(x),G=S(),re=g("div"),Ce.c(),this.h()},l(Be){e=b(Be,"DIV",{class:!0});var ce=y(e);t=b(ce,"DIV",{class:!0});var fe=y(t);l=D(fe,r),fe.forEach(p),i=C(ce),s=b(ce,"DIV",{class:!0});var Ve=y(s);o=D(Ve,a),Ve.forEach(p),c=C(ce),f=b(ce,"DIV",{class:!0});var Ie=y(f);h=D(Ie,d),m=C(Ie),ee&&ee.l(Ie),Ie.forEach(p),v=C(ce),k=b(ce,"DIV",{class:!0});var be=y(k);T=D(be,E),w=C(be),me&&me.l(be),be.forEach(p),I=C(ce),A=b(ce,"DIV",{class:!0});var _e=y(A);V=D(_e,B),_e.forEach(p),$=C(ce),P=b(ce,"DIV",{class:!0});var ve=y(P);F=D(ve,z),O=D(ve," / "),L=D(ve,M),ve.forEach(p),Q=C(ce),j=b(ce,"DIV",{class:!0});var ke=y(j);W=D(ke,K),ke.forEach(p),Z=C(ce),J=b(ce,"DIV",{class:!0});var Ne=y(J);X=D(Ne,R),Ne.forEach(p),te=C(ce),oe=b(ce,"DIV",{class:!0});var Te=y(oe);de=D(Te,x),Te.forEach(p),G=C(ce),re=b(ce,"DIV",{class:!0});var He=y(re);Ce.l(He),He.forEach(p),ce.forEach(p),this.h()},h(){_(t,"class","symbol ps pl16 B1 cp H-118qd21"),$e(t,"linear-gradient-symbol",n[4]-320<1200),_(s,"class","tr H-118qd21"),$e(s,"buy",n[0].side==="Buy"),$e(s,"sell",n[0].side==="Sell"),_(f,"class","tr H-118qd21"),_(k,"class","tr H-118qd21"),_(A,"class","tr H-118qd21"),_(P,"class","tr H-118qd21"),_(j,"class","tr H-118qd21"),_(J,"class","tr H-118qd21"),_(oe,"class","pr16 tr H-118qd21"),_(re,"class","action ps tr B1 H-118qd21"),$e(re,"linear-gradient-action",n[4]-320<1200),_(e,"class","history-list wrap fw2 T1 H-118qd21")},m(Be,ce){Y(Be,e,ce),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(f,m),ee&&ee.m(f,null),u(e,v),u(e,k),u(k,T),u(k,w),me&&me.m(k,null),u(e,I),u(e,A),u(A,V),u(e,$),u(e,P),u(P,F),u(P,O),u(P,L),u(e,Q),u(e,j),u(j,W),u(e,Z),u(e,J),u(J,X),u(e,te),u(e,oe),u(oe,de),u(e,G),u(e,re),Ce.m(re,null),Ee||(we=Je(t,"click",n[8]),Ee=!0)},p(Be,[ce]){ce&1&&r!==(r=Be[0].displaySymbol+"")&&N(l,r),ce&16&&$e(t,"linear-gradient-symbol",Be[4]-320<1200),ce&1&&a!==(a=Be[0].side+"")&&N(o,a),ce&1&&$e(s,"buy",Be[0].side==="Buy"),ce&1&&$e(s,"sell",Be[0].side==="Sell"),ce&1&&d!==(d=Be[0].qtyWU+"")&&N(h,d),Be[3]?ee?ee.p(Be,ce):(ee=mf(Be),ee.c(),ee.m(f,null)):ee&&(ee.d(1),ee=null),ce&1&&E!==(E=Be[0].price+"")&&N(T,E),Be[3]?me?me.p(Be,ce):(me=_f(Be),me.c(),me.m(k,null)):me&&(me.d(1),me=null),ce&1&&B!==(B=Be[0].valueWU+"")&&N(V,B),ce&1&&z!==(z=Be[0].filledQty+"")&&N(F,z),ce&1&&M!==(M=Be[0].remainingQtyWU+"")&&N(L,M),ce&1&&K!==(K=Be[0].ordType+"")&&N(W,K),ce&1&&R!==(R=Be[0].ordStatus+"")&&N(X,R),ce&1&&x!==(x=Be[0].createTime+"")&&N(de,x),qe===(qe=Se(Be,ce))&&Ce?Ce.p(Be,ce):(Ce.d(1),Ce=qe(Be),Ce&&(Ce.c(),Ce.m(re,null))),ce&16&&$e(re,"linear-gradient-action",Be[4]-320<1200)},i:Qe,o:Qe,d(Be){Be&&p(e),ee&&ee.d(),me&&me.d(),Ce.d(),Ee=!1,we()}}}function Wb(n,e,t){let r,l,i,s,a,o;ne(n,us,I=>t(13,l=I)),ne(n,In,I=>t(10,i=I)),ne(n,pn,I=>t(14,s=I)),ne(n,gr,I=>t(4,a=I)),ne(n,it,I=>t(5,o=I));let{item:c}=e,f,d;Ct(()=>{document.addEventListener("mousedown",A=>{A.stopPropagation(),E()});const I=document.querySelectorAll('iframe[id^="tradingview_"]');if(I.length>0){const A=I[0];A&&A.contentDocument&&(A.contentDocument.onmousedown=function(B){B.stopPropagation(),E()})}});async function h(){await Is({symbol:c.symbol,orderID:c.orderID},i,s)}function m(){Il.next({type:"order-active-remove",orderID:c.orderID})}function v(){vt.send("trade-pair","change",{type:"Spot",mode:c.supportMarginTrade?i:"Spot",symbol:c.symbol})}function k(I,A,B){return function(){E();let V=document.getElementById("tooltip-holder");V||(V=document.createElement("div"),V.setAttribute("id","tooltip-holder"),document.body.appendChild(V));const $=new kp({target:V,props:{anchorNode:A,item:I,field:B}});$.$set({visible:!0}),us.next($)}}function E(){l&&(l.$set({visible:!1}),l.$destroy())}function T(I){Ue[I?"unshift":"push"](()=>{f=I,t(1,f)})}function w(I){Ue[I?"unshift":"push"](()=>{d=I,t(2,d)})}return n.$$set=I=>{"item"in I&&t(0,c=I.item)},n.$$.update=()=>{n.$$.dirty&1024&&t(3,r=i===wi.Spot)},[c,f,d,r,a,o,h,m,v,k,i,T,w]}let Gb=class extends je{constructor(e){super(),We(this,e,Wb,jb,Fe,{item:0})}};function vf(n,e,t){const r=n.slice();return r[6]=e[t],r}function Yb(n){let e,t=n[2](Ot.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-b7rv0j")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](Ot.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function Kb(n){let e=[],t=new Map,r,l,i=n[1];const s=a=>a[6].orderID;for(let a=0;a<i.length;a+=1){let o=vf(n,i,a),c=s(o);t.set(c,e[a]=gf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&2&&(i=a[1],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,gf,r,vf),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function gf(n,e){let t,r,l;return r=new Gb({props:{item:e[6]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&2&&(a.item=e[6]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function Xb(n){let e,t,r,l,i,s,a;r=new Mb({props:{symbol:n[0],ordersLen:n[1].length}});const o=[Kb,Yb],c=[];function f(d,h){return d[1].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-b7rv0j"),_(e,"class","wrap f12 H-b7rv0j")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){const m={};h&1&&(m.symbol=d[0]),h&2&&(m.ordersLen=d[1].length),r.$set(m);let v=i;i=f(d),i===v?c[i].p(d,h):(Ze(),U(c[v],1,1,()=>{c[v]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function Jb(n,e,t){let r,l,i;ne(n,Ht,c=>t(5,r=c)),ne(n,jd,c=>t(4,l=c)),ne(n,it,c=>t(2,i=c));let s="",a,o;return Ct(()=>{ks.subscribe(c=>{t(0,s=c?"":r.symbol)})}),n.$$.update=()=>{n.$$.dirty&16&&t(3,a=l),n.$$.dirty&9&&t(1,o=s===""?a:a.filter(c=>c.symbol===s))},[s,o,i,a,l]}let Zb=class extends je{constructor(e){super(),We(this,e,Jb,Xb,Fe,{})}};const Mt={NoData:"f82df7",Summary:"ddac34",CancelAll:"3f44fc",Symbol:"bc3480",Side:"b7b5ba",Amount:"c2257d",OrderPrice:"423327",TriggerPrice:"7d8a46",Value:"edd02d",Type:"5305ae",Status:"938c51",Time:"df8ac0",Action:"b4a72e",Cancel:"0edfda",Remove:"3ce5dd"};function xb(n){let e=n[0](Mt.Action)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l&1&&e!==(e=r[0](Mt.Action)+"")&&N(t,e)},d(r){r&&p(t)}}}function ey(n){let e,t=n[0](Mt.CancelAll)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","ph16 lh22 cp H-hcsrb7")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[2]),l=!0)},p(s,a){a&1&&t!==(t=s[0](Mt.CancelAll)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function ty(n){let e,t,r=n[0](Mt.Symbol)+"",l,i,s,a=n[0](Mt.Side)+"",o,c,f,d=n[0](Mt.Amount)+"",h,m,v,k=n[0](Mt.OrderPrice)+"",E,T,w,I=n[0](Mt.Value)+"",A,B,V,$=n[0](Mt.TriggerPrice)+"",P,z,F,O=n[0](Mt.Type)+"",M,L,Q,j=n[0](Mt.Status)+"",K,W,Z,J=n[0](Mt.Time)+"",R,X,te;function oe(G,re){return G[1]==="Login"?ey:xb}let x=oe(n),de=x(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),X=S(),te=g("div"),de.c(),this.h()},l(G){e=b(G,"DIV",{class:!0});var re=y(e);t=b(re,"DIV",{class:!0});var ge=y(t);l=D(ge,r),ge.forEach(p),i=C(re),s=b(re,"DIV",{class:!0});var Ee=y(s);o=D(Ee,a),Ee.forEach(p),c=C(re),f=b(re,"DIV",{class:!0});var we=y(f);h=D(we,d),we.forEach(p),m=C(re),v=b(re,"DIV",{class:!0});var ee=y(v);E=D(ee,k),ee.forEach(p),T=C(re),w=b(re,"DIV",{class:!0});var me=y(w);A=D(me,I),me.forEach(p),B=C(re),V=b(re,"DIV",{class:!0});var Se=y(V);P=D(Se,$),Se.forEach(p),z=C(re),F=b(re,"DIV",{class:!0});var qe=y(F);M=D(qe,O),qe.forEach(p),L=C(re),Q=b(re,"DIV",{class:!0});var Ce=y(Q);K=D(Ce,j),Ce.forEach(p),W=C(re),Z=b(re,"DIV",{class:!0});var Be=y(Z);R=D(Be,J),Be.forEach(p),X=C(re),te=b(re,"DIV",{class:!0});var ce=y(te);de.l(ce),ce.forEach(p),re.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-hcsrb7"),_(s,"class","cell tr H-hcsrb7"),_(f,"class","cell tr pr12 H-hcsrb7"),_(v,"class","cell tr pr12 H-hcsrb7"),_(w,"class","cell tr H-hcsrb7"),_(V,"class","cell tr pr12 H-hcsrb7"),_(F,"class","cell tr H-hcsrb7"),_(Q,"class","cell tr H-hcsrb7"),_(Z,"class","cell pr16 tr H-hcsrb7"),_(te,"class","cell ps tr H-hcsrb7"),_(e,"class","row lh28 H-hcsrb7")},m(G,re){Y(G,e,re),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R),u(e,X),u(e,te),de.m(te,null)},p(G,[re]){re&1&&r!==(r=G[0](Mt.Symbol)+"")&&N(l,r),re&1&&a!==(a=G[0](Mt.Side)+"")&&N(o,a),re&1&&d!==(d=G[0](Mt.Amount)+"")&&N(h,d),re&1&&k!==(k=G[0](Mt.OrderPrice)+"")&&N(E,k),re&1&&I!==(I=G[0](Mt.Value)+"")&&N(A,I),re&1&&$!==($=G[0](Mt.TriggerPrice)+"")&&N(P,$),re&1&&O!==(O=G[0](Mt.Type)+"")&&N(M,O),re&1&&j!==(j=G[0](Mt.Status)+"")&&N(K,j),re&1&&J!==(J=G[0](Mt.Time)+"")&&N(R,J),x===(x=oe(G))&&de?de.p(G,re):(de.d(1),de=x(G),de&&(de.c(),de.m(te,null)))},i:Qe,o:Qe,d(G){G&&p(e),de.d()}}}function ny(n,e,t){let r,l;ne(n,it,o=>t(0,r=o)),ne(n,Nn,o=>t(1,l=o));let{ordersLen:i=0}=e,{symbol:s=""}=e;function a(){i>0&&It.create(Ep,{symbol:s,isConditional:!0})}return n.$$set=o=>{"ordersLen"in o&&t(3,i=o.ordersLen),"symbol"in o&&t(4,s=o.symbol)},[r,l,a,i,s]}let ry=class extends je{constructor(e){super(),We(this,e,ny,ty,Fe,{ordersLen:3,symbol:4})}};function bf(n){let e,t,r,l;return{c(){e=g("i"),t=q(""),this.h()},l(i){e=b(i,"I",{class:!0});var s=y(e);t=D(s,""),s.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 f14 T2 cp H-dul64k")},m(i,s){Y(i,e,s),u(e,t),n[12](e),r||(l=Je(e,"mousedown",Ln(function(){Bt(n[10](n[0],n[1],"Amount"))&&n[10](n[0],n[1],"Amount").apply(this,arguments)})),r=!0)},p(i,s){n=i},d(i){i&&p(e),n[12](null),r=!1,l()}}}function ly(n){let e,t=n[0].price+"",r,l,i=n[4]&&yf(n);return{c(){e=g("div"),r=q(t),l=S(),i&&i.c(),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);r=D(a,t),l=C(a),i&&i.l(a),a.forEach(p),this.h()},h(){_(e,"class","tr H-dul64k")},m(s,a){Y(s,e,a),u(e,r),u(e,l),i&&i.m(e,null)},p(s,a){a&1&&t!==(t=s[0].price+"")&&N(r,t),s[4]?i?i.p(s,a):(i=yf(s),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&p(e),i&&i.d()}}}function iy(n){let e,t;return{c(){e=g("div"),t=q("Market"),this.h()},l(r){e=b(r,"DIV",{class:!0});var l=y(e);t=D(l,"Market"),l.forEach(p),this.h()},h(){_(e,"class","tr pr12 pr34 H-dul64k")},m(r,l){Y(r,e,l),u(e,t)},p:Qe,d(r){r&&p(e)}}}function yf(n){let e,t,r,l;return{c(){e=g("i"),t=q(""),this.h()},l(i){e=b(i,"I",{class:!0});var s=y(e);t=D(s,""),s.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 pr12 f14 T2 cp H-dul64k")},m(i,s){Y(i,e,s),u(e,t),n[13](e),r||(l=Je(e,"mousedown",Ln(function(){Bt(n[10](n[0],n[2],"Price"))&&n[10](n[0],n[2],"Price").apply(this,arguments)})),r=!0)},p(i,s){n=i},d(i){i&&p(e),n[13](null),r=!1,l()}}}function Ef(n){let e,t,r,l;return{c(){e=g("i"),t=q(""),this.h()},l(i){e=b(i,"I",{class:!0});var s=y(e);t=D(s,""),s.forEach(p),this.h()},h(){_(e,"class","iconfont ml4 pr12 f14 T2 cp H-dul64k")},m(i,s){Y(i,e,s),u(e,t),n[14](e),r||(l=Je(e,"mousedown",Ln(function(){Bt(n[10](n[0],n[3],"StopPx"))&&n[10](n[0],n[3],"StopPx").apply(this,arguments)})),r=!0)},p(i,s){n=i},d(i){i&&p(e),n[14](null),r=!1,l()}}}function sy(n){let e,t=n[6](Mt.Remove)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","ph16 lh22 cp H-dul64k")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[8]),l=!0)},p(s,a){a&64&&t!==(t=s[6](Mt.Remove)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function ay(n){let e,t=n[6](Mt.Cancel)+"",r,l,i;return{c(){e=g("button"),r=q(t),this.h()},l(s){e=b(s,"BUTTON",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","conditional-cancel ph16 lh22 cp H-dul64k")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[7]),l=!0)},p(s,a){a&64&&t!==(t=s[6](Mt.Cancel)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function oy(n){let e,t,r=n[0].displaySymbol+"",l,i,s,a=n[0].side+"",o,c,f,d=n[0].qtyWU+"",h,m,v,k,E,T=n[0].valueWU+"",w,I,A,B=n[0].stopDirection+"",V,$,P=n[0].stopPx+"",z,F,O,M,L=n[0].ordType+"",Q,j,K,W=n[0].ordStatus+"",Z,J,R,X=n[0].createTime+"",te,oe,x,de,G,re,ge=n[4]&&bf(n);function Ee(Be,ce){return Be[0].isMarket?iy:ly}let we=Ee(n),ee=we(n),me=n[4]&&Ef(n);function Se(Be,ce){return ce&1&&(de=null),de==null&&(de=["Untriggered","Triggered","New","PartiallyFilled","Inactive"].indexOf(Be[0].ordStatus)>-1),de?ay:sy}let qe=Se(n,-1),Ce=qe(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),ge&&ge.c(),v=S(),ee.c(),k=S(),E=g("div"),w=q(T),I=S(),A=g("div"),V=q(B),$=S(),z=q(P),F=S(),me&&me.c(),O=S(),M=g("div"),Q=q(L),j=S(),K=g("div"),Z=q(W),J=S(),R=g("div"),te=q(X),oe=S(),x=g("div"),Ce.c(),this.h()},l(Be){e=b(Be,"DIV",{class:!0});var ce=y(e);t=b(ce,"DIV",{class:!0});var fe=y(t);l=D(fe,r),fe.forEach(p),i=C(ce),s=b(ce,"DIV",{class:!0});var Ve=y(s);o=D(Ve,a),Ve.forEach(p),c=C(ce),f=b(ce,"DIV",{class:!0});var Ie=y(f);h=D(Ie,d),m=C(Ie),ge&&ge.l(Ie),Ie.forEach(p),v=C(ce),ee.l(ce),k=C(ce),E=b(ce,"DIV",{class:!0});var be=y(E);w=D(be,T),be.forEach(p),I=C(ce),A=b(ce,"DIV",{class:!0});var _e=y(A);V=D(_e,B),$=C(_e),z=D(_e,P),F=C(_e),me&&me.l(_e),_e.forEach(p),O=C(ce),M=b(ce,"DIV",{class:!0});var ve=y(M);Q=D(ve,L),ve.forEach(p),j=C(ce),K=b(ce,"DIV",{class:!0});var ke=y(K);Z=D(ke,W),ke.forEach(p),J=C(ce),R=b(ce,"DIV",{class:!0});var Ne=y(R);te=D(Ne,X),Ne.forEach(p),oe=C(ce),x=b(ce,"DIV",{class:!0});var Te=y(x);Ce.l(Te),Te.forEach(p),ce.forEach(p),this.h()},h(){_(t,"class","symbol ps pl16 B1 cp H-dul64k"),$e(t,"linear-gradient-symbol",n[5]-320<1200),_(s,"class","tr H-dul64k"),$e(s,"buy",n[0].side==="Buy"),$e(s,"sell",n[0].side==="Sell"),_(f,"class","tr pr12 H-dul64k"),_(E,"class","tr H-dul64k"),_(A,"class","tr H-dul64k"),_(M,"class","tr H-dul64k"),_(K,"class","tr H-dul64k"),_(R,"class","pr16 tr H-dul64k"),_(x,"class","action ps tr B1 H-dul64k"),$e(x,"linear-gradient-action",n[5]-320<1200),_(e,"class","history-list wrap fw2 T1 H-dul64k")},m(Be,ce){Y(Be,e,ce),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(f,m),ge&&ge.m(f,null),u(e,v),ee.m(e,null),u(e,k),u(e,E),u(E,w),u(e,I),u(e,A),u(A,V),u(A,$),u(A,z),u(A,F),me&&me.m(A,null),u(e,O),u(e,M),u(M,Q),u(e,j),u(e,K),u(K,Z),u(e,J),u(e,R),u(R,te),u(e,oe),u(e,x),Ce.m(x,null),G||(re=Je(t,"click",n[9]),G=!0)},p(Be,[ce]){ce&1&&r!==(r=Be[0].displaySymbol+"")&&N(l,r),ce&32&&$e(t,"linear-gradient-symbol",Be[5]-320<1200),ce&1&&a!==(a=Be[0].side+"")&&N(o,a),ce&1&&$e(s,"buy",Be[0].side==="Buy"),ce&1&&$e(s,"sell",Be[0].side==="Sell"),ce&1&&d!==(d=Be[0].qtyWU+"")&&N(h,d),Be[4]?ge?ge.p(Be,ce):(ge=bf(Be),ge.c(),ge.m(f,null)):ge&&(ge.d(1),ge=null),we===(we=Ee(Be))&&ee?ee.p(Be,ce):(ee.d(1),ee=we(Be),ee&&(ee.c(),ee.m(e,k))),ce&1&&T!==(T=Be[0].valueWU+"")&&N(w,T),ce&1&&B!==(B=Be[0].stopDirection+"")&&N(V,B),ce&1&&P!==(P=Be[0].stopPx+"")&&N(z,P),Be[4]?me?me.p(Be,ce):(me=Ef(Be),me.c(),me.m(A,null)):me&&(me.d(1),me=null),ce&1&&L!==(L=Be[0].ordType+"")&&N(Q,L),ce&1&&W!==(W=Be[0].ordStatus+"")&&N(Z,W),ce&1&&X!==(X=Be[0].createTime+"")&&N(te,X),qe===(qe=Se(Be,ce))&&Ce?Ce.p(Be,ce):(Ce.d(1),Ce=qe(Be),Ce&&(Ce.c(),Ce.m(x,null))),ce&32&&$e(x,"linear-gradient-action",Be[5]-320<1200)},i:Qe,o:Qe,d(Be){Be&&p(e),ge&&ge.d(),ee.d(),me&&me.d(),Ce.d(),G=!1,re()}}}function uy(n,e,t){let r,l,i,s,a,o;ne(n,us,B=>t(15,l=B)),ne(n,In,B=>t(11,i=B)),ne(n,pn,B=>t(16,s=B)),ne(n,gr,B=>t(5,a=B)),ne(n,it,B=>t(6,o=B));let{item:c}=e,f,d,h;Ct(()=>{document.addEventListener("mousedown",V=>{V.stopPropagation(),T()});const B=document.querySelectorAll('iframe[id^="tradingview_"]');if(B.length>0){const V=B[0];V&&V.contentDocument&&(V.contentDocument.onmousedown=function($){$.stopPropagation(),T()})}});async function m(){await Is({symbol:c.symbol,orderID:c.orderID},i,s)}function v(){Il.next({type:"order-conditional-remove",orderID:c.orderID})}function k(){vt.send("trade-pair","change",{type:"Spot",mode:c.supportMarginTrade?i:"Spot",symbol:c.symbol})}function E(B,V,$){return function(){T();let P=document.getElementById("tooltip-holder");P||(P=document.createElement("div"),P.setAttribute("id","tooltip-holder"),document.body.appendChild(P));const z=new kp({target:P,props:{anchorNode:V,item:B,field:$}});z.$set({visible:!0}),us.next(z)}}function T(){l&&(l.$set({visible:!1}),l.$destroy())}function w(B){Ue[B?"unshift":"push"](()=>{f=B,t(1,f)})}function I(B){Ue[B?"unshift":"push"](()=>{d=B,t(2,d)})}function A(B){Ue[B?"unshift":"push"](()=>{h=B,t(3,h)})}return n.$$set=B=>{"item"in B&&t(0,c=B.item)},n.$$.update=()=>{n.$$.dirty&2048&&t(4,r=i===wi.Spot)},[c,f,d,h,r,a,o,m,v,k,E,i,w,I,A]}let cy=class extends je{constructor(e){super(),We(this,e,uy,oy,Fe,{item:0})}};function kf(n,e,t){const r=n.slice();return r[6]=e[t],r}function fy(n){let e,t=n[2](Mt.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-b7rv0j")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](Mt.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function dy(n){let e=[],t=new Map,r,l,i=n[1];const s=a=>a[6].orderID;for(let a=0;a<i.length;a+=1){let o=kf(n,i,a),c=s(o);t.set(c,e[a]=wf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&2&&(i=a[1],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,wf,r,kf),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function wf(n,e){let t,r,l;return r=new cy({props:{item:e[6]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&2&&(a.item=e[6]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function py(n){let e,t,r,l,i,s,a;r=new ry({props:{symbol:n[0],ordersLen:n[1].length}});const o=[dy,fy],c=[];function f(d,h){return d[1].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-b7rv0j"),_(e,"class","wrap f12 H-b7rv0j")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){const m={};h&1&&(m.symbol=d[0]),h&2&&(m.ordersLen=d[1].length),r.$set(m);let v=i;i=f(d),i===v?c[i].p(d,h):(Ze(),U(c[v],1,1,()=>{c[v]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function hy(n,e,t){let r,l,i;ne(n,Ht,c=>t(5,r=c)),ne(n,u1,c=>t(4,l=c)),ne(n,it,c=>t(2,i=c));let s="",a,o;return Ct(()=>{ks.subscribe(c=>{t(0,s=c?"":r.symbol)})}),n.$$.update=()=>{n.$$.dirty&16&&t(3,a=l),n.$$.dirty&9&&t(1,o=s===""?a:a.filter(c=>c.symbol===s))},[s,o,i,a,l]}let my=class extends je{constructor(e){super(),We(this,e,hy,py,Fe,{})}};function _y(n){let e,t,r=n[0](At.Symbol)+"",l,i,s,a=n[0](At.Side)+"",o,c,f,d=n[0](At.GetAmount)+"",h,m,v,k=n[0](At.ExecPrice)+"",E,T,w,I=n[0](At.SpendAmount)+"",A,B,V,$=n[0](At.Amount)+"",P,z,F,O=n[0](At.OrderPrice)+"",M,L,Q,j=n[0](At.Type)+"",K,W,Z,J=n[0](At.Time)+"",R;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),this.h()},l(X){e=b(X,"DIV",{class:!0});var te=y(e);t=b(te,"DIV",{class:!0});var oe=y(t);l=D(oe,r),oe.forEach(p),i=C(te),s=b(te,"DIV",{class:!0});var x=y(s);o=D(x,a),x.forEach(p),c=C(te),f=b(te,"DIV",{class:!0});var de=y(f);h=D(de,d),de.forEach(p),m=C(te),v=b(te,"DIV",{class:!0});var G=y(v);E=D(G,k),G.forEach(p),T=C(te),w=b(te,"DIV",{class:!0});var re=y(w);A=D(re,I),re.forEach(p),B=C(te),V=b(te,"DIV",{class:!0});var ge=y(V);P=D(ge,$),ge.forEach(p),z=C(te),F=b(te,"DIV",{class:!0});var Ee=y(F);M=D(Ee,O),Ee.forEach(p),L=C(te),Q=b(te,"DIV",{class:!0});var we=y(Q);K=D(we,j),we.forEach(p),W=C(te),Z=b(te,"DIV",{class:!0});var ee=y(Z);R=D(ee,J),ee.forEach(p),te.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-zkyn9n"),_(s,"class","cell tr H-zkyn9n"),_(f,"class","cell tr H-zkyn9n"),_(v,"class","cell tr H-zkyn9n"),_(w,"class","cell tr H-zkyn9n"),_(V,"class","cell tr H-zkyn9n"),_(F,"class","cell tr H-zkyn9n"),_(Q,"class","cell tr H-zkyn9n"),_(Z,"class","cell tr pr16 H-zkyn9n"),_(e,"class","row lh28 H-zkyn9n")},m(X,te){Y(X,e,te),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R)},p(X,[te]){te&1&&r!==(r=X[0](At.Symbol)+"")&&N(l,r),te&1&&a!==(a=X[0](At.Side)+"")&&N(o,a),te&1&&d!==(d=X[0](At.GetAmount)+"")&&N(h,d),te&1&&k!==(k=X[0](At.ExecPrice)+"")&&N(E,k),te&1&&I!==(I=X[0](At.SpendAmount)+"")&&N(A,I),te&1&&$!==($=X[0](At.Amount)+"")&&N(P,$),te&1&&O!==(O=X[0](At.OrderPrice)+"")&&N(M,O),te&1&&j!==(j=X[0](At.Type)+"")&&N(K,j),te&1&&J!==(J=X[0](At.Time)+"")&&N(R,J)},i:Qe,o:Qe,d(X){X&&p(e)}}}function vy(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let gy=class extends je{constructor(e){super(),We(this,e,vy,_y,Fe,{})}};function by(n){let e,t,r=n[0].displaySymbol+"",l,i,s,a=n[0].side+"",o,c,f,d=n[0].getQty+"",h,m,v,k=n[0].execPrice+"",E,T,w,I=n[0].spendQty+"",A,B,V,$=n[0].qty+"",P,z,F,O=n[0].price+"",M,L,Q,j=n[0].ordType+"",K,W,Z,J=n[0].transactTime+"",R,X,te;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),this.h()},l(oe){e=b(oe,"DIV",{class:!0});var x=y(e);t=b(x,"DIV",{class:!0});var de=y(t);l=D(de,r),de.forEach(p),i=C(x),s=b(x,"DIV",{class:!0});var G=y(s);o=D(G,a),G.forEach(p),c=C(x),f=b(x,"DIV",{class:!0});var re=y(f);h=D(re,d),re.forEach(p),m=C(x),v=b(x,"DIV",{class:!0});var ge=y(v);E=D(ge,k),ge.forEach(p),T=C(x),w=b(x,"DIV",{class:!0});var Ee=y(w);A=D(Ee,I),Ee.forEach(p),B=C(x),V=b(x,"DIV",{class:!0});var we=y(V);P=D(we,$),we.forEach(p),z=C(x),F=b(x,"DIV",{class:!0});var ee=y(F);M=D(ee,O),ee.forEach(p),L=C(x),Q=b(x,"DIV",{class:!0});var me=y(Q);K=D(me,j),me.forEach(p),W=C(x),Z=b(x,"DIV",{class:!0});var Se=y(Z);R=D(Se,J),Se.forEach(p),x.forEach(p),this.h()},h(){_(t,"class","symbol ps pl16 B1 cp H-33tg7q"),$e(t,"linear-gradient-symbol",n[1]-320<1200),_(s,"class","tr H-33tg7q"),$e(s,"buy",n[0].side==="Buy"),$e(s,"sell",n[0].side==="Sell"),_(f,"class","tr H-33tg7q"),_(v,"class","tr H-33tg7q"),_(w,"class","tr H-33tg7q"),_(V,"class","tr H-33tg7q"),_(F,"class","tr H-33tg7q"),_(Q,"class","tr H-33tg7q"),_(Z,"class","pr16 tr H-33tg7q"),_(e,"class","history-list wrap fw2 T1 H-33tg7q")},m(oe,x){Y(oe,e,x),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R),X||(te=Je(t,"click",n[2]),X=!0)},p(oe,[x]){x&1&&r!==(r=oe[0].displaySymbol+"")&&N(l,r),x&2&&$e(t,"linear-gradient-symbol",oe[1]-320<1200),x&1&&a!==(a=oe[0].side+"")&&N(o,a),x&1&&$e(s,"buy",oe[0].side==="Buy"),x&1&&$e(s,"sell",oe[0].side==="Sell"),x&1&&d!==(d=oe[0].getQty+"")&&N(h,d),x&1&&k!==(k=oe[0].execPrice+"")&&N(E,k),x&1&&I!==(I=oe[0].spendQty+"")&&N(A,I),x&1&&$!==($=oe[0].qty+"")&&N(P,$),x&1&&O!==(O=oe[0].price+"")&&N(M,O),x&1&&j!==(j=oe[0].ordType+"")&&N(K,j),x&1&&J!==(J=oe[0].transactTime+"")&&N(R,J)},i:Qe,o:Qe,d(oe){oe&&p(e),X=!1,te()}}}function yy(n,e,t){let r,l;ne(n,In,a=>t(3,r=a)),ne(n,gr,a=>t(1,l=a));let{item:i}=e;function s(){vt.send("trade-pair","change",{type:"Spot",mode:i.supportMarginTrade?r:"Spot",symbol:i.symbol})}return n.$$set=a=>{"item"in a&&t(0,i=a.item)},[i,l,s]}let Ey=class extends je{constructor(e){super(),We(this,e,yy,by,Fe,{item:0})}};function $f(n,e,t){const r=n.slice();return r[3]=e[t],r}function ky(n){let e,t=n[1](At.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-xtclqj")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1](At.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function wy(n){let e=[],t=new Map,r,l,i=n[0];const s=a=>a[3].execID;for(let a=0;a<i.length;a+=1){let o=$f(n,i,a),c=s(o);t.set(c,e[a]=Sf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&1&&(i=a[0],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,Sf,r,$f),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function Sf(n,e){let t,r,l;return r=new Ey({props:{item:e[3]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.item=e[3]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function $y(n){let e,t,r,l,i,s,a;r=new gy({});const o=[wy,ky],c=[];function f(d,h){return d[0].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-xtclqj"),_(e,"class","wrap f12 H-xtclqj")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){let m=i;i=f(d),i===m?c[i].p(d,h):(Ze(),U(c[m],1,1,()=>{c[m]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function Sy(n,e,t){let r,l;ne(n,c1,s=>t(2,r=s)),ne(n,it,s=>t(1,l=s));let i;return n.$$.update=()=>{n.$$.dirty&4&&t(0,i=r)},[i,l,r]}let Cy=class extends je{constructor(e){super(),We(this,e,Sy,$y,Fe,{})}};const jt={NoData:"e26b88",Symbol:"4328b9",Side:"b0fbd4",Amount:"4eccf1",OrderPrice:"809836",FillPrice:"3ea13b",Value:"db90ae",TriggerPrice:"1af2d5",Type:"9ea7c3",Status:"e82dbf",Time:"4cf68d"};function Ty(n){let e,t,r=n[0](jt.Symbol)+"",l,i,s,a=n[0](jt.Side)+"",o,c,f,d=n[0](jt.Amount)+"",h,m,v,k=n[0](jt.OrderPrice)+"",E,T,w,I=n[0](jt.FillPrice)+"",A,B,V,$=n[0](jt.Value)+"",P,z,F,O=n[0](jt.TriggerPrice)+"",M,L,Q,j=n[0](jt.Type)+"",K,W,Z,J=n[0](jt.Status)+"",R,X,te,oe=n[0](jt.Time)+"",x;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),X=S(),te=g("div"),x=q(oe),this.h()},l(de){e=b(de,"DIV",{class:!0});var G=y(e);t=b(G,"DIV",{class:!0});var re=y(t);l=D(re,r),re.forEach(p),i=C(G),s=b(G,"DIV",{class:!0});var ge=y(s);o=D(ge,a),ge.forEach(p),c=C(G),f=b(G,"DIV",{class:!0});var Ee=y(f);h=D(Ee,d),Ee.forEach(p),m=C(G),v=b(G,"DIV",{class:!0});var we=y(v);E=D(we,k),we.forEach(p),T=C(G),w=b(G,"DIV",{class:!0});var ee=y(w);A=D(ee,I),ee.forEach(p),B=C(G),V=b(G,"DIV",{class:!0});var me=y(V);P=D(me,$),me.forEach(p),z=C(G),F=b(G,"DIV",{class:!0});var Se=y(F);M=D(Se,O),Se.forEach(p),L=C(G),Q=b(G,"DIV",{class:!0});var qe=y(Q);K=D(qe,j),qe.forEach(p),W=C(G),Z=b(G,"DIV",{class:!0});var Ce=y(Z);R=D(Ce,J),Ce.forEach(p),X=C(G),te=b(G,"DIV",{class:!0});var Be=y(te);x=D(Be,oe),Be.forEach(p),G.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-zkyn9n"),_(s,"class","cell tr H-zkyn9n"),_(f,"class","cell tr H-zkyn9n"),_(v,"class","cell tr H-zkyn9n"),_(w,"class","cell tr H-zkyn9n"),_(V,"class","cell tr H-zkyn9n"),_(F,"class","cell tr H-zkyn9n"),_(Q,"class","cell tr H-zkyn9n"),_(Z,"class","cell tr H-zkyn9n"),_(te,"class","cell tr pr16 H-zkyn9n"),_(e,"class","row lh28 H-zkyn9n")},m(de,G){Y(de,e,G),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R),u(e,X),u(e,te),u(te,x)},p(de,[G]){G&1&&r!==(r=de[0](jt.Symbol)+"")&&N(l,r),G&1&&a!==(a=de[0](jt.Side)+"")&&N(o,a),G&1&&d!==(d=de[0](jt.Amount)+"")&&N(h,d),G&1&&k!==(k=de[0](jt.OrderPrice)+"")&&N(E,k),G&1&&I!==(I=de[0](jt.FillPrice)+"")&&N(A,I),G&1&&$!==($=de[0](jt.Value)+"")&&N(P,$),G&1&&O!==(O=de[0](jt.TriggerPrice)+"")&&N(M,O),G&1&&j!==(j=de[0](jt.Type)+"")&&N(K,j),G&1&&J!==(J=de[0](jt.Status)+"")&&N(R,J),G&1&&oe!==(oe=de[0](jt.Time)+"")&&N(x,oe)},i:Qe,o:Qe,d(de){de&&p(e)}}}function Iy(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let Py=class extends je{constructor(e){super(),We(this,e,Iy,Ty,Fe,{})}};function By(n){let e,t,r=n[0].displaySymbol+"",l,i,s,a=n[0].side+"",o,c,f,d=n[0].amountWU+"",h,m,v,k=n[0].price+"",E,T,w,I=n[0].fillPrice+"",A,B,V,$=n[0].value+"",P,z,F,O=n[0].stopPx+"",M,L,Q,j=n[0].ordType+"",K,W,Z,J=n[0].ordStatus+"",R,X,te,oe=n[0].createTime+"",x,de,G;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),P=q($),z=S(),F=g("div"),M=q(O),L=S(),Q=g("div"),K=q(j),W=S(),Z=g("div"),R=q(J),X=S(),te=g("div"),x=q(oe),this.h()},l(re){e=b(re,"DIV",{class:!0});var ge=y(e);t=b(ge,"DIV",{class:!0});var Ee=y(t);l=D(Ee,r),Ee.forEach(p),i=C(ge),s=b(ge,"DIV",{class:!0});var we=y(s);o=D(we,a),we.forEach(p),c=C(ge),f=b(ge,"DIV",{class:!0});var ee=y(f);h=D(ee,d),ee.forEach(p),m=C(ge),v=b(ge,"DIV",{class:!0});var me=y(v);E=D(me,k),me.forEach(p),T=C(ge),w=b(ge,"DIV",{class:!0});var Se=y(w);A=D(Se,I),Se.forEach(p),B=C(ge),V=b(ge,"DIV",{class:!0});var qe=y(V);P=D(qe,$),qe.forEach(p),z=C(ge),F=b(ge,"DIV",{class:!0});var Ce=y(F);M=D(Ce,O),Ce.forEach(p),L=C(ge),Q=b(ge,"DIV",{class:!0});var Be=y(Q);K=D(Be,j),Be.forEach(p),W=C(ge),Z=b(ge,"DIV",{class:!0});var ce=y(Z);R=D(ce,J),ce.forEach(p),X=C(ge),te=b(ge,"DIV",{class:!0});var fe=y(te);x=D(fe,oe),fe.forEach(p),ge.forEach(p),this.h()},h(){_(t,"class","symbol ps pl16 B1 cp H-33tg7q"),$e(t,"linear-gradient-symbol",n[1]-320<1200),_(s,"class","tr H-33tg7q"),$e(s,"buy",n[0].side==="Buy"),$e(s,"sell",n[0].side==="Sell"),_(f,"class","tr H-33tg7q"),_(v,"class","tr H-33tg7q"),_(w,"class","tr H-33tg7q"),_(V,"class","tr H-33tg7q"),_(F,"class","tr H-33tg7q"),_(Q,"class","tr H-33tg7q"),_(Z,"class","tr H-33tg7q"),_(te,"class","pr16 tr H-33tg7q"),_(e,"class","history-list wrap fw2 T1 H-33tg7q")},m(re,ge){Y(re,e,ge),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),u(V,P),u(e,z),u(e,F),u(F,M),u(e,L),u(e,Q),u(Q,K),u(e,W),u(e,Z),u(Z,R),u(e,X),u(e,te),u(te,x),de||(G=Je(t,"click",n[2]),de=!0)},p(re,[ge]){ge&1&&r!==(r=re[0].displaySymbol+"")&&N(l,r),ge&2&&$e(t,"linear-gradient-symbol",re[1]-320<1200),ge&1&&a!==(a=re[0].side+"")&&N(o,a),ge&1&&$e(s,"buy",re[0].side==="Buy"),ge&1&&$e(s,"sell",re[0].side==="Sell"),ge&1&&d!==(d=re[0].amountWU+"")&&N(h,d),ge&1&&k!==(k=re[0].price+"")&&N(E,k),ge&1&&I!==(I=re[0].fillPrice+"")&&N(A,I),ge&1&&$!==($=re[0].value+"")&&N(P,$),ge&1&&O!==(O=re[0].stopPx+"")&&N(M,O),ge&1&&j!==(j=re[0].ordType+"")&&N(K,j),ge&1&&J!==(J=re[0].ordStatus+"")&&N(R,J),ge&1&&oe!==(oe=re[0].createTime+"")&&N(x,oe)},i:Qe,o:Qe,d(re){re&&p(e),de=!1,G()}}}function qy(n,e,t){let r,l;ne(n,In,a=>t(3,r=a)),ne(n,gr,a=>t(1,l=a));let{item:i}=e;function s(){vt.send("trade-pair","change",{type:"Spot",symbol:i.symbol,mode:i.supportMarginTrade?r:"Spot"})}return n.$$set=a=>{"item"in a&&t(0,i=a.item)},[i,l,s]}let Dy=class extends je{constructor(e){super(),We(this,e,qy,By,Fe,{item:0})}};function Cf(n,e,t){const r=n.slice();return r[3]=e[t],r}function Ay(n){let e,t=n[1](jt.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-f90fwl")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1](jt.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function Vy(n){let e=[],t=new Map,r,l,i=n[0];const s=a=>a[3].orderID;for(let a=0;a<i.length;a+=1){let o=Cf(n,i,a),c=s(o);t.set(c,e[a]=Tf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&1&&(i=a[0],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,Tf,r,Cf),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function Tf(n,e){let t,r,l;return r=new Dy({props:{item:e[3]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.item=e[3]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function Hy(n){let e,t,r,l,i,s,a;r=new Py({});const o=[Vy,Ay],c=[];function f(d,h){return d[0].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-f90fwl"),_(e,"class","wrap f12 H-f90fwl")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){let m=i;i=f(d),i===m?c[i].p(d,h):(Ze(),U(c[m],1,1,()=>{c[m]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function Oy(n,e,t){let r,l;ne(n,f1,s=>t(2,r=s)),ne(n,it,s=>t(1,l=s));let i;return n.$$.update=()=>{n.$$.dirty&4&&t(0,i=r)},[i,l,r]}let My=class extends je{constructor(e){super(),We(this,e,Oy,Hy,Fe,{})}};const Gn={NoData:"95d768",Coin:"3825c3",Balance:"4c6391",AvailableBalance:"0e07a9",FrozenFunds:"d99859"};function Ly(n){let e,t,r=n[0](Gn.Coin)+"",l,i,s,a=n[0](Gn.Balance)+"",o,c,f,d=n[0](Gn.AvailableBalance)+"",h,m,v,k=n[0](Gn.FrozenFunds)+"",E;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),this.h()},l(T){e=b(T,"DIV",{class:!0});var w=y(e);t=b(w,"DIV",{class:!0});var I=y(t);l=D(I,r),I.forEach(p),i=C(w),s=b(w,"DIV",{class:!0});var A=y(s);o=D(A,a),A.forEach(p),c=C(w),f=b(w,"DIV",{class:!0});var B=y(f);h=D(B,d),B.forEach(p),m=C(w),v=b(w,"DIV",{class:!0});var V=y(v);E=D(V,k),V.forEach(p),w.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-zkyn9n"),_(s,"class","cell tr H-zkyn9n"),_(f,"class","cell tr H-zkyn9n"),_(v,"class","cell tr pr16 H-zkyn9n"),_(e,"class","row lh28 H-zkyn9n")},m(T,w){Y(T,e,w),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E)},p(T,[w]){w&1&&r!==(r=T[0](Gn.Coin)+"")&&N(l,r),w&1&&a!==(a=T[0](Gn.Balance)+"")&&N(o,a),w&1&&d!==(d=T[0](Gn.AvailableBalance)+"")&&N(h,d),w&1&&k!==(k=T[0](Gn.FrozenFunds)+"")&&N(E,k)},i:Qe,o:Qe,d(T){T&&p(e)}}}function Ny(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let Uy=class extends je{constructor(e){super(),We(this,e,Ny,Ly,Fe,{})}};function zy(n){let e,t,r=n[0].displayCurrency+"",l,i,s,a,o=n[0].totalBalance+"",c,f,d=n[0].displayCurrency+"",h,m,v,k=n[0].totalBalanceMoneyWU+"",E,T,w,I,A=n[0].availableBalance+"",B,V,$=n[0].displayCurrency+"",P,z,F,O=n[0].availableBalanceMoneyWU+"",M,L,Q,j,K=n[0].freezeBalance+"",W,Z,J=n[0].displayCurrency+"",R,X,te,oe=n[0].freezeBalanceMoneyWU+"",x;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),a=g("span"),c=q(o),f=S(),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),w=g("div"),I=g("span"),B=q(A),V=S(),P=q($),z=S(),F=g("span"),M=q(O),L=S(),Q=g("div"),j=g("span"),W=q(K),Z=S(),R=q(J),X=S(),te=g("span"),x=q(oe),this.h()},l(de){e=b(de,"DIV",{class:!0});var G=y(e);t=b(G,"DIV",{class:!0});var re=y(t);l=D(re,r),re.forEach(p),i=C(G),s=b(G,"DIV",{class:!0});var ge=y(s);a=b(ge,"SPAN",{class:!0});var Ee=y(a);c=D(Ee,o),f=C(Ee),h=D(Ee,d),Ee.forEach(p),m=C(ge),v=b(ge,"SPAN",{class:!0});var we=y(v);E=D(we,k),we.forEach(p),ge.forEach(p),T=C(G),w=b(G,"DIV",{class:!0});var ee=y(w);I=b(ee,"SPAN",{class:!0});var me=y(I);B=D(me,A),V=C(me),P=D(me,$),me.forEach(p),z=C(ee),F=b(ee,"SPAN",{class:!0});var Se=y(F);M=D(Se,O),Se.forEach(p),ee.forEach(p),L=C(G),Q=b(G,"DIV",{class:!0});var qe=y(Q);j=b(qe,"SPAN",{class:!0});var Ce=y(j);W=D(Ce,K),Z=C(Ce),R=D(Ce,J),Ce.forEach(p),X=C(qe),te=b(qe,"SPAN",{class:!0});var Be=y(te);x=D(Be,oe),Be.forEach(p),qe.forEach(p),G.forEach(p),this.h()},h(){_(t,"class","currency ps pl16 B1 H-8mppwm"),$e(t,"linear-gradient-symbol",n[1]-320<1200),_(a,"class","usd H-8mppwm"),_(v,"class","usd H-8mppwm"),_(s,"class","tr H-8mppwm"),_(I,"class","usd H-8mppwm"),_(F,"class","usd H-8mppwm"),_(w,"class","tr H-8mppwm"),_(j,"class","usd H-8mppwm"),_(te,"class","usd H-8mppwm"),_(Q,"class","pr16 tr H-8mppwm"),_(e,"class","history-list wrap fw2 T1 H-8mppwm")},m(de,G){Y(de,e,G),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(a,c),u(a,f),u(a,h),u(s,m),u(s,v),u(v,E),u(e,T),u(e,w),u(w,I),u(I,B),u(I,V),u(I,P),u(w,z),u(w,F),u(F,M),u(e,L),u(e,Q),u(Q,j),u(j,W),u(j,Z),u(j,R),u(Q,X),u(Q,te),u(te,x)},p(de,[G]){G&1&&r!==(r=de[0].displayCurrency+"")&&N(l,r),G&2&&$e(t,"linear-gradient-symbol",de[1]-320<1200),G&1&&o!==(o=de[0].totalBalance+"")&&N(c,o),G&1&&d!==(d=de[0].displayCurrency+"")&&N(h,d),G&1&&k!==(k=de[0].totalBalanceMoneyWU+"")&&N(E,k),G&1&&A!==(A=de[0].availableBalance+"")&&N(B,A),G&1&&$!==($=de[0].displayCurrency+"")&&N(P,$),G&1&&O!==(O=de[0].availableBalanceMoneyWU+"")&&N(M,O),G&1&&K!==(K=de[0].freezeBalance+"")&&N(W,K),G&1&&J!==(J=de[0].displayCurrency+"")&&N(R,J),G&1&&oe!==(oe=de[0].freezeBalanceMoneyWU+"")&&N(x,oe)},i:Qe,o:Qe,d(de){de&&p(e)}}}function Fy(n,e,t){let r;ne(n,gr,i=>t(1,r=i));let{item:l}=e;return n.$$set=i=>{"item"in i&&t(0,l=i.item)},[l,r]}let Ry=class extends je{constructor(e){super(),We(this,e,Fy,zy,Fe,{item:0})}};function If(n,e,t){const r=n.slice();return r[3]=e[t],r}function Qy(n){let e,t=n[1](Gn.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-1to3kux")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1](Gn.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function jy(n){let e=[],t=new Map,r,l,i=n[0];const s=a=>a[3].currency;for(let a=0;a<i.length;a+=1){let o=If(n,i,a),c=s(o);t.set(c,e[a]=Pf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&1&&(i=a[0],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,Pf,r,If),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function Pf(n,e){let t,r,l;return r=new Ry({props:{item:e[3]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.item=e[3]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function Wy(n){let e,t,r,l,i,s,a;r=new Uy({});const o=[jy,Qy],c=[];function f(d,h){return d[0].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-1to3kux"),_(e,"class","wrap f12 H-1to3kux")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){let m=i;i=f(d),i===m?c[i].p(d,h):(Ze(),U(c[m],1,1,()=>{c[m]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function Gy(n,e,t){let r,l;ne(n,zl,s=>t(2,r=s)),ne(n,it,s=>t(1,l=s));let i;return n.$$.update=()=>{n.$$.dirty&4&&t(0,i=r)},[i,l,r]}let Yy=class extends je{constructor(e){super(),We(this,e,Gy,Wy,Fe,{})}};const hn={NoData:"e6c2e6",Symbol:"6c508f",Balance:"96c2a3",AvailableBalance:"f38d40",FrozenFunds:"2806d8",Debt:"17a915",Borrowed:"1ae500",Interest:"3ee4aa"};function Ky(n){let e,t,r=n[0](hn.Symbol)+"",l,i,s,a=n[0](hn.Balance)+"",o,c,f,d=n[0](hn.AvailableBalance)+"",h,m,v,k=n[0](hn.FrozenFunds)+"",E,T,w,I=n[0](hn.Debt)+"",A,B,V=n[0](hn.Borrowed)+"",$,P,z=n[0](hn.Interest)+"",F,O;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=q("(="),$=q(V),P=q("+"),F=q(z),O=q(")"),this.h()},l(M){e=b(M,"DIV",{class:!0});var L=y(e);t=b(L,"DIV",{class:!0});var Q=y(t);l=D(Q,r),Q.forEach(p),i=C(L),s=b(L,"DIV",{class:!0});var j=y(s);o=D(j,a),j.forEach(p),c=C(L),f=b(L,"DIV",{class:!0});var K=y(f);h=D(K,d),K.forEach(p),m=C(L),v=b(L,"DIV",{class:!0});var W=y(v);E=D(W,k),W.forEach(p),T=C(L),w=b(L,"DIV",{class:!0});var Z=y(w);A=D(Z,I),B=D(Z,"(="),$=D(Z,V),P=D(Z,"+"),F=D(Z,z),O=D(Z,")"),Z.forEach(p),L.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-zkyn9n"),_(s,"class","cell tr H-zkyn9n"),_(f,"class","cell tr H-zkyn9n"),_(v,"class","cell tr pr16 H-zkyn9n"),_(w,"class","cell tr pr16 H-zkyn9n"),_(e,"class","row lh28 H-zkyn9n")},m(M,L){Y(M,e,L),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(w,B),u(w,$),u(w,P),u(w,F),u(w,O)},p(M,[L]){L&1&&r!==(r=M[0](hn.Symbol)+"")&&N(l,r),L&1&&a!==(a=M[0](hn.Balance)+"")&&N(o,a),L&1&&d!==(d=M[0](hn.AvailableBalance)+"")&&N(h,d),L&1&&k!==(k=M[0](hn.FrozenFunds)+"")&&N(E,k),L&1&&I!==(I=M[0](hn.Debt)+"")&&N(A,I),L&1&&V!==(V=M[0](hn.Borrowed)+"")&&N($,V),L&1&&z!==(z=M[0](hn.Interest)+"")&&N(F,z)},i:Qe,o:Qe,d(M){M&&p(e)}}}function Xy(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let Jy=class extends je{constructor(e){super(),We(this,e,Xy,Ky,Fe,{})}};function Zy(n){let e,t,r=n[0].displayCurrency+"",l,i,s,a,o=n[0].totalBalance+"",c,f,d=n[0].displayCurrency+"",h,m,v,k=n[0].totalBalanceMoneyWU+"",E,T,w,I,A=n[0].availableBalance+"",B,V,$=n[0].displayCurrency+"",P,z,F,O=n[0].availableBalanceMoneyWU+"",M,L,Q,j,K=n[0].freezeBalance+"",W,Z,J=n[0].displayCurrency+"",R,X,te,oe=n[0].freezeBalanceMoneyWU+"",x,de,G,re,ge=n[0].totalDebt+"",Ee,we,ee=n[0].displayCurrency+"",me,Se,qe,Ce=n[0].totalDebtMoneyWU+"",Be;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),a=g("span"),c=q(o),f=S(),h=q(d),m=S(),v=g("span"),E=q(k),T=S(),w=g("div"),I=g("span"),B=q(A),V=S(),P=q($),z=S(),F=g("span"),M=q(O),L=S(),Q=g("div"),j=g("span"),W=q(K),Z=S(),R=q(J),X=S(),te=g("span"),x=q(oe),de=S(),G=g("div"),re=g("span"),Ee=q(ge),we=S(),me=q(ee),Se=S(),qe=g("span"),Be=q(Ce),this.h()},l(ce){e=b(ce,"DIV",{class:!0});var fe=y(e);t=b(fe,"DIV",{class:!0});var Ve=y(t);l=D(Ve,r),Ve.forEach(p),i=C(fe),s=b(fe,"DIV",{class:!0});var Ie=y(s);a=b(Ie,"SPAN",{class:!0});var be=y(a);c=D(be,o),f=C(be),h=D(be,d),be.forEach(p),m=C(Ie),v=b(Ie,"SPAN",{class:!0});var _e=y(v);E=D(_e,k),_e.forEach(p),Ie.forEach(p),T=C(fe),w=b(fe,"DIV",{class:!0});var ve=y(w);I=b(ve,"SPAN",{class:!0});var ke=y(I);B=D(ke,A),V=C(ke),P=D(ke,$),ke.forEach(p),z=C(ve),F=b(ve,"SPAN",{class:!0});var Ne=y(F);M=D(Ne,O),Ne.forEach(p),ve.forEach(p),L=C(fe),Q=b(fe,"DIV",{class:!0});var Te=y(Q);j=b(Te,"SPAN",{class:!0});var He=y(j);W=D(He,K),Z=C(He),R=D(He,J),He.forEach(p),X=C(Te),te=b(Te,"SPAN",{class:!0});var ye=y(te);x=D(ye,oe),ye.forEach(p),Te.forEach(p),de=C(fe),G=b(fe,"DIV",{class:!0});var Pe=y(G);re=b(Pe,"SPAN",{class:!0});var De=y(re);Ee=D(De,ge),we=C(De),me=D(De,ee),De.forEach(p),Se=C(Pe),qe=b(Pe,"SPAN",{class:!0});var Re=y(qe);Be=D(Re,Ce),Re.forEach(p),Pe.forEach(p),fe.forEach(p),this.h()},h(){_(t,"class","currency ps pl16 B1 H-15enu0b"),$e(t,"linear-gradient-symbol",n[1]-320<1200),_(a,"class","H-15enu0b"),_(v,"class","H-15enu0b"),_(s,"class","tr H-15enu0b"),_(I,"class","H-15enu0b"),_(F,"class","H-15enu0b"),_(w,"class","tr H-15enu0b"),_(j,"class","H-15enu0b"),_(te,"class","H-15enu0b"),_(Q,"class","tr H-15enu0b"),_(re,"class","H-15enu0b"),_(qe,"class","H-15enu0b"),_(G,"class","pr16 tr H-15enu0b"),_(e,"class","wrap fw2 H-15enu0b")},m(ce,fe){Y(ce,e,fe),u(e,t),u(t,l),u(e,i),u(e,s),u(s,a),u(a,c),u(a,f),u(a,h),u(s,m),u(s,v),u(v,E),u(e,T),u(e,w),u(w,I),u(I,B),u(I,V),u(I,P),u(w,z),u(w,F),u(F,M),u(e,L),u(e,Q),u(Q,j),u(j,W),u(j,Z),u(j,R),u(Q,X),u(Q,te),u(te,x),u(e,de),u(e,G),u(G,re),u(re,Ee),u(re,we),u(re,me),u(G,Se),u(G,qe),u(qe,Be)},p(ce,[fe]){fe&1&&r!==(r=ce[0].displayCurrency+"")&&N(l,r),fe&2&&$e(t,"linear-gradient-symbol",ce[1]-320<1200),fe&1&&o!==(o=ce[0].totalBalance+"")&&N(c,o),fe&1&&d!==(d=ce[0].displayCurrency+"")&&N(h,d),fe&1&&k!==(k=ce[0].totalBalanceMoneyWU+"")&&N(E,k),fe&1&&A!==(A=ce[0].availableBalance+"")&&N(B,A),fe&1&&$!==($=ce[0].displayCurrency+"")&&N(P,$),fe&1&&O!==(O=ce[0].availableBalanceMoneyWU+"")&&N(M,O),fe&1&&K!==(K=ce[0].freezeBalance+"")&&N(W,K),fe&1&&J!==(J=ce[0].displayCurrency+"")&&N(R,J),fe&1&&oe!==(oe=ce[0].freezeBalanceMoneyWU+"")&&N(x,oe),fe&1&&ge!==(ge=ce[0].totalDebt+"")&&N(Ee,ge),fe&1&&ee!==(ee=ce[0].displayCurrency+"")&&N(me,ee),fe&1&&Ce!==(Ce=ce[0].totalDebtMoneyWU+"")&&N(Be,Ce)},i:Qe,o:Qe,d(ce){ce&&p(e)}}}function xy(n,e,t){let r;ne(n,gr,i=>t(1,r=i));let{account:l}=e;return n.$$set=i=>{"account"in i&&t(0,l=i.account)},[l,r]}let e3=class extends je{constructor(e){super(),We(this,e,xy,Zy,Fe,{account:0})}};function Bf(n,e,t){const r=n.slice();return r[4]=e[t],r}function t3(n){let e,t=n[1](hn.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-zdphjq")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1](hn.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function n3(n){let e=[],t=new Map,r,l,i=n[0];const s=a=>a[4].currency;for(let a=0;a<i.length;a+=1){let o=Bf(n,i,a),c=s(o);t.set(c,e[a]=qf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&1&&(i=a[0],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,qf,r,Bf),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function qf(n,e){let t,r,l;return r=new e3({props:{account:e[4]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.account=e[4]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function r3(n){let e,t,r,l,i,s,a;r=new Jy({});const o=[n3,t3],c=[];function f(d,h){return d[0].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-zdphjq"),_(e,"class","wrap f12 H-zdphjq")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){let m=i;i=f(d),i===m?c[i].p(d,h):(Ze(),U(c[m],1,1,()=>{c[m]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function l3(n,e){if(!n||e.length<1)return[];const t=[n.quoteCurrency,n.baseCurrency];return e.filter(r=>t.includes(r.currency))}function i3(n,e,t){let r,l,i,s;return ne(n,Ci,a=>t(2,l=a)),ne(n,Ht,a=>t(3,i=a)),ne(n,it,a=>t(1,s=a)),n.$$.update=()=>{n.$$.dirty&12&&t(0,r=l3(i,l))},[r,s,l,i]}let s3=class extends je{constructor(e){super(),We(this,e,i3,r3,Fe,{})}};const $n={NoData:"400485",Symbol:"57328c",Position:"c0f9af",PositionValue:"01051e",IndexPrice:"7ec9ca",LiqPrice:"e0e74c",Action:"71c1e9"};function a3(n){let e,t,r=n[0]($n.Symbol)+"",l,i,s,a=n[0]($n.Position)+"",o,c,f,d=n[0]($n.PositionValue)+"",h,m,v,k,E,T,w=n[0]($n.IndexPrice)+"",I,A,B,V,$,P=n[0]($n.LiqPrice)+"",z,F,O,M,L,Q=n[0]($n.Action)+"",j;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("span"),k=q("(USD)"),E=S(),T=g("div"),I=q(w),A=g("span"),B=q("(USD)"),V=S(),$=g("div"),z=q(P),F=g("span"),O=q("(USD)"),M=S(),L=g("div"),j=q(Q),this.h()},l(K){e=b(K,"DIV",{class:!0});var W=y(e);t=b(W,"DIV",{class:!0});var Z=y(t);l=D(Z,r),Z.forEach(p),i=C(W),s=b(W,"DIV",{class:!0});var J=y(s);o=D(J,a),J.forEach(p),c=C(W),f=b(W,"DIV",{class:!0});var R=y(f);h=D(R,d),m=C(R),v=b(R,"SPAN",{class:!0});var X=y(v);k=D(X,"(USD)"),X.forEach(p),R.forEach(p),E=C(W),T=b(W,"DIV",{class:!0});var te=y(T);I=D(te,w),A=b(te,"SPAN",{class:!0});var oe=y(A);B=D(oe,"(USD)"),oe.forEach(p),te.forEach(p),V=C(W),$=b(W,"DIV",{class:!0});var x=y($);z=D(x,P),F=b(x,"SPAN",{class:!0});var de=y(F);O=D(de,"(USD)"),de.forEach(p),x.forEach(p),M=C(W),L=b(W,"DIV",{class:!0});var G=y(L);j=D(G,Q),G.forEach(p),W.forEach(p),this.h()},h(){_(t,"class","cell pl16 H-zkyn9n"),_(s,"class","cell tr H-zkyn9n"),_(v,"class","dib f10"),_(f,"class","cell tr H-zkyn9n"),_(A,"class","dib f10"),_(T,"class","cell tr H-zkyn9n"),_(F,"class","dib f10"),_($,"class","cell tr H-zkyn9n"),_(L,"class","cell tr pr16 H-zkyn9n"),_(e,"class","row lh28 H-zkyn9n")},m(K,W){Y(K,e,W),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(f,m),u(f,v),u(v,k),u(e,E),u(e,T),u(T,I),u(T,A),u(A,B),u(e,V),u(e,$),u($,z),u($,F),u(F,O),u(e,M),u(e,L),u(L,j)},p(K,[W]){W&1&&r!==(r=K[0]($n.Symbol)+"")&&N(l,r),W&1&&a!==(a=K[0]($n.Position)+"")&&N(o,a),W&1&&d!==(d=K[0]($n.PositionValue)+"")&&N(h,d),W&1&&w!==(w=K[0]($n.IndexPrice)+"")&&N(I,w),W&1&&P!==(P=K[0]($n.LiqPrice)+"")&&N(z,P),W&1&&Q!==(Q=K[0]($n.Action)+"")&&N(j,Q)},i:Qe,o:Qe,d(K){K&&p(e)}}}function o3(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let u3=class extends je{constructor(e){super(),We(this,e,o3,a3,Fe,{})}};function Df(n){let e,t=n[3](ut.Borrow)+"",r,l,i;return{c(){e=g("a"),r=q(t),this.h()},l(s){e=b(s,"A",{class:!0,href:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","lh14 f12"),_(e,"href","javascript:void(0);")},m(s,a){Y(s,e,a),u(e,r),l||(i=Je(e,"click",n[4]),l=!0)},p(s,a){a&8&&t!==(t=s[3](ut.Borrow)+"")&&N(r,t)},d(s){s&&p(e),l=!1,i()}}}function c3(n){let e,t,r=n[0].displayCurrency+"",l,i,s,a=n[0].position+"",o,c,f,d=n[0].positionValue+"",h,m,v,k=n[0].indexPrice+"",E,T,w,I=n[0].liquidationPrice+"",A,B,V,$,P,z=n[3](ut.Repay)+"",F,O,M,L=n[1]&&Df(n);return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),m=S(),v=g("div"),E=q(k),T=S(),w=g("div"),A=q(I),B=S(),V=g("div"),L&&L.c(),$=S(),P=g("a"),F=q(z),this.h()},l(Q){e=b(Q,"DIV",{class:!0});var j=y(e);t=b(j,"DIV",{class:!0});var K=y(t);l=D(K,r),K.forEach(p),i=C(j),s=b(j,"DIV",{class:!0});var W=y(s);o=D(W,a),W.forEach(p),c=C(j),f=b(j,"DIV",{class:!0});var Z=y(f);h=D(Z,d),Z.forEach(p),m=C(j),v=b(j,"DIV",{class:!0});var J=y(v);E=D(J,k),J.forEach(p),T=C(j),w=b(j,"DIV",{class:!0});var R=y(w);A=D(R,I),R.forEach(p),B=C(j),V=b(j,"DIV",{class:!0});var X=y(V);L&&L.l(X),$=C(X),P=b(X,"A",{class:!0,href:!0});var te=y(P);F=D(te,z),te.forEach(p),X.forEach(p),j.forEach(p),this.h()},h(){_(t,"class","currency ps pl16 B1 H-ajrlqc"),$e(t,"linear-gradient-symbol",n[2]-320<1200),_(s,"class","tr H-ajrlqc"),_(f,"class","tr H-ajrlqc"),_(v,"class","tr H-ajrlqc"),_(w,"class","tr H-ajrlqc"),_(P,"class","ml16 lh14"),_(P,"href","javascript:void(0);"),_(V,"class","tr pr16 H-ajrlqc"),_(e,"class","wrap fw2 H-ajrlqc")},m(Q,j){Y(Q,e,j),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h),u(e,m),u(e,v),u(v,E),u(e,T),u(e,w),u(w,A),u(e,B),u(e,V),L&&L.m(V,null),u(V,$),u(V,P),u(P,F),O||(M=Je(P,"click",n[5]),O=!0)},p(Q,[j]){j&1&&r!==(r=Q[0].displayCurrency+"")&&N(l,r),j&4&&$e(t,"linear-gradient-symbol",Q[2]-320<1200),j&1&&a!==(a=Q[0].position+"")&&N(o,a),j&1&&d!==(d=Q[0].positionValue+"")&&N(h,d),j&1&&k!==(k=Q[0].indexPrice+"")&&N(E,k),j&1&&I!==(I=Q[0].liquidationPrice+"")&&N(A,I),Q[1]?L?L.p(Q,j):(L=Df(Q),L.c(),L.m(V,$)):L&&(L.d(1),L=null),j&8&&z!==(z=Q[3](ut.Repay)+"")&&N(F,z)},i:Qe,o:Qe,d(Q){Q&&p(e),L&&L.d(),O=!1,M()}}}function f3(n,e){const t=n.find(r=>r.currency===e);return t&&t.canBorrow}function d3(n,e,t){let r,l,i,s;ne(n,d1,f=>t(6,l=f)),ne(n,gr,f=>t(2,i=f)),ne(n,it,f=>t(3,s=f));let{marginPositon:a}=e;function o(){const f=a.currency;It.create(Vl,{content:{tabType:Hl.Borrow,currency:f}})}function c(){const f=a.currency;It.create(Vl,{content:{tabType:Hl.Repay,currency:f}})}return n.$$set=f=>{"marginPositon"in f&&t(0,a=f.marginPositon)},n.$$.update=()=>{n.$$.dirty&65&&t(1,r=f3(l,a.currency))},[a,r,i,s,o,c,l]}let p3=class extends je{constructor(e){super(),We(this,e,d3,c3,Fe,{marginPositon:0})}};function Af(n,e,t){const r=n.slice();return r[3]=e[t],r}function h3(n){let e,t=n[1]($n.NoData)+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","no-data tc T3 H-15wmyyn")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1]($n.NoData)+"")&&N(r,t)},i:Qe,o:Qe,d(l){l&&p(e)}}}function m3(n){let e=[],t=new Map,r,l,i=n[0];const s=a=>a[3].currency;for(let a=0;a<i.length;a+=1){let o=Af(n,i,a),c=s(o);t.set(c,e[a]=Vf(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ke()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);r=Ke()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);Y(a,r,o),l=!0},p(a,o){o&1&&(i=a[0],Ze(),e=_r(e,o,s,1,a,i,t,r.parentNode,vr,Vf,r,Af),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(e[o]);l=!0}},o(a){for(let o=0;o<e.length;o+=1)U(e[o]);l=!1},d(a){for(let o=0;o<e.length;o+=1)e[o].d(a);a&&p(r)}}}function Vf(n,e){let t,r,l;return r=new p3({props:{marginPositon:e[3]}}),{key:n,first:null,c(){t=Ke(),le(r.$$.fragment),this.h()},l(i){t=Ke(),ae(r.$$.fragment,i),this.h()},h(){this.first=t},m(i,s){Y(i,t,s),ie(r,i,s),l=!0},p(i,s){e=i;const a={};s&1&&(a.marginPositon=e[3]),r.$set(a)},i(i){l||(H(r.$$.fragment,i),l=!0)},o(i){U(r.$$.fragment,i),l=!1},d(i){i&&p(t),se(r,i)}}}function _3(n){let e,t,r,l,i,s,a;r=new u3({});const o=[m3,h3],c=[];function f(d,h){return d[0].length>0?0:1}return i=f(n),s=c[i]=o[i](n),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),s.c(),this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);t=b(h,"DIV",{class:!0});var m=y(t);ae(r.$$.fragment,m),l=C(m),s.l(m),m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","grid H-15wmyyn"),_(e,"class","wrap f12 H-15wmyyn")},m(d,h){Y(d,e,h),u(e,t),ie(r,t,null),u(t,l),c[i].m(t,null),a=!0},p(d,[h]){let m=i;i=f(d),i===m?c[i].p(d,h):(Ze(),U(c[m],1,1,()=>{c[m]=null}),xe(),s=c[i],s?s.p(d,h):(s=c[i]=o[i](d),s.c()),H(s,1),s.m(t,null))},i(d){a||(H(r.$$.fragment,d),H(s),a=!0)},o(d){U(r.$$.fragment,d),U(s),a=!1},d(d){d&&p(e),se(r),c[i].d()}}}function v3(n,e,t){let r,l,i;return ne(n,yp,s=>t(2,l=s)),ne(n,it,s=>t(1,i=s)),n.$$.update=()=>{n.$$.dirty&4&&t(0,r=l)},[r,i,l]}let g3=class extends je{constructor(e){super(),We(this,e,v3,_3,Fe,{})}};function Hf(n,e,t){const r=n.slice();return r[11]=e[t],r[13]=t,r}function Of(n){let e,t,r=n[11].title+"",l,i,s,a;return{c(){e=g("li"),t=g("span"),l=q(r),i=S(),this.h()},l(o){e=b(o,"LI",{class:!0});var c=y(e);t=b(c,"SPAN",{class:!0});var f=y(t);l=D(f,r),f.forEach(p),i=C(c),c.forEach(p),this.h()},h(){_(t,"class","dib"),_(e,"class","ph12 fw2 H-oajok5"),$e(e,"special",n[13]===n[1])},m(o,c){Y(o,e,c),u(e,t),u(t,l),u(e,i),s||(a=Je(e,"click",function(){Bt(n[2](n[11],n[13]))&&n[2](n[11],n[13]).apply(this,arguments)}),s=!0)},p(o,c){n=o,c&1&&r!==(r=n[11].title+"")&&N(l,r),c&2&&$e(e,"special",n[13]===n[1])},d(o){o&&p(e),s=!1,a()}}}function Mf(n){let e,t=n[11].isShow&&Of(n);return{c(){t&&t.c(),e=Ke()},l(r){t&&t.l(r),e=Ke()},m(r,l){t&&t.m(r,l),Y(r,e,l)},p(r,l){r[11].isShow?t?t.p(r,l):(t=Of(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&p(e)}}}function b3(n){let e,t,r=n[0],l=[];for(let i=0;i<r.length;i+=1)l[i]=Mf(Hf(n,r,i));return{c(){e=g("div"),t=g("ul");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l(i){e=b(i,"DIV",{class:!0});var s=y(e);t=b(s,"UL",{});var a=y(t);for(let o=0;o<l.length;o+=1)l[o].l(a);a.forEach(p),s.forEach(p),this.h()},h(){_(e,"class","wrap df T2 br12 ovh H-oajok5")},m(i,s){Y(i,e,s),u(e,t);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,null)},p(i,[s]){if(s&7){r=i[0];let a;for(a=0;a<r.length;a+=1){const o=Hf(i,r,a);l[a]?l[a].p(o,s):(l[a]=Mf(o),l[a].c(),l[a].m(t,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},i:Qe,o:Qe,d(i){i&&p(e),sn(l,i)}}}function y3(n,e,t){let r,l,i,s,a;ne(n,Ps,v=>t(5,r=v)),ne(n,In,v=>t(6,l=v)),ne(n,pn,v=>t(7,i=v)),ne(n,er,v=>t(8,s=v)),ne(n,it,v=>t(9,a=v));let{kvCount:o=0}=e,{tabType:c=0}=e,f=[],d=0;function h(v,k,E,T,w,I){t(0,f=[{tab:gt.ACTIVE_ORDERS,title:v(Vt.ActiveOrders),isShow:E<1},{tab:gt.CONDITIONAL_ORDERS,title:v(Vt.ConditionalOrders),isShow:E<2},{tab:gt.FILLS,title:v(Vt.Fills),isShow:E<3},{tab:gt.ORDER_HISTORY,title:v(Vt.OrderHistory),isShow:E<4},{tab:gt.BALANCE,title:v(Vt.Balance),isShow:E<5}]),(T||w==="Margin")&&f.push({tab:gt.POSITION,title:v(Vt.Position),isShow:E<f.length+1}),I&&f.push({tab:gt.TRADING_BOTS,title:v(Vt.TradingBot),isShow:E<f.length+1})}function m(v,k){return function(){if(t(3,c=v.tab),d===k){t(1,d=-1);return}t(1,d=k)}}return n.$$set=v=>{"kvCount"in v&&t(4,o=v.kvCount),"tabType"in v&&t(3,c=v.tabType)},n.$$.update=()=>{n.$$.dirty&1008&&h(a,s,o,i,l,r)},[f,d,m,c,o,r,l,i,s,a]}let E3=class extends je{constructor(e){super(),We(this,e,y3,b3,Fe,{kvCount:4,tabType:3})}};function Lf(n){let e,t;return e=new Ar({props:{class:"active-order",active:n[0]===gt.ACTIVE_ORDERS,$$slots:{default:[k3]},$$scope:{ctx:n}}}),e.$on("click",n[19]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.ACTIVE_ORDERS),l[0]&3072|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function k3(n){let e=n[10](Vt.ActiveOrders)+"",t,r,l;return{c(){t=q(e),r=S(),l=q(n[11])},l(i){t=D(i,e),r=C(i),l=D(i,n[11])},m(i,s){Y(i,t,s),Y(i,r,s),Y(i,l,s)},p(i,s){s[0]&1024&&e!==(e=i[10](Vt.ActiveOrders)+"")&&N(t,e),s[0]&2048&&N(l,i[11])},d(i){i&&p(t),i&&p(r),i&&p(l)}}}function Nf(n){let e,t;return e=new Ar({props:{class:"conditional-order",active:n[0]===gt.CONDITIONAL_ORDERS,$$slots:{default:[w3]},$$scope:{ctx:n}}}),e.$on("click",n[20]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.CONDITIONAL_ORDERS),l[0]&5120|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function w3(n){let e=n[10](Vt.ConditionalOrders)+"",t,r,l;return{c(){t=q(e),r=S(),l=q(n[12])},l(i){t=D(i,e),r=C(i),l=D(i,n[12])},m(i,s){Y(i,t,s),Y(i,r,s),Y(i,l,s)},p(i,s){s[0]&1024&&e!==(e=i[10](Vt.ConditionalOrders)+"")&&N(t,e),s[0]&4096&&N(l,i[12])},d(i){i&&p(t),i&&p(r),i&&p(l)}}}function Uf(n){let e,t;return e=new Ar({props:{class:"order-fill",active:n[0]===gt.FILLS,$$slots:{default:[$3]},$$scope:{ctx:n}}}),e.$on("click",n[21]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.FILLS),l[0]&1024|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function $3(n){let e=n[10](Vt.Fills)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l[0]&1024&&e!==(e=r[10](Vt.Fills)+"")&&N(t,e)},d(r){r&&p(t)}}}function zf(n){let e,t;return e=new Ar({props:{class:"order-history",active:n[0]===gt.ORDER_HISTORY,$$slots:{default:[S3]},$$scope:{ctx:n}}}),e.$on("click",n[22]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.ORDER_HISTORY),l[0]&1024|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function S3(n){let e=n[10](Vt.OrderHistory)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l[0]&1024&&e!==(e=r[10](Vt.OrderHistory)+"")&&N(t,e)},d(r){r&&p(t)}}}function Ff(n){let e,t;return e=new Ar({props:{active:n[0]===gt.BALANCE,$$slots:{default:[C3]},$$scope:{ctx:n}}}),e.$on("click",n[23]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.BALANCE),l[0]&1024|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function C3(n){let e=n[10](Vt.Balance)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l[0]&1024&&e!==(e=r[10](Vt.Balance)+"")&&N(t,e)},d(r){r&&p(t)}}}function Rf(n){let e,t;return e=new Ar({props:{active:n[0]===gt.POSITION,$$slots:{default:[T3]},$$scope:{ctx:n}}}),e.$on("click",n[24]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.POSITION),l[0]&9216|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function T3(n){let e=n[10](Vt.Position)+"",t,r,l;return{c(){t=q(e),r=S(),l=q(n[13])},l(i){t=D(i,e),r=C(i),l=D(i,n[13])},m(i,s){Y(i,t,s),Y(i,r,s),Y(i,l,s)},p(i,s){s[0]&1024&&e!==(e=i[10](Vt.Position)+"")&&N(t,e),s[0]&8192&&N(l,i[13])},d(i){i&&p(t),i&&p(r),i&&p(l)}}}function Qf(n){let e,t;return e=new Ar({props:{active:n[0]===gt.TRADING_BOTS,$$slots:{default:[I3]},$$scope:{ctx:n}}}),e.$on("click",n[25]),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l[0]&1&&(i.active=r[0]===gt.TRADING_BOTS),l[0]&1024|l[1]&4&&(i.$$scope={dirty:l,ctx:r}),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function I3(n){let e=n[10](Vt.TradingBot)+"",t;return{c(){t=q(e)},l(r){t=D(r,e)},m(r,l){Y(r,t,l)},p(r,l){l[0]&1024&&e!==(e=r[10](Vt.TradingBot)+"")&&N(t,e)},d(r){r&&p(t)}}}function jf(n){let e,t,r,l,i,s,a,o;function c(d){n[26](d)}let f={kvCount:n[9]};return n[0]!==void 0&&(f.tabType=n[0]),s=new E3({props:f}),Ue.push(()=>Ge(s,"tabType",c)),{c(){e=g("span"),t=g("i"),r=q(""),l=S(),i=g("div"),le(s.$$.fragment),this.h()},l(d){e=b(d,"SPAN",{class:!0});var h=y(e);t=b(h,"I",{class:!0});var m=y(t);r=D(m,""),m.forEach(p),l=C(h),i=b(h,"DIV",{class:!0});var v=y(i);ae(s.$$.fragment,v),v.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","iconfont f12 fw1 T4"),_(i,"class","dropdown pa H-9r1g5k"),_(e,"class","menu pr ph10 cp H-9r1g5k")},m(d,h){Y(d,e,h),u(e,t),u(t,r),u(e,l),u(e,i),ie(s,i,null),o=!0},p(d,h){const m={};h[0]&512&&(m.kvCount=d[9]),!a&&h[0]&1&&(a=!0,m.tabType=d[0],Ye(()=>a=!1)),s.$set(m)},i(d){o||(H(s.$$.fragment,d),o=!0)},o(d){U(s.$$.fragment,d),o=!1},d(d){d&&p(e),se(s)}}}function P3(n){let e,t=n[10](Vt.ViewOnlyThe)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","pr24 pl8 T3 f14 fw1")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i[0]&1024&&t!==(t=l[10](Vt.ViewOnlyThe)+"")&&N(r,t)},d(l){l&&p(e)}}}function Wf(n){let e,t,r,l,i,s=n[10](Vt.PNLHistory)+"",a,o;return{c(){e=g("a"),t=g("i"),r=q(""),l=S(),i=g("span"),a=q(s),this.h()},l(c){e=b(c,"A",{href:!0,target:!0,class:!0});var f=y(e);t=b(f,"I",{class:!0});var d=y(t);r=D(d,""),d.forEach(p),l=C(f),i=b(f,"SPAN",{class:!0});var h=y(i);a=D(h,s),h.forEach(p),f.forEach(p),this.h()},h(){_(t,"class","iconfont f12"),_(i,"class","ml4 f14 fw1"),_(e,"href",o=n[16](Dt.ASSETS_SPOT_PNL_DETAILS)),_(e,"target","_blank"),_(e,"class","df fw1 mr16 usn T3 cp")},m(c,f){Y(c,e,f),u(e,t),u(t,r),u(e,l),u(e,i),u(i,a)},p(c,f){f[0]&1024&&s!==(s=c[10](Vt.PNLHistory)+"")&&N(a,s),f[0]&65536&&o!==(o=c[16](Dt.ASSETS_SPOT_PNL_DETAILS))&&_(e,"href",o)},d(c){c&&p(e)}}}function B3(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w=n[9]>0&&Lf(n),I=n[9]>1&&Nf(n),A=n[9]>2&&Uf(n),B=n[9]>3&&zf(n),V=n[9]>4&&Ff(n),$=n[9]>5&&n[1]&&Rf(n),P=n[9]>(n[1]?6:5)&&n[3]&&Qf(n),z=n[9]<n[8]&&jf(n);m=new yr({props:{checked:!n[14],$$slots:{default:[P3]},$$scope:{ctx:n}}}),m.$on("change",n[18]);let F=n[15]&&n[4]===wi.Spot&&!n[5]&&Wf(n);return{c(){e=g("div"),t=g("div"),r=g("div"),w&&w.c(),l=S(),I&&I.c(),i=S(),A&&A.c(),s=S(),B&&B.c(),a=S(),V&&V.c(),o=S(),$&&$.c(),c=S(),P&&P.c(),f=S(),z&&z.c(),d=S(),h=g("div"),le(m.$$.fragment),v=S(),F&&F.c(),this.h()},l(O){e=b(O,"DIV",{class:!0});var M=y(e);t=b(M,"DIV",{class:!0});var L=y(t);r=b(L,"DIV",{class:!0});var Q=y(r);w&&w.l(Q),l=C(Q),I&&I.l(Q),i=C(Q),A&&A.l(Q),s=C(Q),B&&B.l(Q),a=C(Q),V&&V.l(Q),o=C(Q),$&&$.l(Q),c=C(Q),P&&P.l(Q),f=C(Q),z&&z.l(Q),Q.forEach(p),L.forEach(p),M.forEach(p),d=C(O),h=b(O,"DIV",{class:!0});var j=y(h);ae(m.$$.fragment,j),v=C(j),F&&F.l(j),j.forEach(p),this.h()},h(){_(r,"class","df"),_(t,"class","dib content H-9r1g5k"),_(e,"class","container f1 H-9r1g5k"),_(h,"class","df")},m(O,M){Y(O,e,M),u(e,t),u(t,r),w&&w.m(r,null),u(r,l),I&&I.m(r,null),u(r,i),A&&A.m(r,null),u(r,s),B&&B.m(r,null),u(r,a),V&&V.m(r,null),u(r,o),$&&$.m(r,null),u(r,c),P&&P.m(r,null),u(r,f),z&&z.m(r,null),n[27](r),n[28](t),n[29](e),Y(O,d,M),Y(O,h,M),ie(m,h,null),u(h,v),F&&F.m(h,null),k=!0,E||(T=[Je(r,"mousedown",Yf),Je(h,"mousedown",Yf)],E=!0)},p(O,M){O[9]>0?w?(w.p(O,M),M[0]&512&&H(w,1)):(w=Lf(O),w.c(),H(w,1),w.m(r,l)):w&&(Ze(),U(w,1,1,()=>{w=null}),xe()),O[9]>1?I?(I.p(O,M),M[0]&512&&H(I,1)):(I=Nf(O),I.c(),H(I,1),I.m(r,i)):I&&(Ze(),U(I,1,1,()=>{I=null}),xe()),O[9]>2?A?(A.p(O,M),M[0]&512&&H(A,1)):(A=Uf(O),A.c(),H(A,1),A.m(r,s)):A&&(Ze(),U(A,1,1,()=>{A=null}),xe()),O[9]>3?B?(B.p(O,M),M[0]&512&&H(B,1)):(B=zf(O),B.c(),H(B,1),B.m(r,a)):B&&(Ze(),U(B,1,1,()=>{B=null}),xe()),O[9]>4?V?(V.p(O,M),M[0]&512&&H(V,1)):(V=Ff(O),V.c(),H(V,1),V.m(r,o)):V&&(Ze(),U(V,1,1,()=>{V=null}),xe()),O[9]>5&&O[1]?$?($.p(O,M),M[0]&514&&H($,1)):($=Rf(O),$.c(),H($,1),$.m(r,c)):$&&(Ze(),U($,1,1,()=>{$=null}),xe()),O[9]>(O[1]?6:5)&&O[3]?P?(P.p(O,M),M[0]&522&&H(P,1)):(P=Qf(O),P.c(),H(P,1),P.m(r,f)):P&&(Ze(),U(P,1,1,()=>{P=null}),xe()),O[9]<O[8]?z?(z.p(O,M),M[0]&768&&H(z,1)):(z=jf(O),z.c(),H(z,1),z.m(r,null)):z&&(Ze(),U(z,1,1,()=>{z=null}),xe());const L={};M[0]&16384&&(L.checked=!O[14]),M[0]&1024|M[1]&4&&(L.$$scope={dirty:M,ctx:O}),m.$set(L),O[15]&&O[4]===wi.Spot&&!O[5]?F?F.p(O,M):(F=Wf(O),F.c(),F.m(h,null)):F&&(F.d(1),F=null)},i(O){k||(H(w),H(I),H(A),H(B),H(V),H($),H(P),H(z),H(m.$$.fragment,O),k=!0)},o(O){U(w),U(I),U(A),U(B),U(V),U($),U(P),U(z),U(m.$$.fragment,O),k=!1},d(O){O&&p(e),w&&w.d(),I&&I.d(),A&&A.d(),B&&B.d(),V&&V.d(),$&&$.d(),P&&P.d(),z&&z.d(),n[27](null),n[28](null),n[29](null),O&&p(d),O&&p(h),se(m),F&&F.d(),E=!1,an(T)}}}function q3(n){let e,t;return e=new Zb({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function D3(n){let e,t;return e=new my({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function A3(n){let e,t;return e=new Cy({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function V3(n){let e,t;return e=new My({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function H3(n){let e,t;return e=new Yy({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function O3(n){let e,t;return e=new s3({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function M3(n){let e,t,r,l;const i=[O3,H3],s=[];function a(o,c){return o[2]||o[4]===wi.Margin?0:1}return e=a(n),t=s[e]=i[e](n),{c(){t.c(),r=Ke()},l(o){t.l(o),r=Ke()},m(o,c){s[e].m(o,c),Y(o,r,c),l=!0},p(o,c){let f=e;e=a(o),e!==f&&(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe(),t=s[e],t||(t=s[e]=i[e](o),t.c()),H(t,1),t.m(r.parentNode,r))},i(o){l||(H(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&p(r)}}}function L3(n){let e,t;return e=new g3({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function N3(n){let e,t;return e=new G1({props:{entryType:"Spot"}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Gf(n){let e,t,r,l,i,s=n[10](Vt.PleaseLoginTo)+"",a;return{c(){e=g("div"),t=g("div"),r=S(),l=g("div"),i=g("div"),a=q(s),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);t=b(c,"DIV",{class:!0}),y(t).forEach(p),r=C(c),l=b(c,"DIV",{class:!0});var f=y(l);i=b(f,"DIV",{class:!0});var d=y(i);a=D(d,s),d.forEach(p),f.forEach(p),c.forEach(p),this.h()},h(){_(t,"class","grid-layout-item-drager B1 H-9r1g5k"),_(i,"class","tc H-9r1g5k"),_(l,"class","mask f1 B1 H-9r1g5k"),_(e,"class","df fdc fill")},m(o,c){Y(o,e,c),u(e,t),u(e,r),u(e,l),u(l,i),u(i,a)},p(o,c){c[0]&1024&&s!==(s=o[10](Vt.PleaseLoginTo)+"")&&N(a,s)},d(o){o&&p(e)}}}function U3(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I;t=new W1({props:{class:"pr df jcsb",$$slots:{default:[B3]},$$scope:{ctx:n}}}),i=new xt({props:{active:n[0]===gt.ACTIVE_ORDERS,$$slots:{default:[q3]},$$scope:{ctx:n}}}),a=new xt({props:{active:n[0]===gt.CONDITIONAL_ORDERS,$$slots:{default:[D3]},$$scope:{ctx:n}}}),c=new xt({props:{active:n[0]===gt.FILLS,$$slots:{default:[A3]},$$scope:{ctx:n}}}),d=new xt({props:{active:n[0]===gt.ORDER_HISTORY,$$slots:{default:[V3]},$$scope:{ctx:n}}}),m=new xt({props:{active:n[0]===gt.BALANCE,$$slots:{default:[M3]},$$scope:{ctx:n}}}),k=new xt({props:{active:n[0]===gt.POSITION,$$slots:{default:[L3]},$$scope:{ctx:n}}}),T=new xt({props:{active:n[0]===gt.TRADING_BOTS,$$slots:{default:[N3]},$$scope:{ctx:n}}});let A=n[17]==="Logout"&&Gf(n);return{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div"),le(i.$$.fragment),s=S(),le(a.$$.fragment),o=S(),le(c.$$.fragment),f=S(),le(d.$$.fragment),h=S(),le(m.$$.fragment),v=S(),le(k.$$.fragment),E=S(),le(T.$$.fragment),w=S(),A&&A.c(),this.h()},l(B){e=b(B,"DIV",{class:!0});var V=y(e);ae(t.$$.fragment,V),r=C(V),l=b(V,"DIV",{class:!0});var $=y(l);ae(i.$$.fragment,$),s=C($),ae(a.$$.fragment,$),o=C($),ae(c.$$.fragment,$),f=C($),ae(d.$$.fragment,$),h=C($),ae(m.$$.fragment,$),v=C($),ae(k.$$.fragment,$),E=C($),ae(T.$$.fragment,$),$.forEach(p),w=C(V),A&&A.l(V),V.forEach(p),this.h()},h(){_(l,"class","body f1 df fdc h0 sv B1 H-9r1g5k"),_(e,"class","wrap df fdc f1 pr ovh H-9r1g5k"),$e(e,"reduce40",n[4]==="Margin")},m(B,V){Y(B,e,V),ie(t,e,null),u(e,r),u(e,l),ie(i,l,null),u(l,s),ie(a,l,null),u(l,o),ie(c,l,null),u(l,f),ie(d,l,null),u(l,h),ie(m,l,null),u(l,v),ie(k,l,null),u(l,E),ie(T,l,null),u(e,w),A&&A.m(e,null),I=!0},p(B,V){const $={};V[0]&131067|V[1]&4&&($.$$scope={dirty:V,ctx:B}),t.$set($);const P={};V[0]&1&&(P.active=B[0]===gt.ACTIVE_ORDERS),V[1]&4&&(P.$$scope={dirty:V,ctx:B}),i.$set(P);const z={};V[0]&1&&(z.active=B[0]===gt.CONDITIONAL_ORDERS),V[1]&4&&(z.$$scope={dirty:V,ctx:B}),a.$set(z);const F={};V[0]&1&&(F.active=B[0]===gt.FILLS),V[1]&4&&(F.$$scope={dirty:V,ctx:B}),c.$set(F);const O={};V[0]&1&&(O.active=B[0]===gt.ORDER_HISTORY),V[1]&4&&(O.$$scope={dirty:V,ctx:B}),d.$set(O);const M={};V[0]&1&&(M.active=B[0]===gt.BALANCE),V[0]&20|V[1]&4&&(M.$$scope={dirty:V,ctx:B}),m.$set(M);const L={};V[0]&1&&(L.active=B[0]===gt.POSITION),V[1]&4&&(L.$$scope={dirty:V,ctx:B}),k.$set(L);const Q={};V[0]&1&&(Q.active=B[0]===gt.TRADING_BOTS),V[1]&4&&(Q.$$scope={dirty:V,ctx:B}),T.$set(Q),B[17]==="Logout"?A?A.p(B,V):(A=Gf(B),A.c(),A.m(e,null)):A&&(A.d(1),A=null),(!I||V[0]&16)&&$e(e,"reduce40",B[4]==="Margin")},i(B){I||(H(t.$$.fragment,B),H(i.$$.fragment,B),H(a.$$.fragment,B),H(c.$$.fragment,B),H(d.$$.fragment,B),H(m.$$.fragment,B),H(k.$$.fragment,B),H(T.$$.fragment,B),I=!0)},o(B){U(t.$$.fragment,B),U(i.$$.fragment,B),U(a.$$.fragment,B),U(c.$$.fragment,B),U(d.$$.fragment,B),U(m.$$.fragment,B),U(k.$$.fragment,B),U(T.$$.fragment,B),I=!1},d(B){B&&p(e),se(t),se(i),se(a),se(c),se(d),se(m),se(k),se(T),A&&A.d()}}}function Yf(n){n.stopPropagation()}function z3(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E;ne(n,Es,R=>t(30,i=R)),ne(n,Ps,R=>t(3,s=R)),ne(n,In,R=>t(4,a=R)),ne(n,pn,R=>t(5,o=R)),ne(n,it,R=>t(10,c=R)),ne(n,p1,R=>t(11,f=R)),ne(n,h1,R=>t(12,d=R)),ne(n,Sb,R=>t(13,h=R)),ne(n,ks,R=>t(14,m=R)),ne(n,m1,R=>t(15,v=R)),ne(n,er,R=>t(16,k=R)),ne(n,Nn,R=>t(17,E=R));let{tabType:T=gt.ACTIVE_ORDERS}=e,w,I,A=7,B=A;Ct(()=>{const R=In.subscribe(()=>{t(0,T=gt.ACTIVE_ORDERS)});return function(){R.unsubscribe()}}),Ct(()=>{if(!w||!I||!window.ResizeObserver)return;const R=new ResizeObserver($);return R.observe(w),Ld.parseUrl(i).isStrategy&&setTimeout(()=>{t(0,T=gt.TRADING_BOTS),v1.next("SpotGrid")},50),function(){R.unobserve(w),R.disconnect()}});function V(R,X){let te=5;R&&(te+=1),X&&(te+=1),t(8,A=te),$()}async function $(){if(!(!w||!I))for(t(9,B=A);B>0&&(await ms(),!(I.clientWidth-w.clientWidth<=20));)t(9,B--,B)}function P(R){_1.next(!R.target.checked)}const z=()=>t(0,T=gt.ACTIVE_ORDERS),F=()=>t(0,T=gt.CONDITIONAL_ORDERS),O=()=>t(0,T=gt.FILLS),M=()=>t(0,T=gt.ORDER_HISTORY),L=()=>t(0,T=gt.BALANCE),Q=()=>t(0,T=gt.POSITION),j=()=>t(0,T=gt.TRADING_BOTS);function K(R){T=R,t(0,T)}function W(R){Ue[R?"unshift":"push"](()=>{I=R,t(7,I)})}function Z(R){Ue[R?"unshift":"push"](()=>{I=R,t(7,I)})}function J(R){Ue[R?"unshift":"push"](()=>{w=R,t(6,w)})}return n.$$set=R=>{"tabType"in R&&t(0,T=R.tabType)},n.$$.update=()=>{n.$$.dirty[0]&32&&t(2,r=o),n.$$.dirty[0]&20&&t(1,l=r||a==="Margin"),n.$$.dirty[0]&10&&V(l,s)},[T,l,r,s,a,o,w,I,A,B,c,f,d,h,m,v,k,E,P,z,F,O,M,L,Q,j,K,W,Z,J]}let F3=class extends je{constructor(e){super(),We(this,e,z3,U3,Fe,{tabType:0},null,[-1,-1])}};function Kf(n){let e,t;return e=new wb({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function R3(n){let e,t,r,l,i=n[1]&&n[0]&&Kf();return r=new F3({}),{c(){e=g("section"),i&&i.c(),t=S(),le(r.$$.fragment),this.h()},l(s){e=b(s,"SECTION",{class:!0});var a=y(e);i&&i.l(a),t=C(a),ae(r.$$.fragment,a),a.forEach(p),this.h()},h(){_(e,"class","wp100")},m(s,a){Y(s,e,a),i&&i.m(e,null),u(e,t),ie(r,e,null),l=!0},p(s,[a]){s[1]&&s[0]?i?a&3&&H(i,1):(i=Kf(),i.c(),H(i,1),i.m(e,t)):i&&(Ze(),U(i,1,1,()=>{i=null}),xe())},i(s){l||(H(i),H(r.$$.fragment,s),l=!0)},o(s){U(i),U(r.$$.fragment,s),l=!1},d(s){s&&p(e),i&&i.d(),se(r)}}}function Q3(n,e,t){let r,l,i,s;return ne(n,Ht,a=>t(2,l=a)),ne(n,pn,a=>t(3,i=a)),ne(n,Md,a=>t(1,s=a)),n.$$.update=()=>{n.$$.dirty&4&&l.mode,n.$$.dirty&12&&t(0,r=!i&&l.mode==="Margin")},[r,s,l,i]}let j3=class extends je{constructor(e){super(),We(this,e,Q3,R3,Fe,{})}};const mn={OrderBook:"3f3651",Price:"b5280b",Amount:"83542f",Total:"33c1e6",Value:"22d490",Each:"82e50e",Stack:"db6968"};function W3(n){let e,t,r=n[2](mn.Price)+"",l,i,s,a=n[2](mn.Amount)+"",o,c,f=n[1].displayBaseCurrency+"",d,h,m,v,k,E=n[2](n[0]==="Each"?mn.Value:mn.Total)+"",T,w,I=(n[0]==="Each"?n[1].quoteCurrency:n[1].displayBaseCurrency)+"",A,B,V;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=q(" ("),d=q(f),h=q(")"),v=S(),k=g("div"),T=q(E),w=q(" ("),A=q(I),B=q(")"),this.h()},l($){e=b($,"DIV",{class:!0});var P=y(e);t=b(P,"DIV",{class:!0});var z=y(t);l=D(z,r),z.forEach(p),i=C(P),s=b(P,"DIV",{class:!0,title:!0});var F=y(s);o=D(F,a),c=D(F," ("),d=D(F,f),h=D(F,")"),F.forEach(p),v=C(P),k=b(P,"DIV",{class:!0,title:!0});var O=y(k);T=D(O,E),w=D(O," ("),A=D(O,I),B=D(O,")"),O.forEach(p),P.forEach(p),this.h()},h(){_(t,"class","f2 ph16"),_(s,"class","f2 ph16 tr ooo"),_(s,"title",m=n[2](mn.Amount)+" ("+n[1].displayBaseCurrency+")"),_(k,"class","f3 ph16 tr ooo"),_(k,"title",V=n[2](n[0]==="Each"?mn.Value:mn.Total)+" ("+(n[0]==="Each"?n[1].quoteCurrency:n[1].displayBaseCurrency)+")"),_(e,"class","df lh20 f12 T2 wsn")},m($,P){Y($,e,P),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(s,c),u(s,d),u(s,h),u(e,v),u(e,k),u(k,T),u(k,w),u(k,A),u(k,B)},p($,[P]){P&4&&r!==(r=$[2](mn.Price)+"")&&N(l,r),P&4&&a!==(a=$[2](mn.Amount)+"")&&N(o,a),P&2&&f!==(f=$[1].displayBaseCurrency+"")&&N(d,f),P&6&&m!==(m=$[2](mn.Amount)+" ("+$[1].displayBaseCurrency+")")&&_(s,"title",m),P&5&&E!==(E=$[2]($[0]==="Each"?mn.Value:mn.Total)+"")&&N(T,E),P&3&&I!==(I=($[0]==="Each"?$[1].quoteCurrency:$[1].displayBaseCurrency)+"")&&N(A,I),P&7&&V!==(V=$[2]($[0]==="Each"?mn.Value:mn.Total)+" ("+($[0]==="Each"?$[1].quoteCurrency:$[1].displayBaseCurrency)+")")&&_(k,"title",V)},i:Qe,o:Qe,d($){$&&p(e)}}}function G3(n,e,t){let r;ne(n,it,s=>t(2,r=s));let{percentType:l}=e,{spot:i}=e;return n.$$set=s=>{"percentType"in s&&t(0,l=s.percentType),"spot"in s&&t(1,i=s.spot)},[l,i,r]}let Y3=class extends je{constructor(e){super(),We(this,e,G3,W3,Fe,{percentType:0,spot:1})}};function K3(n){let e,t=n[1].sizeStr+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1].sizeStr+"")&&N(r,t)},d(l){l&&p(e)}}}function X3(n){let e,t=n[1].sizeStr+"",r,l,i,s;return{c(){e=g("span"),r=q(t)},l(a){e=b(a,"SPAN",{});var o=y(e);r=D(o,t),o.forEach(p)},m(a,o){Y(a,e,o),u(e,r),i||(s=En(l=kn.call(null,e,{text:n[4]})),i=!0)},p(a,o){o&2&&t!==(t=a[1].sizeStr+"")&&N(r,t),l&&Bt(l.update)&&o&16&&l.update.call(null,{text:a[4]})},d(a){a&&p(e),i=!1,s()}}}function J3(n){let e,t=n[1].totalStr+"",r;return{c(){e=g("span"),r=q(t)},l(l){e=b(l,"SPAN",{});var i=y(e);r=D(i,t),i.forEach(p)},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[1].totalStr+"")&&N(r,t)},d(l){l&&p(e)}}}function Z3(n){let e,t=n[1].totalStr+"",r,l,i,s;return{c(){e=g("span"),r=q(t)},l(a){e=b(a,"SPAN",{});var o=y(e);r=D(o,t),o.forEach(p)},m(a,o){Y(a,e,o),u(e,r),i||(s=En(l=kn.call(null,e,{text:n[3](Ml.ClickToCancel)})),i=!0)},p(a,o){o&2&&t!==(t=a[1].totalStr+"")&&N(r,t),l&&Bt(l.update)&&o&8&&l.update.call(null,{text:a[3](Ml.ClickToCancel)})},d(a){a&&p(e),i=!1,s()}}}function x3(n){let e,t,r,l=n[1].price+"",i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A;function B(O,M){return O[5]?X3:K3}let V=B(n),$=V(n);function P(O,M){return O[5]?Z3:J3}let z=P(n),F=z(n);return{c(){e=g("div"),t=g("div"),r=g("span"),i=q(l),a=S(),o=g("div"),$.c(),f=S(),d=g("div"),h=g("i"),m=S(),F.c(),k=S(),E=g("i"),T=q(""),this.h()},l(O){e=b(O,"DIV",{class:!0});var M=y(e);t=b(M,"DIV",{class:!0,"data-price":!0});var L=y(t);r=b(L,"SPAN",{});var Q=y(r);i=D(Q,l),Q.forEach(p),L.forEach(p),a=C(M),o=b(M,"DIV",{class:!0,"data-size":!0});var j=y(o);$.l(j),j.forEach(p),f=C(M),d=b(M,"DIV",{class:!0,"data-total":!0});var K=y(d);h=b(K,"I",{class:!0,style:!0}),y(h).forEach(p),m=C(K),F.l(K),K.forEach(p),k=C(M),E=b(M,"I",{class:!0});var W=y(E);T=D(W,""),W.forEach(p),M.forEach(p),this.h()},h(){_(t,"class","order-price pl16 H-ajg58"),_(t,"data-price",s=n[1].priceEp),_(o,"class","order-size f1 pr ph16 tr T1 H-ajg58"),_(o,"data-size",c=n[1].size),$e(o,"up1",n[1].ss===1&&n[1].bid),$e(o,"up2",n[1].ss===2&&n[1].bid),$e(o,"dw1",n[1].ss===3&&n[1].ask),$e(o,"dw2",n[1].ss===4&&n[1].ask),$e(o,"BLUE",n[5]),_(h,"class","bar H-ajg58"),yn(h,"width",n[1].percent+"%"),_(d,"class","order-total f1 pr pr16 tr T1 H-ajg58"),_(d,"data-total",v=n[1].total),$e(d,"BLUE",n[5]),_(E,"class","iconfont close-icon pa f12 BLUE H-ajg58"),_(e,"class","wrap df pr lh22 cp usn H-ajg58"),$e(e,"special-row",n[5]),$e(e,"odd",n[1].odd),$e(e,"bid",n[1].bid),$e(e,"ask",n[1].ask),$e(e,"shading",n[0]>-1?n[1].bid?n[0]>=n[2]:n[2]>=n[0]:!1)},m(O,M){Y(O,e,M),u(e,t),u(t,r),u(r,i),u(e,a),u(e,o),$.m(o,null),u(e,f),u(e,d),u(d,h),u(d,m),F.m(d,null),u(e,k),u(e,E),u(E,T),n[12](e),I||(A=[En(w=kn.call(null,E,{text:n[3](Ml.ClickToCancel)})),Je(E,"click",function(){Bt(n[7](n[1]))&&n[7](n[1]).apply(this,arguments)}),Je(e,"click",n[11]),Je(e,"mouseenter",n[8]),Je(e,"mouseleave",n[9])],I=!0)},p(O,[M]){n=O,M&2&&l!==(l=n[1].price+"")&&N(i,l),M&2&&s!==(s=n[1].priceEp)&&_(t,"data-price",s),V===(V=B(n))&&$?$.p(n,M):($.d(1),$=V(n),$&&($.c(),$.m(o,null))),M&2&&c!==(c=n[1].size)&&_(o,"data-size",c),M&2&&$e(o,"up1",n[1].ss===1&&n[1].bid),M&2&&$e(o,"up2",n[1].ss===2&&n[1].bid),M&2&&$e(o,"dw1",n[1].ss===3&&n[1].ask),M&2&&$e(o,"dw2",n[1].ss===4&&n[1].ask),M&32&&$e(o,"BLUE",n[5]),M&2&&yn(h,"width",n[1].percent+"%"),z===(z=P(n))&&F?F.p(n,M):(F.d(1),F=z(n),F&&(F.c(),F.m(d,null))),M&2&&v!==(v=n[1].total)&&_(d,"data-total",v),M&32&&$e(d,"BLUE",n[5]),w&&Bt(w.update)&&M&8&&w.update.call(null,{text:n[3](Ml.ClickToCancel)}),M&32&&$e(e,"special-row",n[5]),M&2&&$e(e,"odd",n[1].odd),M&2&&$e(e,"bid",n[1].bid),M&2&&$e(e,"ask",n[1].ask),M&7&&$e(e,"shading",n[0]>-1?n[1].bid?n[0]>=n[2]:n[2]>=n[0]:!1)},i:Qe,o:Qe,d(O){O&&p(e),$.d(),F.d(),n[12](null),I=!1,an(A)}}}function eE(n,e,t){let r,l,i,s;ne(n,pn,B=>t(14,r=B)),ne(n,In,B=>t(15,l=B)),ne(n,Ht,B=>t(10,i=B)),ne(n,it,B=>t(3,s=B));let{item:a=null}=e,{curIndex:o=-1}=e,{index:c=-1}=e,f="",d=!1,h,m=null;function v(B){return function(){const{orders:V}=B;V.forEach($=>Is($,l,r))}}function k(B,V,{baseQtyPrecision:$,baseCurrency:P}){const{orders:z,price:F}=B;if(!z||z.length<1)return;const O=z.reduce((M,{qtyType:L,qty:Q,value:j})=>M+Number(L===Me.ByBase?Q:j),0);O>0&&t(4,f=V(Ml.YouAreBiddingSpot,{Size:yt.floor(O,$),Price:F,Coin:P}))}function E(B){B.orders&&t(5,d=B.orders.length>0)}function T(){t(0,o=c);let B=document.getElementById("tooltip-holder");B||(B=document.createElement("div"),B.setAttribute("id","tooltip-holder"),document.body.appendChild(B)),m=new Y1({target:B,props:{anchorNode:h,item:a,index:c}}),m.$set({visible:!0}),ru.next({state:"open"}),K1.next({index:c,type:a.bid?"bids":a.ask?"asks":"none"})}function w(){t(0,o=-1),ru.next({state:"close"}),m&&!m.isHover&&(m.$set({visible:!1}),m.$destroy())}function I(B){rr.call(this,n,B)}function A(B){Ue[B?"unshift":"push"](()=>{h=B,t(6,h)})}return n.$$set=B=>{"item"in B&&t(1,a=B.item),"curIndex"in B&&t(0,o=B.curIndex),"index"in B&&t(2,c=B.index)},n.$$.update=()=>{n.$$.dirty&1034&&k(a,s,i),n.$$.dirty&2&&E(a)},[o,a,c,s,f,d,h,v,T,w,i,I,A]}let tE=class extends je{constructor(e){super(),We(this,e,eE,x3,Dp,{item:1,curIndex:0,index:2})}};function Xf(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function Jf(n){let e,t,r;function l(s){n[4](s)}let i={item:n[5],index:n[7]};return n[2]!==void 0&&(i.curIndex=n[2]),e=new tE({props:i}),Ue.push(()=>Ge(e,"curIndex",l)),e.$on("click",function(){Bt(n[3](n[5]))&&n[3](n[5]).apply(this,arguments)}),{c(){le(e.$$.fragment)},l(s){ae(e.$$.fragment,s)},m(s,a){ie(e,s,a),r=!0},p(s,a){n=s;const o={};a&1&&(o.item=n[5]),!t&&a&4&&(t=!0,o.curIndex=n[2],Ye(()=>t=!1)),e.$set(o)},i(s){r||(H(e.$$.fragment,s),r=!0)},o(s){U(e.$$.fragment,s),r=!1},d(s){se(e,s)}}}function nE(n){let e,t,r=n[0],l=[];for(let s=0;s<r.length;s+=1)l[s]=Jf(Xf(n,r,s));const i=s=>U(l[s],1,1,()=>{l[s]=null});return{c(){e=g("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);for(let o=0;o<l.length;o+=1)l[o].l(a);a.forEach(p),this.h()},h(){_(e,"class","f1 f12 fw2 H-ljan74"),$e(e,"ask",n[1])},m(s,a){Y(s,e,a);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);t=!0},p(s,[a]){if(a&13){r=s[0];let o;for(o=0;o<r.length;o+=1){const c=Xf(s,r,o);l[o]?(l[o].p(c,a),H(l[o],1)):(l[o]=Jf(c),l[o].c(),H(l[o],1),l[o].m(e,null))}for(Ze(),o=r.length;o<l.length;o+=1)i(o);xe()}(!t||a&2)&&$e(e,"ask",s[1])},i(s){if(!t){for(let a=0;a<r.length;a+=1)H(l[a]);t=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)U(l[a]);t=!1},d(s){s&&p(e),sn(l,s)}}}function rE(n,e,t){let{items:r=[]}=e,{ask:l=!1}=e,i=-1;function s(o){return function(){vt.send("global","spot-price-click",{price:o.priceEp})}}function a(o){i=o,t(2,i)}return n.$$set=o=>{"items"in o&&t(0,r=o.items),"ask"in o&&t(1,l=o.ask)},[r,l,i,s,a]}let ps=class extends je{constructor(e){super(),We(this,e,rE,nE,Fe,{items:0,ask:1})}};function lE(n){var h;let e,t,r,l,i,s,a=(((h=n[2])==null?void 0:h.closeMoneyWU)||"-")+"",o,c,f,d;return r=new np({props:{showArrow:!0,symbol:n[1].symbol,size:"f16",market:n[1].status==="Listed"?n[0]:n[2],items:n[3]}}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),i=g("div"),s=q("≈"),o=q(a),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"DIV",{});var k=y(t);ae(r.$$.fragment,k),k.forEach(p),l=C(v),i=b(v,"DIV",{class:!0});var E=y(i);s=D(E,"≈"),o=D(E,a),E.forEach(p),v.forEach(p),this.h()},h(){_(i,"class","money T2 f12 wsn H-7vvs7o"),_(e,"class","wrap df aic ph16 f14 fw2 H-7vvs7o")},m(m,v){Y(m,e,v),u(e,t),ie(r,t,null),u(e,l),u(e,i),u(i,s),u(i,o),c=!0,f||(d=Je(t,"click",n[4]),f=!0)},p(m,[v]){var E;const k={};v&2&&(k.symbol=m[1].symbol),v&7&&(k.market=m[1].status==="Listed"?m[0]:m[2]),v&8&&(k.items=m[3]),r.$set(k),(!c||v&4)&&a!==(a=(((E=m[2])==null?void 0:E.closeMoneyWU)||"-")+"")&&N(o,a)},i(m){c||(H(r.$$.fragment,m),c=!0)},o(m){U(r.$$.fragment,m),c=!1},d(m){m&&p(e),se(r),f=!1,d()}}}function iE(n,e,t){let r,l,i,s;ne(n,Fl,o=>t(0,r=o)),ne(n,Ht,o=>t(1,l=o)),ne(n,Un,o=>t(2,i=o)),ne(n,Nd,o=>t(3,s=o));function a(){vt.send("global","spot-price-click",{price:r.closeEp})}return[r,l,i,s,a]}let Qa=class extends je{constructor(e){super(),We(this,e,iE,lE,Fe,{})}};function sE(n){let e,t,r,l;return e=new Qa({}),r=new ps({props:{items:n[4]}}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment)},l(i){ae(e.$$.fragment,i),t=C(i),ae(r.$$.fragment,i)},m(i,s){ie(e,i,s),Y(i,t,s),ie(r,i,s),l=!0},p(i,s){const a={};s&16&&(a.items=i[4]),r.$set(a)},i(i){l||(H(e.$$.fragment,i),H(r.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),U(r.$$.fragment,i),l=!1},d(i){se(e,i),i&&p(t),se(r,i)}}}function aE(n){let e,t,r,l;return e=new ps({props:{ask:!0,items:n[5].reverse()}}),r=new Qa({}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment)},l(i){ae(e.$$.fragment,i),t=C(i),ae(r.$$.fragment,i)},m(i,s){ie(e,i,s),Y(i,t,s),ie(r,i,s),l=!0},p(i,s){const a={};s&32&&(a.items=i[5].reverse()),e.$set(a)},i(i){l||(H(e.$$.fragment,i),H(r.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),U(r.$$.fragment,i),l=!1},d(i){se(e,i),i&&p(t),se(r,i)}}}function oE(n){let e,t,r,l,i,s;return e=new ps({props:{ask:!0,items:n[5].reverse()}}),r=new Qa({}),i=new ps({props:{items:n[4]}}),{c(){le(e.$$.fragment),t=S(),le(r.$$.fragment),l=S(),le(i.$$.fragment)},l(a){ae(e.$$.fragment,a),t=C(a),ae(r.$$.fragment,a),l=C(a),ae(i.$$.fragment,a)},m(a,o){ie(e,a,o),Y(a,t,o),ie(r,a,o),Y(a,l,o),ie(i,a,o),s=!0},p(a,o){const c={};o&32&&(c.items=a[5].reverse()),e.$set(c);const f={};o&16&&(f.items=a[4]),i.$set(f)},i(a){s||(H(e.$$.fragment,a),H(r.$$.fragment,a),H(i.$$.fragment,a),s=!0)},o(a){U(e.$$.fragment,a),U(r.$$.fragment,a),U(i.$$.fragment,a),s=!1},d(a){se(e,a),a&&p(t),se(r,a),a&&p(l),se(i,a)}}}function Zf(n){let e,t,r,l;const i=[oE,aE,sE],s=[];function a(o,c){return o[9]===ta.DEFAULT?0:o[9]===ta.SELL?1:o[9]===ta.BUY?2:-1}return~(t=a(n))&&(r=s[t]=i[t](n)),{c(){e=g("div"),r&&r.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var c=y(e);r&&r.l(c),c.forEach(p),this.h()},h(){_(e,"class","df fdc f1")},m(o,c){Y(o,e,c),~t&&s[t].m(e,null),l=!0},p(o,c){let f=t;t=a(o),t===f?~t&&s[t].p(o,c):(r&&(Ze(),U(s[f],1,1,()=>{s[f]=null}),xe()),~t?(r=s[t],r?r.p(o,c):(r=s[t]=i[t](o),r.c()),H(r,1),r.m(e,null)):r=null)},i(o){l||(H(r),l=!0)},o(o){U(r),l=!1},d(o){o&&p(e),~t&&s[t].d()}}}function uE(n){let e,t,r,l,i,s,a,o,c,f,d,h,m,v,k,E,T,w,I,A,B,V,$,P=n[3],z,F,O,M,L;r=new X1({});function Q(J){n[14](J)}let j={options:n[7]};n[1]!==void 0&&(j.value=n[1]),a=new Bs({props:j}),Ue.push(()=>Ge(a,"value",Q)),a.$on("change",n[10]);function K(J){n[15](J)}let W={options:n[6]};n[0]!==void 0&&(W.value=n[0]),E=new Gd({props:W}),Ue.push(()=>Ge(E,"value",K)),V=new Y3({props:{percentType:n[0],spot:n[2]}});let Z=Zf(n);return F=new J1({}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),l=S(),i=g("div"),s=g("div"),le(a.$$.fragment),c=S(),f=g("div"),d=g("i"),h=q(""),m=S(),v=g("div"),k=g("div"),le(E.$$.fragment),w=S(),I=g("div"),A=S(),B=g("div"),le(V.$$.fragment),$=S(),Z.c(),z=S(),le(F.$$.fragment),this.h()},l(J){e=b(J,"DIV",{class:!0});var R=y(e);t=b(R,"DIV",{class:!0});var X=y(t);ae(r.$$.fragment,X),l=C(X),i=b(X,"DIV",{class:!0});var te=y(i);s=b(te,"DIV",{class:!0});var oe=y(s);ae(a.$$.fragment,oe),oe.forEach(p),c=C(te),f=b(te,"DIV",{class:!0});var x=y(f);d=b(x,"I",{class:!0});var de=y(d);h=D(de,""),de.forEach(p),m=C(x),v=b(x,"DIV",{class:!0});var G=y(v);k=b(G,"DIV",{class:!0});var re=y(k);ae(E.$$.fragment,re),w=C(re),I=b(re,"DIV",{class:!0}),y(I).forEach(p),re.forEach(p),G.forEach(p),x.forEach(p),te.forEach(p),X.forEach(p),A=C(R),B=b(R,"DIV",{class:!0});var ge=y(B);ae(V.$$.fragment,ge),$=C(ge),Z.l(ge),z=C(ge),ae(F.$$.fragment,ge),ge.forEach(p),R.forEach(p),this.h()},h(){_(s,"class","options ml8 H-18isusz"),_(d,"class","iconfont ml8 T3 f12"),_(I,"class","triangle pa H-18isusz"),_(k,"class","pr"),_(v,"class","dropdown pa B3 br8 H-18isusz"),_(f,"class","df setting pr cp H-18isusz"),_(i,"class","df aic"),_(t,"class","df aic jcsb ph16 lh36"),_(B,"class","body f1 df fdc B1 H-18isusz"),$e(B,"no-animation",n[8].orderBookAnimations===!1),_(e,"class","wp100 df fdc B1 f1")},m(J,R){Y(J,e,R),u(e,t),ie(r,t,null),u(t,l),u(t,i),u(i,s),ie(a,s,null),u(i,c),u(i,f),u(f,d),u(d,h),u(f,m),u(f,v),u(v,k),ie(E,k,null),u(k,w),u(k,I),u(e,A),u(e,B),ie(V,B,null),u(B,$),Z.m(B,null),u(B,z),ie(F,B,null),O=!0,M||(L=Je(i,"mousedown",dE),M=!0)},p(J,[R]){const X={};R&128&&(X.options=J[7]),!o&&R&2&&(o=!0,X.value=J[1],Ye(()=>o=!1)),a.$set(X);const te={};R&64&&(te.options=J[6]),!T&&R&1&&(T=!0,te.value=J[0],Ye(()=>T=!1)),E.$set(te);const oe={};R&1&&(oe.percentType=J[0]),R&4&&(oe.spot=J[2]),V.$set(oe),R&8&&Fe(P,P=J[3])?(Ze(),U(Z,1,1,Qe),xe(),Z=Zf(J),Z.c(),H(Z,1),Z.m(B,z)):Z.p(J,R),(!O||R&256)&&$e(B,"no-animation",J[8].orderBookAnimations===!1)},i(J){O||(H(r.$$.fragment,J),H(a.$$.fragment,J),H(E.$$.fragment,J),H(V.$$.fragment,J),H(Z),H(F.$$.fragment,J),O=!0)},o(J){U(r.$$.fragment,J),U(a.$$.fragment,J),U(E.$$.fragment,J),U(V.$$.fragment,J),U(Z),U(F.$$.fragment,J),O=!1},d(J){J&&p(e),se(r),se(a),se(E),se(V),Z.d(J),se(F),M=!1,L()}}}function cE(n){localStorage.setItem("order-book-type",n)}function xf(n,e){return n.map(t=>fE(t,e))}function fE(n,e){const t=e.filter(r=>r.price===n.price&&!r.removable);return Object.assign(Object.assign({},n),{orders:t})}const dE=n=>n.stopPropagation();function pE(n,e,t){let r,l,i,s,a,o,c;ne(n,H1,P=>t(7,r=P)),ne(n,Ht,P=>t(2,l=P)),ne(n,it,P=>t(11,i=P)),ne(n,jd,P=>t(12,s=P)),ne(n,_a,P=>t(13,a=P)),ne(n,Dr,P=>t(8,o=P)),ne(n,lu,P=>t(9,c=P));let f="",d=[],h=[],m=T(),v=0,k=[];Ct(()=>{const z=Br([Wd,lu]).pipe(Wt(([F,O])=>[F.items.find(({id:M})=>M==="BookTradesView"),O]),Wt(Z1)).subscribe(F=>Il.next({type:"order-book-depth",depth:F}));return function(){z.unsubscribe()}});function E(P,z){if(P.reset){t(3,f=P.symbol),t(4,d=[]),t(5,h=[]);return}const F=z.filter(O=>O.symbol===P.symbol);t(4,d=xf(P.bids,F)),t(5,h=xf(P.asks,F))}function T(){return localStorage.getItem("order-book-type")||ea.Each}function w(P){t(6,k=[{text:P(mn.Each),value:ea.Each},{text:P(mn.Stack),value:ea.Stack}])}function I(P){const z=P.detail,{symbol:F}=l;xo.updateSpotSymbolStorage(F,{symbol:F,tickSizeEp:z})}function A(P,z){t(1,v=P.quoteTickSizeEv);const{tickSizeEp:F,symbol:O}=z.readSpotSymbolStorage(P.symbol);if(P.symbol!==O)return;const M=r.map(L=>L.value);t(1,v=M.includes(F)?F:P.quoteTickSizeEv)}function B(P){Il.next({type:"book-step-size",tradeType:"Spot",stepSizeEx:P})}function V(P){v=P,t(1,v)}function $(P){m=P,t(0,m)}return n.$$.update=()=>{n.$$.dirty&1&&Il.next({type:"order-book-type",percentType:m}),n.$$.dirty&1&&cE(m),n.$$.dirty&12288&&E(a,s),n.$$.dirty&2048&&w(i),n.$$.dirty&4&&A(l,xo),n.$$.dirty&2&&B(v)},[m,v,l,f,d,h,k,r,o,c,I,i,s,a,V,$]}let hE=class extends je{constructor(e){super(),We(this,e,pE,uE,Fe,{})}};const wl={Price:"0cc510",Amount:"d04583",Time:"905106"};function mE(n){let e,t,r=n[0](wl.Price)+"",l,i,s,a=n[0](wl.Amount)+"",o,c,f,d=n[0](wl.Time)+"",h;return{c(){e=g("div"),t=g("div"),l=q(r),i=S(),s=g("div"),o=q(a),c=S(),f=g("div"),h=q(d),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"DIV",{class:!0});var k=y(t);l=D(k,r),k.forEach(p),i=C(v),s=b(v,"DIV",{class:!0});var E=y(s);o=D(E,a),E.forEach(p),c=C(v),f=b(v,"DIV",{class:!0});var T=y(f);h=D(T,d),T.forEach(p),v.forEach(p),this.h()},h(){_(t,"class","col f2 H-18g2kra"),_(s,"class","col f2 tr wsn H-18g2kra"),_(f,"class","col f3 tr H-18g2kra"),_(e,"class","row df lh24 mt5 T2 H-18g2kra")},m(m,v){Y(m,e,v),u(e,t),u(t,l),u(e,i),u(e,s),u(s,o),u(e,c),u(e,f),u(f,h)},p(m,[v]){v&1&&r!==(r=m[0](wl.Price)+"")&&N(l,r),v&1&&a!==(a=m[0](wl.Amount)+"")&&N(o,a),v&1&&d!==(d=m[0](wl.Time)+"")&&N(h,d)},i:Qe,o:Qe,d(m){m&&p(e)}}}function _E(n,e,t){let r;return ne(n,it,l=>t(0,r=l)),[r]}let vE=class extends je{constructor(e){super(),We(this,e,_E,mE,Fe,{})}};function gE(n){let e,t,r=n[0].price+"",l,i,s,a,o=n[0].sizeStr+"",c,f,d,h,m=n[0].time+"",v;return{c(){e=g("div"),t=g("div"),l=q(r),s=S(),a=g("div"),c=q(o),d=S(),h=g("div"),v=q(m),this.h()},l(k){e=b(k,"DIV",{class:!0});var E=y(e);t=b(E,"DIV",{class:!0,"data-price":!0});var T=y(t);l=D(T,r),T.forEach(p),s=C(E),a=b(E,"DIV",{class:!0,"data-size":!0});var w=y(a);c=D(w,o),w.forEach(p),d=C(E),h=b(E,"DIV",{class:!0});var I=y(h);v=D(I,m),I.forEach(p),E.forEach(p),this.h()},h(){_(t,"class","trade-price f2 pl16 cp H-12t32yz"),_(t,"data-price",i=n[0].price),$e(t,"up",n[0].up),$e(t,"down",n[0].down),_(a,"class","trade-size f2 tr cp T1 H-12t32yz"),_(a,"data-size",f=n[0].size),_(h,"class","time f3 tr T1 H-12t32yz"),_(e,"class","row f1 df lh22 fw2 H-12t32yz"),$e(e,"buy",n[0].buy),$e(e,"sell",n[0].sell),$e(e,"fa",n[0].fa),$e(e,"fb",n[0].fb)},m(k,E){Y(k,e,E),u(e,t),u(t,l),u(e,s),u(e,a),u(a,c),u(e,d),u(e,h),u(h,v)},p(k,[E]){E&1&&r!==(r=k[0].price+"")&&N(l,r),E&1&&i!==(i=k[0].price)&&_(t,"data-price",i),E&1&&$e(t,"up",k[0].up),E&1&&$e(t,"down",k[0].down),E&1&&o!==(o=k[0].sizeStr+"")&&N(c,o),E&1&&f!==(f=k[0].size)&&_(a,"data-size",f),E&1&&m!==(m=k[0].time+"")&&N(v,m),E&1&&$e(e,"buy",k[0].buy),E&1&&$e(e,"sell",k[0].sell),E&1&&$e(e,"fa",k[0].fa),E&1&&$e(e,"fb",k[0].fb)},i:Qe,o:Qe,d(k){k&&p(e)}}}function bE(n,e,t){let{item:r=null}=e;return n.$$set=l=>{"item"in l&&t(0,r=l.item)},[r]}let yE=class extends je{constructor(e){super(),We(this,e,bE,gE,Fe,{item:0})}};function ed(n,e,t){const r=n.slice();return r[2]=e[t],r}function td(n){let e,t;return e=new yE({props:{item:n[2]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.item=r[2]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function EE(n){let e,t,r,l,i,s,a;t=new vE({});let o=n[0],c=[];for(let d=0;d<o.length;d+=1)c[d]=td(ed(n,o,d));const f=d=>U(c[d],1,1,()=>{c[d]=null});return{c(){e=g("div"),le(t.$$.fragment),r=S(),l=g("div");for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=b(d,"DIV",{class:!0});var h=y(e);ae(t.$$.fragment,h),r=C(h),l=b(h,"DIV",{class:!0});var m=y(l);for(let v=0;v<c.length;v+=1)c[v].l(m);m.forEach(p),h.forEach(p),this.h()},h(){_(l,"class","body sv f1 H-hejp7s"),_(e,"class","wrap f1 df fdc f12 B1 H-hejp7s")},m(d,h){Y(d,e,h),ie(t,e,null),u(e,r),u(e,l);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(l,null);i=!0,s||(a=Je(l,"click",n[1]),s=!0)},p(d,[h]){if(h&1){o=d[0];let m;for(m=0;m<o.length;m+=1){const v=ed(d,o,m);c[m]?(c[m].p(v,h),H(c[m],1)):(c[m]=td(v),c[m].c(),H(c[m],1),c[m].m(l,null))}for(Ze(),m=o.length;m<c.length;m+=1)f(m);xe()}},i(d){if(!i){H(t.$$.fragment,d);for(let h=0;h<o.length;h+=1)H(c[h]);i=!0}},o(d){U(t.$$.fragment,d),c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)U(c[h]);i=!1},d(d){d&&p(e),se(t),sn(c,d),s=!1,a()}}}function kE(n,e,t){let r;ne(n,g1,i=>t(0,r=i));function l(i){if(i.target.classList.contains("trade-price")){const s=i.target.dataset.price;vt.send("global","price-click",{price:s});return}if(i.target.classList.contains("trade-size")){const s=i.target.dataset.size;vt.send("global","quantity-click",{quantity:s})}}return[r,l]}let wE=class extends je{constructor(e){super(),We(this,e,kE,EE,Fe,{})}};function nd(n,e,t){const r=n.slice();return r[7]=e[t],r}function rd(n){let e,t=n[7].text+"",r,l,i;return{c(){e=g("div"),r=q(t),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);r=D(a,t),a.forEach(p),this.h()},h(){_(e,"class","tab cp f14 T3 fw2 H-hp89ek"),$e(e,"active",n[7].value===n[0])},m(s,a){Y(s,e,a),u(e,r),l||(i=[Je(e,"click",function(){Bt(n[2](n[7]))&&n[2](n[7]).apply(this,arguments)}),Je(e,"mousedown",Ln(n[5]))],l=!0)},p(s,a){n=s,a&2&&t!==(t=n[7].text+"")&&N(r,t),a&3&&$e(e,"active",n[7].value===n[0])},d(s){s&&p(e),l=!1,an(i)}}}function ld(n){let e,t;return e=new hE({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function id(n){let e,t;return e=new wE({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function $E(n){let e,t,r,l,i,s,a,o,c=n[1],f=[];for(let m=0;m<c.length;m+=1)f[m]=rd(nd(n,c,m));let d=n[0]==="Book"&&ld(),h=n[0]==="Trade"&&id();return{c(){e=g("div"),t=g("span");for(let m=0;m<f.length;m+=1)f[m].c();r=S(),l=g("div"),d&&d.c(),i=S(),h&&h.c(),this.h()},l(m){e=b(m,"DIV",{class:!0});var v=y(e);t=b(v,"SPAN",{class:!0});var k=y(t);for(let T=0;T<f.length;T+=1)f[T].l(k);k.forEach(p),r=C(v),l=b(v,"DIV",{class:!0});var E=y(l);d&&d.l(E),i=C(E),h&&h.l(E),E.forEach(p),v.forEach(p),this.h()},h(){_(t,"class","tabs df aic usn H-hp89ek"),_(l,"class","df f1"),_(e,"class","wrap wp100 df fdc bsbb ovh B1 H-hp89ek")},m(m,v){Y(m,e,v),u(e,t);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(t,null);u(e,r),u(e,l),d&&d.m(l,null),u(l,i),h&&h.m(l,null),s=!0,a||(o=Je(l,"mousedown",Ln(n[4])),a=!0)},p(m,[v]){if(v&7){c=m[1];let k;for(k=0;k<c.length;k+=1){const E=nd(m,c,k);f[k]?f[k].p(E,v):(f[k]=rd(E),f[k].c(),f[k].m(t,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=c.length}m[0]==="Book"?d?v&1&&H(d,1):(d=ld(),d.c(),H(d,1),d.m(l,i)):d&&(Ze(),U(d,1,1,()=>{d=null}),xe()),m[0]==="Trade"?h?v&1&&H(h,1):(h=id(),h.c(),H(h,1),h.m(l,null)):h&&(Ze(),U(h,1,1,()=>{h=null}),xe())},i(m){s||(H(d),H(h),s=!0)},o(m){U(d),U(h),s=!1},d(m){m&&p(e),sn(f,m),d&&d.d(),h&&h.d(),a=!1,o()}}}function SE(n,e,t){let r;ne(n,it,f=>t(3,r=f));let l="Book",i=[];function s(f){t(1,i=[{text:f(Ml.OrderBook),value:"Book"},{text:f(Vt.RecentTrades),value:"Trade"}])}function a(f){return()=>{t(0,l=f.value)}}function o(f){rr.call(this,n,f)}function c(f){rr.call(this,n,f)}return n.$$.update=()=>{n.$$.dirty&8&&s(r)},[l,i,a,r,o,c]}let CE=class extends je{constructor(e){super(),We(this,e,SE,$E,Fe,{})}};function TE(n){let e,t;return e=new eh({props:{coin:n[0].quoteCurrency,defaultTransferAccountType:n[2]}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p(r,l){const i={};l&1&&(i.coin=r[0].quoteCurrency),l&4&&(i.defaultTransferAccountType=r[2]),e.$set(i)},i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function sd(n){let e,t,r;return t=new th({props:{markets:n[1]}}),{c(){e=g("div"),le(t.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);ae(t.$$.fragment,i),i.forEach(p),this.h()},h(){_(e,"class","H-qz4k58"),$e(e,"mr6",n[3]===An.Right),$e(e,"ml6",n[3]===An.Left)},m(l,i){Y(l,e,i),ie(t,e,null),r=!0},p(l,i){const s={};i&2&&(s.markets=l[1]),t.$set(s),(!r||i&8)&&$e(e,"mr6",l[3]===An.Right),(!r||i&8)&&$e(e,"ml6",l[3]===An.Left)},i(l){r||(H(t.$$.fragment,l),r=!0)},o(l){U(t.$$.fragment,l),r=!1},d(l){l&&p(e),se(t)}}}function IE(n){let e,t,r;var l=n[4][n[10].id];function i(s){return{}}return l&&(e=as(l,i())),{c(){e&&le(e.$$.fragment),t=Ke()},l(s){e&&ae(e.$$.fragment,s),t=Ke()},m(s,a){e&&ie(e,s,a),Y(s,t,a),r=!0},p(s,a){if(a&1024&&l!==(l=s[4][s[10].id])){if(e){Ze();const o=e;U(o.$$.fragment,1,0,()=>{se(o,1)}),xe()}l?(e=as(l,i()),le(e.$$.fragment),H(e.$$.fragment,1),ie(e,t.parentNode,t)):e=null}},i(s){r||(e&&H(e.$$.fragment,s),r=!0)},o(s){e&&U(e.$$.fragment,s),r=!1},d(s){s&&p(t),e&&se(e,s)}}}function PE(n){let e,t,r,l,i,s,a,o=!n[5]&&TE(n),c=n[1].length>0&&sd(n);return l=new Gg({}),s=new x1({props:{placeOrderSide:n[3],$$slots:{default:[IE,({item:f})=>({10:f}),({item:f})=>f?1024:0]},$$scope:{ctx:n}}}),{c(){e=g("div"),o&&o.c(),t=S(),c&&c.c(),r=S(),le(l.$$.fragment),i=S(),le(s.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0,style:!0});var d=y(e);o&&o.l(d),t=C(d),c&&c.l(d),r=C(d),ae(l.$$.fragment,d),i=C(d),ae(s.$$.fragment,d),d.forEach(p),this.h()},h(){_(e,"class","f1"),yn(e,"overflow","hidden")},m(f,d){Y(f,e,d),o&&o.m(e,null),u(e,t),c&&c.m(e,null),u(e,r),ie(l,e,null),u(e,i),ie(s,e,null),a=!0},p(f,[d]){f[5]||o.p(f,d),f[1].length>0?c?(c.p(f,d),d&2&&H(c,1)):(c=sd(f),c.c(),H(c,1),c.m(e,r)):c&&(Ze(),U(c,1,1,()=>{c=null}),xe());const h={};d&8&&(h.placeOrderSide=f[3]),d&3072&&(h.$$scope={dirty:d,ctx:f}),s.$set(h)},i(f){a||(H(o),H(c),H(l.$$.fragment,f),H(s.$$.fragment,f),a=!0)},o(f){U(o),U(c),U(l.$$.fragment,f),U(s.$$.fragment,f),a=!1},d(f){f&&p(e),o&&o.d(),c&&c.d(),se(l),se(s)}}}function BE(n,e,t){let r,l,i,s,a,o,c,f;ne(n,oh,m=>t(7,s=m)),ne(n,ys,m=>t(8,a=m)),ne(n,pn,m=>t(9,o=m)),ne(n,Ht,m=>t(0,c=m)),ne(n,Ti,m=>t(3,f=m));const d={BookTradesView:CE,ChartView:bb,PositionOrderTabView:j3},h=b1.isMock();return n.$$.update=()=>{n.$$.dirty&1&&t(6,r=c),n.$$.dirty&832&&t(2,l=o?Xt.UtaTradingAccount:r.mode==="Margin"&&a?Xt.MarginTradeAccount:Xt.SpotWallet),n.$$.dirty&128&&t(1,i=s)},[c,i,l,f,d,h,r,s,a,o]}let qE=class extends je{constructor(e){super(),We(this,e,BE,PE,Fe,{})}};const wp=new Nl,$p=new Nl,ja=new Nl;let DE=0;const AE=NE($p,ja),Sp=Sr(O1,M1).pipe(tn(n=>Dr.getValue().orderNotify||n.type==="error"),Wt(UE),Ap()),VE=Sp.pipe(Wt(n=>function(e){return[...e,n]})),HE=Sp.pipe(Pd(2e3),Sd(AE),tn(([n,e])=>e.indexOf(n.id)<0),Wt(([n])=>n.id)),OE=ja.pipe(Pd(1e3)),ME=Sr(HE,OE,wp).pipe(Wt(n=>function(e){return e.filter(t=>t.id!==n)})),LE=Sr(VE,ME).pipe(oa((n,e)=>e(n),[]),aa([]));function NE(n,e){return Sr(n.pipe(Wt(t=>function(r){return r.indexOf(t)<0?[...r,t]:r})),e.pipe(Wt(t=>function(r){return r.filter(l=>l!==t)}))).pipe(oa((t,r)=>r(t),[]),aa([]))}function UE(n){const e=DE++,{type:t="info",title:r,content:l}=n;return{id:e,type:t,title:r,content:l}}function ad(n,e,t){const r=n.slice();return r[6]=e[t],r}function zE(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont type BLUE H-16p6tjc")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function FE(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0,style:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont type H-16p6tjc"),yn(e,"color","#ff6666")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function RE(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0,style:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont type H-16p6tjc"),yn(e,"color","#ebaf1a")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function QE(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont type BLUE H-16p6tjc")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function jE(n){let e,t;return{c(){e=g("i"),t=q(""),this.h()},l(r){e=b(r,"I",{class:!0});var l=y(e);t=D(l,""),l.forEach(p),this.h()},h(){_(e,"class","iconfont type BLUE H-16p6tjc")},m(r,l){Y(r,e,l),u(e,t)},d(r){r&&p(e)}}}function od(n){let e,t=n[6].content+"",r;return{c(){e=g("div"),r=q(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","content lh22 f14 T3 H-16p6tjc")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&2&&t!==(t=l[6].content+"")&&N(r,t)},d(l){l&&p(e)}}}function WE(n){let e,t=n[2](wt.DontShowAgain)+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ml4 T3 H-16p6tjc"),$e(e,"checked",n[0])},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&4&&t!==(t=l[2](wt.DontShowAgain)+"")&&N(r,t),i&1&&$e(e,"checked",l[0])},d(l){l&&p(e)}}}function ud(n,e){let t,r,l,i,s,a,o=e[6].title+"",c,f,d,h,m,v,k,E,T,w,I,A,B,V,$,P,z;function F(K,W){return K[6].type==="info"?jE:K[6].type==="success"?QE:K[6].type==="warning"?RE:K[6].type==="error"?FE:zE}let O=F(e),M=O(e),L=e[6].content&&od(e);function Q(K){e[5](K)}let j={class:"df aic jcfe lh24 f14 T2",$$slots:{default:[WE]},$$scope:{ctx:e}};return e[0]!==void 0&&(j.checked=e[0]),w=new yr({props:j}),Ue.push(()=>Ge(w,"checked",Q)),w.$on("change",e[4]),{key:n,first:null,c(){t=g("div"),r=g("div"),M.c(),l=S(),i=g("div"),s=g("div"),a=g("div"),c=q(o),f=S(),d=g("div"),h=g("i"),m=q(""),v=S(),L&&L.c(),k=S(),E=g("div"),T=g("div"),le(w.$$.fragment),A=S(),this.h()},l(K){t=b(K,"DIV",{class:!0});var W=y(t);r=b(W,"DIV",{class:!0});var Z=y(r);M.l(Z),l=C(Z),i=b(Z,"DIV",{class:!0});var J=y(i);s=b(J,"DIV",{class:!0});var R=y(s);a=b(R,"DIV",{class:!0});var X=y(a);c=D(X,o),X.forEach(p),f=C(R),d=b(R,"DIV",{class:!0});var te=y(d);h=b(te,"I",{class:!0});var oe=y(h);m=D(oe,""),oe.forEach(p),te.forEach(p),R.forEach(p),v=C(J),L&&L.l(J),J.forEach(p),Z.forEach(p),k=C(W),E=b(W,"DIV",{class:!0});var x=y(E);T=b(x,"DIV",{class:!0});var de=y(T);ae(w.$$.fragment,de),de.forEach(p),x.forEach(p),A=C(W),W.forEach(p),this.h()},h(){_(a,"class","title lh24 f1 f16 T2 H-16p6tjc"),_(h,"class","iconfont T3"),_(d,"class","close cp H-16p6tjc"),_(s,"class","df"),_(i,"class","f1"),_(r,"class","df"),_(T,"class","tr"),_(E,"class","tr"),_(t,"class","item p16 B3 H-16p6tjc"),this.first=t},m(K,W){Y(K,t,W),u(t,r),M.m(r,null),u(r,l),u(r,i),u(i,s),u(s,a),u(a,c),u(s,f),u(s,d),u(d,h),u(h,m),u(i,v),L&&L.m(i,null),u(t,k),u(t,E),u(E,T),ie(w,T,null),u(t,A),$=!0,P||(z=[Je(d,"click",function(){Bt(cd(e[6].id))&&cd(e[6].id).apply(this,arguments)}),Je(t,"mouseenter",function(){Bt(fd(e[6].id))&&fd(e[6].id).apply(this,arguments)}),Je(t,"mouseleave",function(){Bt(dd(e[6].id))&&dd(e[6].id).apply(this,arguments)})],P=!0)},p(K,W){e=K,O!==(O=F(e))&&(M.d(1),M=O(e),M&&(M.c(),M.m(r,l))),(!$||W&2)&&o!==(o=e[6].title+"")&&N(c,o),e[6].content?L?L.p(e,W):(L=od(e),L.c(),L.m(i,null)):L&&(L.d(1),L=null);const Z={};W&517&&(Z.$$scope={dirty:W,ctx:e}),!I&&W&1&&(I=!0,Z.checked=e[0],Ye(()=>I=!1)),w.$set(Z)},i(K){$||(H(w.$$.fragment,K),qr(()=>{$&&(V&&V.end(1),B=Vp(t,Hp,e[3]),B.start())}),$=!0)},o(K){U(w.$$.fragment,K),B&&B.invalidate(),V=Op(t,la,{}),$=!1},d(K){K&&p(t),M.d(),L&&L.d(),se(w),K&&V&&V.end(),P=!1,an(z)}}}function GE(n){let e,t=[],r=new Map,l,i=n[1];const s=a=>a[6].id;for(let a=0;a<i.length;a+=1){let o=ad(n,i,a),c=s(o);r.set(c,t[a]=ud(c,o))}return{c(){e=g("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var o=y(e);for(let c=0;c<t.length;c+=1)t[c].l(o);o.forEach(p),this.h()},h(){_(e,"class","wrap df fdc H-16p6tjc")},m(a,o){Y(a,e,o);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);l=!0},p(a,[o]){o&23&&(i=a[1],Ze(),t=_r(t,o,s,1,a,i,r,e,vr,ud,null,ad),xe())},i(a){if(!l){for(let o=0;o<i.length;o+=1)H(t[o]);l=!0}},o(a){for(let o=0;o<t.length;o+=1)U(t[o]);l=!1},d(a){a&&p(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function cd(n){return function(){wp.next(n)}}function fd(n){return function(){$p.next(n)}}function dd(n){return function(){ja.next(n)}}function YE(n,e,t){let r,l;ne(n,LE,c=>t(1,r=c)),ne(n,it,c=>t(2,l=c));const i={x:384,duration:300};let s=!1;async function a(c){await hr.modifyPreference({name:"orderNotify",operation:!c.target.checked}),vt.send("user-preference","refresh",null)}function o(c){s=c,t(0,s)}return[s,r,l,i,a,o]}let KE=class extends je{constructor(e){super(),We(this,e,YE,GE,Fe,{})}};const Cp=new Ul([]),Tp=new Ul(0),pd="SPOT_ANNOUNCEMENTS",hd={read(){return JSON.parse(localStorage.getItem(pd))||{lastTime:0}},checkLastTime(){const n=this.read();return new Date().valueOf()-n.lastTime>24*3600*1e3},updateLastTime(){const n=this.read();localStorage.setItem(pd,JSON.stringify({...n,lastTime:new Date().valueOf()}))}};Br([Qd,Nn]).pipe(tn(([,n])=>n!=="Init"),ra(([n,e])=>XE(Fd.getLanguageKey(n),e)),tn(Boolean)).subscribe(({rows:n,total:e})=>{Cp.next(n),Tp.next(e)});async function XE(n,e){let t={itemKey:"spot_announcement",lang:n};e==="Logout"&&(t.device=y1());const{data:r,error:l}=await(e==="Login"?iu.contentViewLogin(t):iu.contentVieLogout(t));return r||(l&&vt.send("toast","error",l),null)}function md(n,e,t){const r=n.slice();return r[21]=e[t],r[23]=t,r}const JE=n=>({item:n&32}),_d=n=>({item:n[21],index:n[23]});function ZE(n){let e,t=n[21]+"",r,l;return{c(){e=g("span"),r=q(t),l=S()},l(i){e=b(i,"SPAN",{});var s=y(e);r=D(s,t),s.forEach(p),l=C(i)},m(i,s){Y(i,e,s),u(e,r),Y(i,l,s)},p(i,s){s&32&&t!==(t=i[21]+"")&&N(r,t)},d(i){i&&p(e),i&&p(l)}}}function vd(n){let e;const t=n[14].item,r=Cr(t,n,n[13],_d),l=r||ZE(n);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,s){l&&l.m(i,s),e=!0},p(i,s){r?r.p&&(!e||s&8224)&&Tr(r,t,i,i[13],e?Pr(t,i[13],s,JE):Ir(i[13]),_d):l&&l.p&&(!e||s&32)&&l.p(i,e?s:-1)},i(i){e||(H(l,i),e=!0)},o(i){U(l,i),e=!1},d(i){l&&l.d(i)}}}function xE(n){let e,t,r,l,i,s,a,o=n[5],c=[];for(let d=0;d<o.length;d+=1)c[d]=vd(md(n,o,d));const f=d=>U(c[d],1,1,()=>{c[d]=null});return{c(){e=g("div"),t=g("div");for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=b(d,"DIV",{class:!0,style:!0});var h=y(e);t=b(h,"DIV",{class:!0,style:!0});var m=y(t);for(let v=0;v<c.length;v+=1)c[v].l(m);m.forEach(p),h.forEach(p),this.h()},h(){_(t,"class","source"),_(t,"style",r=`${n[4]}transform: translateY(-${(n[2]-1)*n[1]}px);${n[3]}`),_(e,"class",l="wrap "+n[0]+" H-1eaq18o"),_(e,"style",n[4])},m(d,h){Y(d,e,h),u(e,t);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(t,null);i=!0,s||(a=[Je(e,"mouseenter",n[6]),Je(e,"mouseleave",n[7])],s=!0)},p(d,[h]){if(h&8224){o=d[5];let m;for(m=0;m<o.length;m+=1){const v=md(d,o,m);c[m]?(c[m].p(v,h),H(c[m],1)):(c[m]=vd(v),c[m].c(),H(c[m],1),c[m].m(t,null))}for(Ze(),m=o.length;m<c.length;m+=1)f(m);xe()}(!i||h&30&&r!==(r=`${d[4]}transform: translateY(-${(d[2]-1)*d[1]}px);${d[3]}`))&&_(t,"style",r),(!i||h&1&&l!==(l="wrap "+d[0]+" H-1eaq18o"))&&_(e,"class",l),(!i||h&16)&&_(e,"style",d[4])},i(d){if(!i){for(let h=0;h<o.length;h+=1)H(c[h]);i=!0}},o(d){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)U(c[h]);i=!1},d(d){d&&p(e),sn(c,d),s=!1,an(a)}}}function e4(n,e,t){let r,l,i,s,{$$slots:a={},$$scope:o}=e,{class:c=""}=e,{itemSize:f=36}=e,{transitionDuration:d=300}=e,{autoTime:h=5e3}=e,{source:m=[]}=e,v=1,k=!1,E=!1,T=null;Ct(()=>{w(),d>h&&(console.warn("'autoTime' needs to be greater than 'transitionDuration'"),t(8,h=d+100))});function w(){r<=1||(T&&window.clearTimeout(T),T=setTimeout(()=>{t(2,v=v+1)},h))}function I(){setTimeout(async()=>{t(11,k=!1),E&&(await ms(),t(2,v=v-r))},d)}async function A(P){if(E){E=!1;return}t(11,k=!0),P>r&&(E=!0),w()}function B(){t(11,k=!1),window.clearTimeout(T)}function V(){B()}function $(){w()}return n.$$set=P=>{"class"in P&&t(0,c=P.class),"itemSize"in P&&t(1,f=P.itemSize),"transitionDuration"in P&&t(9,d=P.transitionDuration),"autoTime"in P&&t(8,h=P.autoTime),"source"in P&&t(10,m=P.source),"$$scope"in P&&t(13,o=P.$$scope)},n.$$.update=()=>{n.$$.dirty&1024&&t(12,r=m.length),n.$$.dirty&5120&&t(5,l=r>0?[...m,m[0]]:[]),n.$$.dirty&2&&t(4,i=`height: ${f}px;`),n.$$.dirty&4&&A(v),n.$$.dirty&2048&&k&&I(),n.$$.dirty&2560&&t(3,s=k?`transition: all ${d}ms ease-in;`:"")},[c,f,v,s,i,l,V,$,h,d,m,k,r,o,a]}let t4=class extends je{constructor(e){super(),We(this,e,e4,xE,Fe,{class:0,itemSize:1,transitionDuration:9,autoTime:8,source:10})}};function gd(n){let e,t,r,l,i,s,a,o,c,f,d;return i=new t4({props:{class:"f1 ml8 lh18 f14",itemSize:36,source:n[2],$$slots:{item:[l4,({item:h})=>({6:h}),({item:h})=>h?64:0]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("img"),l=S(),le(i.$$.fragment),s=S(),a=g("i"),o=q(""),this.h()},l(h){e=b(h,"DIV",{class:!0});var m=y(e);t=b(m,"IMG",{class:!0,width:!0,height:!0,src:!0,alt:!0}),l=C(m),ae(i.$$.fragment,m),s=C(m),a=b(m,"I",{class:!0});var v=y(a);o=D(v,""),v.forEach(p),m.forEach(p),this.h()},h(){_(t,"class","db"),_(t,"width","18"),_(t,"height","18"),Yt(t.src,r=n[3])||_(t,"src",r),_(t,"alt","announcement"),_(a,"class","close iconfont ml8 f16 cp H-1jbp4lk"),_(e,"class","wrap df aic jcsb ooo ph16 B1 H-1jbp4lk")},m(h,m){Y(h,e,m),u(e,t),u(e,l),ie(i,e,null),u(e,s),u(e,a),u(a,o),c=!0,f||(d=Je(a,"click",n[4]),f=!0)},p(h,m){const v={};m&4&&(v.source=h[2]),m&192&&(v.$$scope={dirty:m,ctx:h}),i.$set(v)},i(h){c||(H(i.$$.fragment,h),c=!0)},o(h){U(i.$$.fragment,h),c=!1},d(h){h&&p(e),se(i),f=!1,d()}}}function n4(n){let e,t=n[6].detail.title+"",r;return{c(){e=g("span"),r=q(t),this.h()},l(l){e=b(l,"SPAN",{class:!0});var i=y(e);r=D(i,t),i.forEach(p),this.h()},h(){_(e,"class","ooo mr8 TW")},m(l,i){Y(l,e,i),u(e,r)},p(l,i){i&64&&t!==(t=l[6].detail.title+"")&&N(r,t)},d(l){l&&p(e)}}}function r4(n){let e,t=n[6].detail.title+"",r,l,i,s,a,o,c;return{c(){e=g("a"),r=q(t),i=S(),s=g("span"),a=q(">"),this.h()},l(f){e=b(f,"A",{class:!0,href:!0});var d=y(e);r=D(d,t),d.forEach(p),i=C(f),s=b(f,"SPAN",{class:!0});var h=y(s);a=D(h,">"),h.forEach(p),this.h()},h(){_(e,"class","title ooo mr8 H-1jbp4lk"),_(e,"href",l=n[6].detail.webLink),_(s,"class","arrow H-1jbp4lk")},m(f,d){Y(f,e,d),u(e,r),Y(f,i,d),Y(f,s,d),u(s,a),o||(c=Je(e,"click",function(){Bt(n[5](n[6].detail.title))&&n[5](n[6].detail.title).apply(this,arguments)}),o=!0)},p(f,d){n=f,d&64&&t!==(t=n[6].detail.title+"")&&N(r,t),d&64&&l!==(l=n[6].detail.webLink)&&_(e,"href",l)},d(f){f&&p(e),f&&p(i),f&&p(s),o=!1,c()}}}function l4(n){let e;function t(i,s){return i[6].detail.webLink?r4:n4}let r=t(n),l=r(n);return{c(){e=g("div"),l.c(),this.h()},l(i){e=b(i,"DIV",{class:!0,slot:!0});var s=y(e);l.l(s),s.forEach(p),this.h()},h(){_(e,"class","item df aic H-1jbp4lk"),_(e,"slot","item")},m(i,s){Y(i,e,s),l.m(e,null)},p(i,s){r===(r=t(i))&&l?l.p(i,s):(l.d(1),l=r(i),l&&(l.c(),l.m(e,null)))},d(i){i&&p(e),l.d()}}}function i4(n){let e,t,r=n[0]&&n[1]>0&&gd(n);return{c(){r&&r.c(),e=Ke()},l(l){r&&r.l(l),e=Ke()},m(l,i){r&&r.m(l,i),Y(l,e,i),t=!0},p(l,[i]){l[0]&&l[1]>0?r?(r.p(l,i),i&3&&H(r,1)):(r=gd(l),r.c(),H(r,1),r.m(e.parentNode,e)):r&&(Ze(),U(r,1,1,()=>{r=null}),xe())},i(l){t||(H(r),t=!0)},o(l){U(r),t=!1},d(l){r&&r.d(l),l&&p(e)}}}function s4(n,e,t){let r,l;ne(n,Tp,c=>t(1,r=c)),ne(n,Cp,c=>t(2,l=c));const i=vs.STATIC_URL+"/pubimg/9a036dfa2fcf85fdeade95aa85898ae2734b217a48c5cec41d6e53b7d8f9bb80.png";let s=!1;Ct(()=>{t(0,s=hd.checkLastTime())});function a(){hd.updateLastTime(),t(0,s=!1)}function o(c){return function(){wr.track("web_click",{$screen_name:"Trade/Contract",$element_content:"announcement_"+c})}}return[s,r,l,i,a,o]}let a4=class extends je{constructor(e){super(),We(this,e,s4,i4,Fe,{})}};function o4(n){let e,t,r,l;const i=[{class:"amount f1 f12 lh20"},{operation:!1},{placeholder:n[16](Qt.InputQuantity)},n[14],{height:"20"}];function s(c){n[30](c)}function a(c){n[31](c)}let o={};for(let c=0;c<i.length;c+=1)o=ua(o,i[c]);return n[12]!==void 0&&(o.valueEx=n[12]),n[11]!==void 0&&(o.input=n[11]),e=new rp({props:o}),Ue.push(()=>Ge(e,"valueEx",s)),Ue.push(()=>Ge(e,"input",a)),{c(){le(e.$$.fragment)},l(c){ae(e.$$.fragment,c)},m(c,f){ie(e,c,f),l=!0},p(c,f){const d=f[0]&81920?ca(i,[i[0],i[1],f[0]&65536&&{placeholder:c[16](Qt.InputQuantity)},f[0]&16384&&ss(c[14]),i[4]]):{};!t&&f[0]&4096&&(t=!0,d.valueEx=c[12],Ye(()=>t=!1)),!r&&f[0]&2048&&(r=!0,d.input=c[11],Ye(()=>r=!1)),e.$set(d)},i(c){l||(H(e.$$.fragment,c),l=!0)},o(c){U(e.$$.fragment,c),l=!1},d(c){se(e,c)}}}function u4(n){let e,t,r,l,i;return{c(){e=g("div"),t=q(n[0]),r=q("%"),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=y(e);t=D(a,n[0]),r=D(a,"%"),a.forEach(p),this.h()},h(){_(e,"class","tc lh22 f12 cp")},m(s,a){Y(s,e,a),u(e,t),u(e,r),l||(i=Je(e,"click",n[19]),l=!0)},p(s,a){a[0]&1&&N(t,s[0])},i:Qe,o:Qe,d(s){s&&p(e),l=!1,i()}}}function c4(n){let e,t,r,l,i,s,a,o,c,f=n[16](Qt.SpotMarketBuy)+"",d,h,m,v,k,E,T,w=n[16](Qt.Amount)+"",I,A,B=(n[1]===Me.ByBase?n[2].baseCurrency:n[2].quoteCurrency)+"",V,$,P,z,F,O,M,L=n[16](Qt.SpotMarketSell)+"",Q,j,K,W,Z,J,R,X,te,oe,x,de=n[15].buy+"",G,re,ge,Ee,we,ee,me=n[15].sell+"",Se,qe,Ce,Be,ce;const fe=[u4,o4],Ve=[];function Ie(ve,ke){return ve[10]?0:1}P=Ie(n),z=Ve[P]=fe[P](n);function be(ve){n[33](ve)}let _e={options:n[17]};return n[0]!==void 0&&(_e.percent=n[0]),ge=new tp({props:_e}),Ue.push(()=>Ge(ge,"percent",be)),ge.$on("change",n[34]),{c(){e=g("div"),t=g("div"),r=g("div"),l=g("i"),i=q(""),s=S(),a=g("div"),o=g("div"),c=g("div"),d=q(f),h=S(),m=g("div"),v=q(n[8]),k=S(),E=g("div"),T=g("div"),I=q(w),A=S(),V=q(B),$=S(),z.c(),F=S(),O=g("div"),M=g("div"),Q=q(L),j=S(),K=g("div"),W=q(n[7]),Z=S(),J=g("div"),R=g("i"),X=q(""),te=S(),oe=g("div"),x=g("div"),G=q(de),re=S(),le(ge.$$.fragment),we=S(),ee=g("div"),Se=q(me),this.h()},l(ve){e=b(ve,"DIV",{class:!0});var ke=y(e);t=b(ke,"DIV",{class:!0});var Ne=y(t);r=b(Ne,"DIV",{class:!0});var Te=y(r);l=b(Te,"I",{class:!0});var He=y(l);i=D(He,""),He.forEach(p),Te.forEach(p),s=C(Ne),a=b(Ne,"DIV",{class:!0});var ye=y(a);o=b(ye,"DIV",{class:!0});var Pe=y(o);c=b(Pe,"DIV",{});var De=y(c);d=D(De,f),De.forEach(p),h=C(Pe),m=b(Pe,"DIV",{class:!0});var Re=y(m);v=D(Re,n[8]),Re.forEach(p),Pe.forEach(p),k=C(ye),E=b(ye,"DIV",{class:!0});var et=y(E);T=b(et,"DIV",{class:!0});var he=y(T);I=D(he,w),A=C(he),V=D(he,B),he.forEach(p),$=C(et),z.l(et),et.forEach(p),F=C(ye),O=b(ye,"DIV",{class:!0});var pe=y(O);M=b(pe,"DIV",{});var ue=y(M);Q=D(ue,L),ue.forEach(p),j=C(pe),K=b(pe,"DIV",{class:!0});var Ae=y(K);W=D(Ae,n[7]),Ae.forEach(p),pe.forEach(p),ye.forEach(p),Z=C(Ne),J=b(Ne,"DIV",{class:!0});var nt=y(J);R=b(nt,"I",{class:!0});var lt=y(R);X=D(lt,""),lt.forEach(p),nt.forEach(p),Ne.forEach(p),te=C(ke),oe=b(ke,"DIV",{class:!0});var st=y(oe);x=b(st,"DIV",{class:!0});var ft=y(x);G=D(ft,de),ft.forEach(p),re=C(st),ae(ge.$$.fragment,st),we=C(st),ee=b(st,"DIV",{class:!0});var mt=y(ee);Se=D(mt,me),mt.forEach(p),st.forEach(p),ke.forEach(p),this.h()},h(){_(l,"class","iconfont f12"),_(r,"class","drag-btn df aic jcc H-12s2qu6"),_(m,"class","mt4"),_(o,"class","btn buy-btn df fdc jcc tc ph8 H-12s2qu6"),$e(o,"pen",n[13]),_(T,"class","title f12 tc"),_(E,"class","main-box f1 df fdc H-12s2qu6"),_(K,"class","mt4"),_(O,"class","btn sell-btn df fdc jcc tc ph8 H-12s2qu6"),$e(O,"pen",n[13]),_(a,"class","main df aic f1 H-12s2qu6"),_(R,"class","iconfont f12"),_(J,"class","close cp tc H-12s2qu6"),_(t,"class","container df aic f1 H-12s2qu6"),_(x,"class","buy mr8"),_(ee,"class","sell ml8"),_(oe,"class","percentage-box df aic f12 jcc H-12s2qu6"),$e(oe,"dn",!n[9]),_(e,"class","wrap pa br4 usn T2 H-12s2qu6"),qr(()=>n[37].call(e))},m(ve,ke){Y(ve,e,ke),u(e,t),u(t,r),u(r,l),u(l,i),n[29](r),u(t,s),u(t,a),u(a,o),u(o,c),u(c,d),u(o,h),u(o,m),u(m,v),u(a,k),u(a,E),u(E,T),u(T,I),u(T,A),u(T,V),u(E,$),Ve[P].m(E,null),u(a,F),u(a,O),u(O,M),u(M,Q),u(O,j),u(O,K),u(K,W),u(t,Z),u(t,J),u(J,R),u(R,X),u(e,te),u(e,oe),u(oe,x),u(x,G),u(oe,re),ie(ge,oe,null),u(oe,we),u(oe,ee),u(ee,Se),n[36](e),qe=$i(e,n[37].bind(e)),Ce=!0,Be||(ce=[Je(o,"click",n[20]("Buy")),Je(E,"mouseenter",n[32]),Je(O,"click",n[20]("Sell")),Je(J,"click",n[18]),Je(oe,"mouseleave",n[35]),Je(e,"mouseleave",n[38])],Be=!0)},p(ve,ke){(!Ce||ke[0]&65536)&&f!==(f=ve[16](Qt.SpotMarketBuy)+"")&&N(d,f),(!Ce||ke[0]&256)&&N(v,ve[8]),(!Ce||ke[0]&8192)&&$e(o,"pen",ve[13]),(!Ce||ke[0]&65536)&&w!==(w=ve[16](Qt.Amount)+"")&&N(I,w),(!Ce||ke[0]&6)&&B!==(B=(ve[1]===Me.ByBase?ve[2].baseCurrency:ve[2].quoteCurrency)+"")&&N(V,B);let Ne=P;P=Ie(ve),P===Ne?Ve[P].p(ve,ke):(Ze(),U(Ve[Ne],1,1,()=>{Ve[Ne]=null}),xe(),z=Ve[P],z?z.p(ve,ke):(z=Ve[P]=fe[P](ve),z.c()),H(z,1),z.m(E,null)),(!Ce||ke[0]&65536)&&L!==(L=ve[16](Qt.SpotMarketSell)+"")&&N(Q,L),(!Ce||ke[0]&128)&&N(W,ve[7]),(!Ce||ke[0]&8192)&&$e(O,"pen",ve[13]),(!Ce||ke[0]&32768)&&de!==(de=ve[15].buy+"")&&N(G,de);const Te={};!Ee&&ke[0]&1&&(Ee=!0,Te.percent=ve[0],Ye(()=>Ee=!1)),ge.$set(Te),(!Ce||ke[0]&32768)&&me!==(me=ve[15].sell+"")&&N(Se,me),(!Ce||ke[0]&512)&&$e(oe,"dn",!ve[9])},i(ve){Ce||(H(z),H(ge.$$.fragment,ve),Ce=!0)},o(ve){U(z),U(ge.$$.fragment,ve),Ce=!1},d(ve){ve&&p(e),n[29](null),Ve[P].d(),se(ge),n[36](null),qe(),Be=!1,an(ce)}}}function f4(n,e,t){let r,l,i,s,a,o,c,f,d,h,m,v,k,E,T;ne(n,it,Ie=>t(16,s=Ie)),ne(n,zl,Ie=>t(22,a=Ie)),ne(n,ki,Ie=>t(23,o=Ie)),ne(n,Es,Ie=>t(24,c=Ie)),ne(n,Wd,Ie=>t(41,f=Ie)),ne(n,Ti,Ie=>t(42,d=Ie)),ne(n,E1,Ie=>t(43,h=Ie)),ne(n,gr,Ie=>t(44,m=Ie)),ne(n,_a,Ie=>t(25,v=Ie)),ne(n,Fl,Ie=>t(26,k=Ie)),ne(n,Ii,Ie=>t(27,E=Ie)),ne(n,Ht,Ie=>t(28,T=Ie));const w=Lt(),I=[25,50,75,100];let A=Bl.readSpotStorage().quickPlaceMarketOrder,B=!0,V=!1,$,P,z=0,F=0,O="0.00",M="0.00",L=0,Q=!1,j=!1,K=null,W=0,Z=!1,J={},R={buy:"-",sell:"-"};Ct(()=>{$&&t(4,P.onmousedown=function({button:Ie,pageX:be,pageY:_e,clientX:ve,clientY:ke}){if(sa.next(!0),Ie===2)return;const Ne=(be||ve)+document.documentElement.scrollLeft,Te=(_e||ke)+document.documentElement.scrollTop,He=Ne-$.offsetLeft,ye=Te-$.offsetTop;document.onmousemove=function({pageX:Pe,pageY:De,clientX:Re,clientY:et}){V=!0;const he=(Pe||Re)+document.documentElement.scrollLeft,pe=(De||et)+document.documentElement.scrollTop,{x:ue,y:Ae}=rh(he,He,pe,ye,m,h,z,F);t(3,$.style.left=ue+"px",$),t(3,$.style.top=Ae+"px",$),Bl.updateSpotStorage({quickPlaceMarketOrder:{x:ue,y:Ae}})}},P),document.onmouseup=function(){document.onmousemove=null,sa.next(!1)}}),Ct(()=>{if($){if(B){B=!1;const{x:Ie,y:be}=nh(m,h,d,f);t(3,$.style.left=Ie+"px",$),t(3,$.style.top=be+"px",$)}A&&!V&&(t(3,$.style.left=A.x+"px",$),t(3,$.style.top=A.y+"px",$),V=!1)}});function X(Ie,be){const{quoteQtyScale:_e,pricePrecision:ve}=be,{ask1Ep:ke,bid1Ep:Ne}=Ie;t(7,O=yt.delimit(yt.floor(ke,ve,_e))),t(8,M=yt.delimit(yt.floor(Ne,ve,_e)))}function te(){ki.next(Object.assign(Object.assign({},o),{quickPlaceMarketOrder:!1})),k1.next(),w("close")}async function oe(){t(0,L=0),t(10,j=!1),t(9,Q=!1),await ms(),K&&K.focus()}function x(Ie){return async function(){if(uh())return;const be={side:Ie,priceEp:i,ordType:"Market",symbol:r.symbol,qtyType:l,actionBy:"FromOrderPlacement",timeInForce:"ImmediateOrCancel",pegPriceType:"UNSPECIFIED",triggerType:"UNSPECIFIED"},_e=re(j,L,a,r,l,Ie,W);l===Me.ByBase&&(be.baseQtyEv=_e),l===Me.ByQuote&&(be.quoteQtyEv=_e);const ve=Ee(_e,l);if(ve){vt.send("toast","info",{message:ve});return}t(13,Z=!0),await Zd(be,r),t(13,Z=!1)}}function de(Ie,be){const _e=Ie===Me.ByBase,{baseQtyFactor:ve,quoteQtyFactor:ke,baseQtyScale:Ne,quoteQtyScale:Te,baseTickSizeEv:He,quoteQtyTickSizeEv:ye,baseQtyPrecision:Pe,quoteQtyPrecision:De,quoteTickSizeEv:Re,maxBaseOrderSizeEv:et,maxOrderValueEv:he}=be;t(14,J={precision:_e?Pe:De,scale:_e?Ne:Te,factor:_e?ve:ke,tickSizeEx:_e?He:ye,minEx:_e?He:Re,maxEx:_e?et:he})}function G(Ie,be,_e,ve,ke){const{baseCurrency:Ne,quoteCurrency:Te}=be,He=ve.find(({currency:lt})=>lt===Ne),ye=ve.find(({currency:lt})=>lt===Te);if(!He||!ye)return;const Pe=cn(ye,be,_e,Oe.Buy),De=cn(He,be,_e,Oe.Sell),Re=fn(ye,Oe.Buy,Ie,Pe),et=fn(He,Oe.Sell,Ie,De),{precision:he,scale:pe}=J,ue=yt.delimit(yt.floor(On(Re).times(ke).div(100),he,pe)),Ae=yt.delimit(yt.floor(On(et).times(ke).div(100),he,pe)),nt=Ie===Me.ByBase?Ne:Te;t(15,R={buy:ue+" "+nt,sell:Ae+" "+nt})}function re(Ie,be,_e,ve,ke,Ne,Te){const{baseCurrency:He,quoteCurrency:ye}=ve,Pe=_e.find(({currency:nt})=>nt===He),De=_e.find(({currency:nt})=>nt===ye);if(!Pe||!De)return;const Re=cn(De,ve,i,Oe.Buy),et=cn(Pe,ve,i,Oe.Sell),he=fn(De,Oe.Buy,ke,Re),pe=fn(Pe,Oe.Sell,ke,et),ue=On(he).times(be).div(100),Ae=On(pe).times(be).div(100);return Ie?zd(Ne===Oe.Buy?ue:Ae):Te}function ge(Ie,be){be&&(!Ie||!Ie.quickPlaceMarketOrder||be.tradeType!=="Spot")&&w("close")}function Ee(Ie,be){if(Ie<=0)return s(ut.QuantityError);const{minOrderValueEv:_e,minOrderValue:ve,maxOrderValueEv:ke}=r,Ne=Vn(r,rt.Market,i,l,Ie);if(be===Me.ByQuote&&Ie<_e||be===Me.ByBase&&Ne<_e)return s(ut.TransactionAmountCannot,{MinOrderValue:ve});if(be===Me.ByQuote&&Ie>ke||be===Me.ByBase&&Ne>ke)return s(ut.TheNumberOfOrders)}function we(Ie){Ue[Ie?"unshift":"push"](()=>{P=Ie,t(4,P)})}function ee(Ie){W=Ie,t(12,W)}function me(Ie){K=Ie,t(11,K)}const Se=()=>t(9,Q=!0);function qe(Ie){L=Ie,t(0,L)}const Ce=()=>t(10,j=!0),Be=()=>t(9,Q=!1);function ce(Ie){Ue[Ie?"unshift":"push"](()=>{$=Ie,t(3,$)})}function fe(){z=this.offsetWidth,F=this.offsetHeight,t(5,z),t(6,F)}const Ve=()=>t(9,Q=!1);return n.$$.update=()=>{n.$$.dirty[0]&268435456&&t(2,r=T),n.$$.dirty[0]&134217728&&t(1,l=E),n.$$.dirty[0]&67108864&&t(21,i=k?k.closeEp:0),n.$$.dirty[0]&33554436&&X(v,r),n.$$.dirty[0]&6&&de(l,r),n.$$.dirty[0]&6291463&&G(l,r,i,a,L),n.$$.dirty[0]&25165824&&ge(o,c)},[L,l,r,$,P,z,F,O,M,Q,j,K,W,Z,J,R,s,I,te,oe,x,i,a,o,c,v,k,E,T,we,ee,me,Se,qe,Ce,Be,ce,fe,Ve]}let d4=class extends je{constructor(e){super(),We(this,e,f4,c4,Fe,{},null,[-1,-1])}};function p4(n){let e,t,r,l,i,s,a;return e=new a4({}),l=new Sg({}),s=new qE({}),{c(){le(e.$$.fragment),t=S(),r=g("div"),le(l.$$.fragment),i=S(),le(s.$$.fragment),this.h()},l(o){ae(e.$$.fragment,o),t=C(o),r=b(o,"DIV",{class:!0,id:!0});var c=y(r);ae(l.$$.fragment,c),i=C(c),ae(s.$$.fragment,c),c.forEach(p),this.h()},h(){_(r,"class","df ais ovh H-1c0kb0h"),_(r,"id","body"),$e(r,"fdrr",n[4]===An.Right)},m(o,c){ie(e,o,c),Y(o,t,c),Y(o,r,c),ie(l,r,null),u(r,i),ie(s,r,null),a=!0},p(o,c){(!a||c&16)&&$e(r,"fdrr",o[4]===An.Right)},i(o){a||(H(e.$$.fragment,o),H(l.$$.fragment,o),H(s.$$.fragment,o),a=!0)},o(o){U(e.$$.fragment,o),U(l.$$.fragment,o),U(s.$$.fragment,o),a=!1},d(o){se(e,o),o&&p(t),o&&p(r),se(l),se(s)}}}function h4(n){let e=n[3].quickPlaceLimitOrder,t,r,l=bd();return{c(){l.c(),t=Ke()},l(i){l.l(i),t=Ke()},m(i,s){l.m(i,s),Y(i,t,s),r=!0},p(i,s){s&8&&Fe(e,e=i[3].quickPlaceLimitOrder)?(Ze(),U(l,1,1,Qe),xe(),l=bd(),l.c(),H(l,1),l.m(t.parentNode,t)):l.p(i,s)},i(i){r||(H(l),r=!0)},o(i){U(l),r=!1},d(i){i&&p(t),l.d(i)}}}function bd(n){let e,t;return e=new vp({}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function yd(n){let e,t;return e=new wa({props:{component:lh}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function Ed(n){let e,t,r,l;e=new wa({props:{component:KE}});let i=n[0]&&!n[1]&&n[3].quickPlaceMarketOrder&&kd();return{c(){le(e.$$.fragment),t=S(),i&&i.c(),r=Ke()},l(s){ae(e.$$.fragment,s),t=C(s),i&&i.l(s),r=Ke()},m(s,a){ie(e,s,a),Y(s,t,a),i&&i.m(s,a),Y(s,r,a),l=!0},p(s,a){s[0]&&!s[1]&&s[3].quickPlaceMarketOrder?i?(i.p(s,a),a&11&&H(i,1)):(i=kd(),i.c(),H(i,1),i.m(r.parentNode,r)):i&&(Ze(),U(i,1,1,()=>{i=null}),xe())},i(s){l||(H(e.$$.fragment,s),H(i),l=!0)},o(s){U(e.$$.fragment,s),U(i),l=!1},d(s){se(e,s),s&&p(t),i&&i.d(s),s&&p(r)}}}function kd(n){let e,t;return e=new wa({props:{component:d4}}),{c(){le(e.$$.fragment)},l(r){ae(e.$$.fragment,r)},m(r,l){ie(e,r,l),t=!0},p:Qe,i(r){t||(H(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){se(e,r)}}}function m4(n){let e,t,r,l,i,s;const a=[h4,p4],o=[];function c(h,m){return h[2]?0:1}e=c(n),t=o[e]=a[e](n);let f=n[0]&&yd(),d=n[5]==="Login"&&Ed(n);return{c(){t.c(),r=S(),f&&f.c(),l=S(),d&&d.c(),i=Ke()},l(h){t.l(h),r=C(h),f&&f.l(h),l=C(h),d&&d.l(h),i=Ke()},m(h,m){o[e].m(h,m),Y(h,r,m),f&&f.m(h,m),Y(h,l,m),d&&d.m(h,m),Y(h,i,m),s=!0},p(h,[m]){let v=e;e=c(h),e===v?o[e].p(h,m):(Ze(),U(o[v],1,1,()=>{o[v]=null}),xe(),t=o[e],t?t.p(h,m):(t=o[e]=a[e](h),t.c()),H(t,1),t.m(r.parentNode,r)),h[0]?f?(f.p(h,m),m&1&&H(f,1)):(f=yd(),f.c(),H(f,1),f.m(l.parentNode,l)):f&&(Ze(),U(f,1,1,()=>{f=null}),xe()),h[5]==="Login"?d?(d.p(h,m),m&32&&H(d,1)):(d=Ed(h),d.c(),H(d,1),d.m(i.parentNode,i)):d&&(Ze(),U(d,1,1,()=>{d=null}),xe())},i(h){s||(H(t),H(f),H(d),s=!0)},o(h){U(t),U(f),U(d),s=!1},d(h){o[e].d(h),h&&p(r),f&&f.d(h),h&&p(l),d&&d.d(h),h&&p(i)}}}function _4(n,e,t){let r,l,i,s,a,o,c,f,d;ne(n,Ht,v=>t(6,l=v)),ne(n,ws,v=>t(7,i=v)),ne(n,Si,v=>t(8,s=v)),ne(n,In,v=>t(9,a=v)),ne(n,Rd,v=>t(2,o=v)),ne(n,ki,v=>t(3,c=v)),ne(n,Ti,v=>t(4,f=v)),ne(n,Nn,v=>t(5,d=v));let h=!1;Ct(()=>{t(0,h=!0),Es.pipe(tn(Boolean),hs(1)).subscribe(v=>{L1(v)}),w1.next()});function m(v,k,E){v.userId>0&&k&&$s(E,k,v)&&It.create(v.isSub?Ss:Cs)}return n.$$.update=()=>{n.$$.dirty&512&&t(1,r=a==="Margin"),n.$$.dirty&448&&m(s,i,l)},[h,r,o,c,f,d,l,i,s,a]}class v4 extends je{constructor(e){super(),We(this,e,_4,m4,Fe,{})}}const Lw=v4;export{Lw as view};
//# sourceMappingURL=chunk-1f8a0956.js.map
